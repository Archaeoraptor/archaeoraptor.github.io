<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/uploads/wizard-hat-16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/uploads/wizard-hat-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/uploads/wizard-hat-16.png">
  <link rel="mask-icon" href="/uploads/wizard-hat-32.png" color="#222">
  <meta name="google-site-verification" content="4Rj54anORAwcoMXLe3miFnoH78ZtUZfdamS--ffoxVE">
  <meta name="msvalidate.01" content="872DC4637276109A6B54FF149DCABA8A">
  <meta name="yandex-verification" content="0d554b4a05a80f0d">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.loli.net/css?family=Noto+Serif+SC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"zhangjk98.xyz","root":"/","images":"/images","scheme":"Pisces","darkmode":"auto","version":"8.8.1","exturl":true,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"disqusjs","storage":true,"lazyload":false,"nav":{"disqusjs":{"text":"Load Disqus","order":-1},"utterances":{"order":-2}},"activeClass":"disqusjs"},"stickytabs":false,"motion":{"enable":true,"async":true,"transition":{"post_block":"none","post_header":"none","post_body":"none","coll_header":"none","sidebar":"none"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>
<meta name="description" content="2021年9月更新：听说fedora都上Pipiwire了，正好这几天有点空，那就试试吧">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux新一代音视频服务Pipewire尝鲜">
<meta property="og:url" content="https://zhangjk98.xyz/pipewire/index.html">
<meta property="og:site_name" content="止息的博客">
<meta property="og:description" content="2021年9月更新：听说fedora都上Pipiwire了，正好这几天有点空，那就试试吧">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://zhangjk98.xyz/pipewire/1607053618.png">
<meta property="og:image" content="https://zhangjk98.xyz/pipewire/1607053601.png">
<meta property="og:image" content="https://zhangjk98.xyz/pipewire/1606991672.png">
<meta property="og:image" content="https://zhangjk98.xyz/pipewire/1606992266.png">
<meta property="og:image" content="https://zhangjk98.xyz/pipewire/1606992430.png">
<meta property="og:image" content="https://zhangjk98.xyz/pipewire/1606992508.png">
<meta property="article:published_time" content="2020-12-03T07:58:26.000Z">
<meta property="article:author" content="Zhang.j.k">
<meta property="article:tag" content="pipewire">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhangjk98.xyz/pipewire/1607053618.png">


<link rel="canonical" href="https://zhangjk98.xyz/pipewire/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://zhangjk98.xyz/pipewire/","path":"pipewire/","title":"Linux新一代音视频服务Pipewire尝鲜"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Linux新一代音视频服务Pipewire尝鲜 | 止息的博客</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-143393734-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-143393734-1","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="止息的博客" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">止息的博客</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">唯见月寒日暖，来煎人寿</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">1.</span> <span class="nav-text">安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%93%9D%E7%89%99%E8%AE%BE%E5%A4%87"><span class="nav-number">1.1.</span> <span class="nav-text">蓝牙设备</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%B8%E8%BD%BD"><span class="nav-number">2.</span> <span class="nav-text">卸载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9B%B4%E6%96%B0%E4%B8%80%E7%82%B9%E5%AE%9E%E6%B5%8B"><span class="nav-number">3.</span> <span class="nav-text">更新一点实测</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%BA%E8%80%B3%E6%95%88%E6%9E%9C%E5%92%8C%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C"><span class="nav-number">3.1.</span> <span class="nav-text">人耳效果和使用体验</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%A2%E6%9D%BF%E5%8F%82%E6%95%B0"><span class="nav-number">3.2.</span> <span class="nav-text">面板参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-number">3.3.</span> <span class="nav-text">其他</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%93%E9%AA%8C"><span class="nav-number">4.</span> <span class="nav-text">体验</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9F%B3%E8%B4%A8"><span class="nav-number">4.1.</span> <span class="nav-text">音质</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">4.2.</span> <span class="nav-text">遇到的问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%80%E5%9D%91%E4%BF%9D%E5%B9%B3%E5%AE%89"><span class="nav-number">4.3.</span> <span class="nav-text">退坑保平安</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%A7%81"><span class="nav-number">5.</span> <span class="nav-text">参见</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Zhang.j.k"
      src="/uploads/jinmao.webp">
  <p class="site-author-name" itemprop="name">Zhang.j.k</p>
  <div class="site-description" itemprop="description">in darkest night</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">42</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">78</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FyY2hhZW9yYXB0b3I=" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;archaeoraptor"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="bWFpbHRvOnpoaXhpQHVlc3RjbHVnLm9yZw==" title="E-Mail → mailto:zhixi@uestclug.org"><i class="fa fa-envelope fa-fw"></i>E-Mail</span>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-rss fa-fw"></i>RSS</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <span class="exturl cc-opacity" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8="><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></span>
  </div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
      友链
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly96aGFuZ3NodXFpYW8ub3Jn" title="https:&#x2F;&#x2F;zhangshuqiao.org">米米的博客</span>
        </li>
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly95YW5xaXl1LmluZm8=" title="https:&#x2F;&#x2F;yanqiyu.info">Karuboniru's Blog</span>
        </li>
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLnNhbWNodS5jbg==" title="https:&#x2F;&#x2F;blog.samchu.cn">Sam's Blog</span>
        </li>
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly8yMzNoc3lzd2ViLm1s" title="https:&#x2F;&#x2F;233hsysweb.ml">花花</span>
        </li>
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly91ZXN0Yy5pY3U=" title="https:&#x2F;&#x2F;uestc.icu">uestc.icu</span>
        </li>
    </ul>
  </div>

        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <span class="exturl github-corner" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FyY2hhZW9yYXB0b3I=" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></span>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://zhangjk98.xyz/pipewire/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/jinmao.webp">
      <meta itemprop="name" content="Zhang.j.k">
      <meta itemprop="description" content="in darkest night">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="止息的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Linux新一代音视频服务Pipewire尝鲜
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-12-03 15:58:26" itemprop="dateCreated datePublished" datetime="2020-12-03T15:58:26+08:00">2020-12-03</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-12-08 11:42:38" itemprop="dateModified" datetime="2021-12-08T11:42:38+08:00">2021-12-08</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E4%B8%8D%E5%8A%A1%E6%AD%A3%E4%B8%9A%E7%B3%BB%E5%88%97/" itemprop="url" rel="index"><span itemprop="name">不务正业系列</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>2021年9月更新：<br>听说fedora都上Pipiwire了，正好这几天有点空，那就试试吧</p>
<span id="more"></span>

<p>Pipewire是红帽造的新一代音视频轮子，主要是用来取代PulseAudio、jack还有gstreams什么的。<br><strong>据说</strong>延迟补偿还不错，<strong>据说</strong>能统一音视频框架还兼容PulseAudio和Jack，据说是朝着专业级音效去的。据说支持Wayland和平板，据说支持Flatpak之类的容器内使用，据说有类似PolKit的权限管理，不需要像PulseAudio那样新建音频用户组和添加用户了。。。。</p>
<blockquote>
<p>It provides a low-latency, graph based processing engine on top of audio and video devices that can be used to support the use cases currently handled by both pulseaudio and JACK. PipeWire was designed with a powerful security model that makes interacting with audio and video devices from containerized applications easy, with supporting Flatpak applications being the primary goal. Alongside Wayland and Flatpak we expect PipeWire to provide a core building block for the future of Linux application development.</p>
</blockquote>
<p>都是据说啊，被Wayland骗了一次之后我已经不敢信这些宣传了，先试试实际效果再说。</p>
<p>当然这个目前貌似只正经适配了GNOME和Fedora，不过据说兼容PulseAudio，Arch上的坑已经有人踩了好久了，现在还有点小问题，不过可以考虑上了。<br>昨天刚把Arch和笔记本的EndeavourOS更了python 3.9，除了autojump出了点小问题外一切正常。索性直接上Pipewire看看吧，反正笔记本那个全损音质也跟没有一样，换了说不定能抢救一下。</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> pacman -S pipewire<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>要替代PulseAudio和Jack装这两个包<code>pipewire-pulse</code>、<code>pipewire-jack-dropin</code>。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yay -S pipewire-jack-dropin pipewire-pulse<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>然后systemd设置一下（archwiki说蓝牙设备需要手动设置一下，编辑<code>/etc/pipewire/pipewire.conf</code>，我手头没蓝牙耳机就不弄了）</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">systemctl <span class="token builtin class-name">enable</span> --user pipewire-pulse<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>然后退出登录或重启。</p>
<p>运行<code>pactl info</code>，如果看到</p>
<pre class="line-numbers language-log" data-language="log"><code class="language-log"><span class="token property">Server Name:</span> PulseAudio <span class="token operator">(</span>on PipeWire <span class="token number">0.3.17</span><span class="token operator">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>说明正常。</p>
<h3 id="蓝牙设备"><a href="#蓝牙设备" class="headerlink" title="蓝牙设备"></a>蓝牙设备</h3><p>感谢室友赞助的一个索尼蓝牙音箱用于测试</p>
<p>pipewire自带了蓝牙的模块，不需要像PulseAudio那样安装<code>pulseaudio-bluetooth</code>之类的包</p>
<p>安装了pipewire-pulse之后编辑<code>/etc/pipewire/pipewire.conf</code>在<code>exec /usr/bin/pipewire-media-session</code>后面加上<code>-e bluez5</code>就可以使用了。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">exec</span> /usr/bin/pipewire-media-session -e bluez5<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h2><p>换回PulseAudio或者Jack可以用这个<span class="exturl" data-url="aHR0cHM6Ly9naXRsYWIuZnJlZWRlc2t0b3Aub3JnL3BpcGV3aXJlL3BpcGV3aXJlLy0vc25pcHBldHMvMTE2NA==">脚本<i class="fa fa-external-link-alt"></i></span></p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> /usr/lib64/

<span class="token function">sudo</span> <span class="token function">rm</span> /usr/lib64/libpulse-mainloop-glib.so.0.999.0
<span class="token function">sudo</span> <span class="token function">rm</span> /usr/lib64/libpulse-simple.so.0.999.0
<span class="token function">sudo</span> <span class="token function">rm</span> /usr/lib64/libpulse.so.0.999.0

<span class="token function">sudo</span> <span class="token function">rm</span> /usr/lib64/libjack.so.0.999.0
<span class="token function">sudo</span> <span class="token function">rm</span> /usr/lib64/libjacknet.so.0.999.0
<span class="token function">sudo</span> <span class="token function">rm</span> /usr/lib64/libjackserver.so.0.999.0

<span class="token function">sudo</span> ldconfig<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>用pacman包管理器装的就</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">systemctl disable pipewire-pulse --user
systemctl disable pipewire --user
yay -Rs pipewire-pulse
yay -S pulseaudio<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="更新一点实测"><a href="#更新一点实测" class="headerlink" title="更新一点实测"></a>更新一点实测</h2><h3 id="人耳效果和使用体验"><a href="#人耳效果和使用体验" class="headerlink" title="人耳效果和使用体验"></a>人耳效果和使用体验</h3><p>昨天回到宿舍，发现笔记本的EndeavourOS更新python 3.9<br> Optimus-manager 出问题了，好在很快解决了。<br>然后在工具人室友的帮助下测试了绿联的外接声卡一块、某大法耳机一个音响一个，傻多戴显示器自带小音箱一个，均工作正常。</p>
<p><img src="/pipewire/1607053618.png"><br><img src="/pipewire/1607053601.png"></p>
<p>两种音质人耳都听不出差别，室友把两段音频放到Adobe Audition也看不出什么大区别</p>
<p>笔记本自带外放在KDE的设置中从其他音频播放设备切换过去之后出现没有声音的状况，经检查其实是有的，只是非常小，将声音调整到最大还是几乎要被笔记本的风扇声音盖住（这貌似不是pipewire的锅，），重启后外放音量恢复正常。<br>除了笔记本自带外放，在笔记本上音频切换KDE设置都没有出现卡死的状况，，声音也播放正常，没出现切换之后没声了的状况。</p>
<h3 id="面板参数"><a href="#面板参数" class="headerlink" title="面板参数"></a>面板参数</h3><p>笔记本使用原来的PulseAudio详情：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">Server String</span><span class="token punctuation">:</span> /run/user/1000/pulse/native
<span class="token key atrule">Library Protocol Version</span><span class="token punctuation">:</span> <span class="token number">34</span>
<span class="token key atrule">Server Protocol Version</span><span class="token punctuation">:</span> <span class="token number">34</span>
<span class="token key atrule">Is Local</span><span class="token punctuation">:</span> yes
<span class="token key atrule">Client Index</span><span class="token punctuation">:</span> <span class="token number">16</span>
<span class="token key atrule">Tile Size</span><span class="token punctuation">:</span> <span class="token number">65472</span>
<span class="token key atrule">User Name</span><span class="token punctuation">:</span> zjk
<span class="token key atrule">Host Name</span><span class="token punctuation">:</span> zjk<span class="token punctuation">-</span><span class="token number">7591</span>
<span class="token key atrule">Server Name</span><span class="token punctuation">:</span> pulseaudio
<span class="token key atrule">Server Version</span><span class="token punctuation">:</span> <span class="token number">14.0</span>
<span class="token key atrule">Default Sample Specification</span><span class="token punctuation">:</span> s16le 2ch 44100Hz
<span class="token key atrule">Default Channel Map</span><span class="token punctuation">:</span> front<span class="token punctuation">-</span>left<span class="token punctuation">,</span>front<span class="token punctuation">-</span>right
<span class="token key atrule">Default Sink</span><span class="token punctuation">:</span> alsa_output.pci<span class="token punctuation">-</span>0000_00_1f.3<span class="token punctuation">-</span>platform<span class="token punctuation">-</span>skl_hda_dsp_generic.HiFi__hw_sofhdadsp__sink
<span class="token key atrule">Default Source</span><span class="token punctuation">:</span> combined.monitor
<span class="token key atrule">Cookie</span><span class="token punctuation">:</span> 94e6<span class="token punctuation">:</span>e6bf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>更换pipewire-pulse之后：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">Server String</span><span class="token punctuation">:</span> /run/user/1000/pulse/native
<span class="token key atrule">Library Protocol Version</span><span class="token punctuation">:</span> <span class="token number">34</span>
<span class="token key atrule">Server Protocol Version</span><span class="token punctuation">:</span> <span class="token number">34</span>
<span class="token key atrule">Is Local</span><span class="token punctuation">:</span> yes
<span class="token key atrule">Client Index</span><span class="token punctuation">:</span> <span class="token number">69</span>
<span class="token key atrule">Tile Size</span><span class="token punctuation">:</span> <span class="token number">65472</span>
<span class="token key atrule">User Name</span><span class="token punctuation">:</span> zjk
<span class="token key atrule">Host Name</span><span class="token punctuation">:</span> zjk<span class="token punctuation">-</span><span class="token number">7591</span>
<span class="token key atrule">Server Name</span><span class="token punctuation">:</span> PulseAudio (on PipeWire 0.3.17)
<span class="token key atrule">Server Version</span><span class="token punctuation">:</span> 14.0.0
<span class="token key atrule">Default Sample Specification</span><span class="token punctuation">:</span> float32le 2ch 48000Hz
<span class="token key atrule">Default Channel Map</span><span class="token punctuation">:</span> front<span class="token punctuation">-</span>left<span class="token punctuation">,</span>front<span class="token punctuation">-</span>right
<span class="token key atrule">Default Sink</span><span class="token punctuation">:</span> <span class="token key atrule">alsa_output.pci-0000:00:1f.3-platform-skl_hda_dsp_generic.HiFi</span><span class="token punctuation">:</span> hw<span class="token punctuation">:</span>sofhdadsp<span class="token punctuation">,</span><span class="token key atrule">5</span><span class="token punctuation">:</span> sink
<span class="token key atrule">Default Source</span><span class="token punctuation">:</span> <span class="token key atrule">alsa_input.pci-0000:00:1f.3-platform-skl_hda_dsp_generic.HiFi</span><span class="token punctuation">:</span> <span class="token key atrule">hw:sofhdadsp</span><span class="token punctuation">:</span> source
<span class="token key atrule">Cookie</span><span class="token punctuation">:</span> 6242<span class="token punctuation">:</span><span class="token number">4425</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>看起来参数是好了一点，实测听不出来。</p>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>据说pipewire音视频延迟低了，手头没有专业设备没法测。其他的混响、均衡、采样手头没有专业设备也测不出来。</p>
<p>视频的话，浏览器HTML5播放器和本地VLC能正常播放。笔记本播放youtube4k视频外接4k显示器硬解没有大问题。VLC播放用N卡（笔记本的1650）解码也没有问题，驱动正常。</p>
<p>其他的视频方面和屏幕共享之类的功能暂时还没有测试。我也找不到熟悉视频的工具人了，等找到了再说吧，自己瞎测估计也测不出什么来。</p>
<h2 id="体验"><a href="#体验" class="headerlink" title="体验"></a>体验</h2><h3 id="音质"><a href="#音质" class="headerlink" title="音质"></a>音质</h3><p><code>pw-cli</code>显示的台式机面板参数</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ pw-cli info <span class="token number">0</span>
        id: <span class="token number">0</span>
        permissions: rwxm
        type: PipeWire:Interface:Core/3
        cookie: <span class="token number">653542227</span>
        user-name: <span class="token string">"zjk"</span>
        host-name: <span class="token string">"zjk-allseries"</span>
        version: <span class="token string">"0.3.17"</span>
        name: <span class="token string">"pipewire-0"</span>
*       properties:
*               core.name <span class="token operator">=</span> <span class="token string">"pipewire-0"</span>
*               context.profile.modules <span class="token operator">=</span> <span class="token string">"none"</span>
*               core.daemon <span class="token operator">=</span> <span class="token string">"true"</span>
*               link.max-buffers <span class="token operator">=</span> <span class="token string">"16"</span>
*               default.clock.rate <span class="token operator">=</span> <span class="token string">"48000"</span>
*               default.clock.quantum <span class="token operator">=</span> <span class="token string">"1024"</span>
*               default.clock.min-quantum <span class="token operator">=</span> <span class="token string">"32"</span>
*               default.clock.max-quantum <span class="token operator">=</span> <span class="token string">"8192"</span>
*               default.video.width <span class="token operator">=</span> <span class="token string">"640"</span>
*               default.video.height <span class="token operator">=</span> <span class="token string">"480"</span>
*               default.video.rate.num <span class="token operator">=</span> <span class="token string">"25"</span>
*               default.video.rate.denom <span class="token operator">=</span> <span class="token string">"1"</span>
*               mem.allow-mlock <span class="token operator">=</span> <span class="token string">"true"</span>
*               cpu.max-align <span class="token operator">=</span> <span class="token string">"32"</span>
*               object.id <span class="token operator">=</span> <span class="token string">"0"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>教研室的Arch台式机的老声卡接耳机和外接绿联声卡接耳机看不出什么大的区别。<br>Arch开Virtualbox里的win7能用，但是音质不知道为什么变差了特别多。 </p>
<p>只有笔记本外放音质确实好了一点，我的笔记本外放能听出差别的那种，然而还是比win10差了不少（这个没有参考价值，我的笔记本Realtek驱动太阴间了）。<br>据说延迟低了，这个听不出来，手头上也没有专业设备。  </p>
<p>其他的等我的校交响乐团的工具人室友回来了再说。  </p>
<h3 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h3><p>目前使用的问题大概有：</p>
<ol>
<li><code>systemctl status --user pipewire-pulse</code>报错</li>
</ol>
<pre class="line-numbers language-log" data-language="log"><code class="language-log">● <span class="token domain constant">pipewire-pulse.service</span> <span class="token operator">-</span> PipeWire PulseAudio
     <span class="token property">Loaded:</span> loaded <span class="token operator">(</span><span class="token file-path string">/usr/lib/systemd/user/pipewire-pulse.service</span><span class="token operator">;</span> enabled<span class="token operator">;</span> vendor preset<span class="token operator">:</span> enabled<span class="token operator">)</span>
     <span class="token property">Active:</span> active <span class="token operator">(</span>running<span class="token operator">)</span> since Thu <span class="token date number">2020-12-03</span> <span class="token time number">17:10:09</span> CST<span class="token operator">;</span> <span class="token number">12min</span> ago
<span class="token property">TriggeredBy:</span> ● <span class="token domain constant">pipewire-pulse.socket</span>
   <span class="token property">Main PID:</span> <span class="token number">1787</span> <span class="token operator">(</span>pipewire<span class="token operator">-</span>pulse<span class="token operator">)</span>
     <span class="token property">CGroup:</span> <span class="token file-path string">/user.slice/user-1000.slice/user@1000.service/app.slice/pipewire-pulse.service</span>
             └─<span class="token number">1787</span> <span class="token file-path string">/usr/bin/pipewire-pulse</span>

<span class="token number">12</span>月 <span class="token number">03</span> <span class="token time number">17:17:02</span> zjk<span class="token operator">-</span>allseries pipewire<span class="token operator">-</span>pulse<span class="token punctuation">[</span><span class="token number">1787</span><span class="token punctuation">]</span><span class="token operator">:</span> core <span class="token number">0x55fc6c39e410</span><span class="token operator">:</span> proxy <span class="token number">0x55fc6c39e410</span> id<span class="token operator">:</span><span class="token number">0</span><span class="token operator">:</span> bound<span class="token operator">:</span><span class="token operator">-</span><span class="token number">1</span> seq<span class="token operator">:</span><span class="token number">1272</span> res<span class="token operator">:</span><span class="token operator">-</span><span class="token number">32</span> <span class="token operator">(</span>Broken pipe<span class="token operator">)</span> msg<span class="token operator">:</span><span class="token string">"connection error"</span>
<span class="token number">12</span>月 <span class="token number">03</span> <span class="token time number">17:17:25</span> zjk<span class="token operator">-</span>allseries pipewire<span class="token operator">-</span>pulse<span class="token punctuation">[</span><span class="token number">1787</span><span class="token punctuation">]</span><span class="token operator">:</span> pulse<span class="token operator">-</span>server <span class="token number">0x55fc6c30c300</span><span class="token operator">:</span> <span class="token punctuation">[</span>Google Chrome<span class="token punctuation">]</span> <span class="token level error important">ERROR</span> command<span class="token operator">:</span><span class="token number">42</span> <span class="token operator">(</span>FLUSH_PLAYBACK_STREAM<span class="token operator">)</span> tag<span class="token operator">:</span><span class="token number">168</span> error<span class="token operator">:</span><span class="token number">5</span> <span class="token operator">(</span>No such file or directory<span class="token operator">)</span>
<span class="token number">12</span>月 <span class="token number">03</span> <span class="token time number">17:17:25</span> zjk<span class="token operator">-</span>allseries pipewire<span class="token operator">-</span>pulse<span class="token punctuation">[</span><span class="token number">1787</span><span class="token punctuation">]</span><span class="token operator">:</span> pulse<span class="token operator">-</span>server <span class="token number">0x55fc6c30c300</span><span class="token operator">:</span> <span class="token punctuation">[</span>Google Chrome<span class="token punctuation">]</span> <span class="token level error important">ERROR</span> command<span class="token operator">:</span><span class="token number">41</span> <span class="token operator">(</span>CORK_PLAYBACK_STREAM<span class="token operator">)</span> tag<span class="token operator">:</span><span class="token number">169</span> error<span class="token operator">:</span><span class="token number">5</span> <span class="token operator">(</span>No such file or directory<span class="token operator">)</span>
<span class="token number">12</span>月 <span class="token number">03</span> <span class="token time number">17:17:26</span> zjk<span class="token operator">-</span>allseries pipewire<span class="token operator">-</span>pulse<span class="token punctuation">[</span><span class="token number">1787</span><span class="token punctuation">]</span><span class="token operator">:</span> pulse<span class="token operator">-</span>server <span class="token number">0x55fc6c30c300</span><span class="token operator">:</span> <span class="token punctuation">[</span>Google Chrome<span class="token punctuation">]</span> <span class="token level error important">ERROR</span> command<span class="token operator">:</span><span class="token number">41</span> <span class="token operator">(</span>CORK_PLAYBACK_STREAM<span class="token operator">)</span> tag<span class="token operator">:</span><span class="token number">170</span> error<span class="token operator">:</span><span class="token number">5</span> <span class="token operator">(</span>No such file or directory<span class="token operator">)</span>
<span class="token number">12</span>月 <span class="token number">03</span> <span class="token time number">17:19:16</span> zjk<span class="token operator">-</span>allseries pipewire<span class="token operator">-</span>pulse<span class="token punctuation">[</span><span class="token number">1787</span><span class="token punctuation">]</span><span class="token operator">:</span> pulse<span class="token operator">-</span>server <span class="token number">0x55fc6c3deb80</span><span class="token operator">:</span> <span class="token punctuation">[</span>code<span class="token punctuation">]</span> <span class="token level error important">ERROR</span> command<span class="token operator">:</span><span class="token number">18</span> <span class="token operator">(</span>PLAY_SAMPLE<span class="token operator">)</span> tag<span class="token operator">:</span><span class="token number">3</span> error<span class="token operator">:</span><span class="token number">5</span> <span class="token operator">(</span>No such file or directory<span class="token operator">)</span>
<span class="token number">12</span>月 <span class="token number">03</span> <span class="token time number">17:19:16</span> zjk<span class="token operator">-</span>allseries pipewire<span class="token operator">-</span>pulse<span class="token punctuation">[</span><span class="token number">1787</span><span class="token punctuation">]</span><span class="token operator">:</span> pulse<span class="token operator">-</span>server <span class="token number">0x55fc6c3deb80</span><span class="token operator">:</span> <span class="token punctuation">[</span>code<span class="token punctuation">]</span> <span class="token level error important">ERROR</span> command<span class="token operator">:</span><span class="token number">18</span> <span class="token operator">(</span>PLAY_SAMPLE<span class="token operator">)</span> tag<span class="token operator">:</span><span class="token number">4</span> error<span class="token operator">:</span><span class="token number">5</span> <span class="token operator">(</span>No such file or directory<span class="token operator">)</span>
<span class="token number">12</span>月 <span class="token number">03</span> <span class="token time number">17:19:16</span> zjk<span class="token operator">-</span>allseries pipewire<span class="token operator">-</span>pulse<span class="token punctuation">[</span><span class="token number">1787</span><span class="token punctuation">]</span><span class="token operator">:</span> pulse<span class="token operator">-</span>server <span class="token number">0x55fc6c3deb80</span><span class="token operator">:</span> <span class="token punctuation">[</span>code<span class="token punctuation">]</span> <span class="token level error important">ERROR</span> command<span class="token operator">:</span><span class="token number">18</span> <span class="token operator">(</span>PLAY_SAMPLE<span class="token operator">)</span> tag<span class="token operator">:</span><span class="token number">5</span> error<span class="token operator">:</span><span class="token number">5</span> <span class="token operator">(</span>No such file or directory<span class="token operator">)</span>
<span class="token number">12</span>月 <span class="token number">03</span> <span class="token time number">17:19:17</span> zjk<span class="token operator">-</span>allseries pipewire<span class="token operator">-</span>pulse<span class="token punctuation">[</span><span class="token number">1787</span><span class="token punctuation">]</span><span class="token operator">:</span> pulse<span class="token operator">-</span>server <span class="token number">0x55fc6c3deb80</span><span class="token operator">:</span> <span class="token punctuation">[</span>code<span class="token punctuation">]</span> <span class="token level error important">ERROR</span> command<span class="token operator">:</span><span class="token number">18</span> <span class="token operator">(</span>PLAY_SAMPLE<span class="token operator">)</span> tag<span class="token operator">:</span><span class="token number">6</span> error<span class="token operator">:</span><span class="token number">5</span> <span class="token operator">(</span>No such file or directory<span class="token operator">)</span>
<span class="token number">12</span>月 <span class="token number">03</span> <span class="token time number">17:19:18</span> zjk<span class="token operator">-</span>allseries pipewire<span class="token operator">-</span>pulse<span class="token punctuation">[</span><span class="token number">1787</span><span class="token punctuation">]</span><span class="token operator">:</span> pulse<span class="token operator">-</span>server <span class="token number">0x55fc6c3deb80</span><span class="token operator">:</span> <span class="token punctuation">[</span>code<span class="token punctuation">]</span> <span class="token level error important">ERROR</span> command<span class="token operator">:</span><span class="token number">18</span> <span class="token operator">(</span>PLAY_SAMPLE<span class="token operator">)</span> tag<span class="token operator">:</span><span class="token number">7</span> error<span class="token operator">:</span><span class="token number">5</span> <span class="token operator">(</span>No such file or directory<span class="token operator">)</span>
<span class="token number">12</span>月 <span class="token number">03</span> <span class="token time number">17:19:18</span> zjk<span class="token operator">-</span>allseries pipewire<span class="token operator">-</span>pulse<span class="token punctuation">[</span><span class="token number">1787</span><span class="token punctuation">]</span><span class="token operator">:</span> pulse<span class="token operator">-</span>server <span class="token number">0x55fc6c3deb80</span><span class="token operator">:</span> <span class="token punctuation">[</span>code<span class="token punctuation">]</span> <span class="token level error important">ERROR</span> command<span class="token operator">:</span><span class="token number">18</span> <span class="token operator">(</span>PLAY_SAMPLE<span class="token operator">)</span> tag<span class="token operator">:</span><span class="token number">8</span> error<span class="token operator">:</span><span class="token number">5</span> <span class="token operator">(</span>No such file or directory<span class="token operator">)</span>
<span class="token separator comment">***</span>
<span class="token number">12</span>月 <span class="token number">03</span> <span class="token time number">18:58:02</span> zjk<span class="token operator">-</span>allseries pipewire<span class="token operator">-</span>pulse<span class="token punctuation">[</span><span class="token number">1787</span><span class="token punctuation">]</span><span class="token operator">:</span> pulse<span class="token operator">-</span>server <span class="token number">0x55fc6c37c6f0</span><span class="token operator">:</span> <span class="token punctuation">[</span>VirtualBox<span class="token punctuation">]</span> <span class="token level error important">ERROR</span> command<span class="token operator">:</span><span class="token number">23</span> <span class="token operator">(</span>GET_SOURCE_INFO<span class="token operator">)</span> tag<span class="token operator">:</span><span class="token number">249</span> error<span class="token operator">:</span><span class="token number">5</span> <span class="token operator">(</span>No such file or directory<span class="token operator">)</span>
<span class="token number">12</span>月 <span class="token number">03</span> <span class="token time number">19:00:16</span> zjk<span class="token operator">-</span>allseries pipewire<span class="token operator">-</span>pulse<span class="token punctuation">[</span><span class="token number">1787</span><span class="token punctuation">]</span><span class="token operator">:</span> pulse<span class="token operator">-</span>server <span class="token number">0x55fc6c37c6f0</span><span class="token operator">:</span> <span class="token punctuation">[</span>VirtualBox<span class="token punctuation">]</span> <span class="token level error important">ERROR</span> command<span class="token operator">:</span><span class="token number">23</span> <span class="token operator">(</span>GET_SOURCE_INFO<span class="token operator">)</span> tag<span class="token operator">:</span><span class="token number">376</span> error<span class="token operator">:</span><span class="token number">5</span> <span class="token operator">(</span>No such file or directory<span class="token operator">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>不过貌似都不影响使用</p>
<ol start="2">
<li>KDE调节音量的按钮换了之后经常卡死（KDE下面整个任务栏都卡死了），恢复之后调节音量无效</li>
</ol>
<p><img src="/pipewire/1606991672.png"></p>
<ol start="3">
<li>KDE音频切换设置偶尔卡死</li>
</ol>
<p>下图这个</p>
<p><img src="/pipewire/1606992266.png"><br><img src="/pipewire/1606992430.png"></p>
<p>点终止之后整个plasma桌面都无了</p>
<p><img src="/pipewire/1606992508.png"></p>
<ol start="4">
<li><p>上图中的Build-in Audio切换之后耳机没有声音</p>
</li>
<li><p>切换外放麦克风和耳机之后再切回来没声了</p>
</li>
<li><p>有几个人之前说virtualbox会冲突，我这暂时没遇到</p>
</li>
<li><p>2021.2更新后再次出问题了,<code>pw-cli info 0</code>显示</p>
</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Error: <span class="token string">"failed to connect: Host is down"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>检查了一下发现systemd daemon不知道怎么没了。</p>
<pre class="line-numbers language-none"><code class="language-none">Unit pipewire.service could not be found.
Unit pipewire-pulse.service could not be found.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>执行<code>systemctl enable pipewire --user</code>后重启还是找不到</p>
<p><code>systemctl status pipewire-pulse --user</code></p>
<p>报错：</p>
<pre class="line-numbers language-log" data-language="log"><code class="language-log">● <span class="token domain constant">pipewire-pulse.service</span> <span class="token operator">-</span> PipeWire PulseAudio
     <span class="token property">Loaded:</span> loaded <span class="token operator">(</span><span class="token file-path string">/usr/lib/systemd/user/pipewire-pulse.service</span><span class="token operator">;</span> enabled<span class="token operator">;</span> vendor preset<span class="token operator">:</span> enabled<span class="token operator">)</span>
     <span class="token property">Active:</span> active <span class="token operator">(</span>running<span class="token operator">)</span> since Sun <span class="token date number">2021-02-14</span> <span class="token time number">10:03:07</span> CST<span class="token operator">;</span> <span class="token number">12min</span> ago
<span class="token property">TriggeredBy:</span> ● <span class="token domain constant">pipewire-pulse.socket</span>
   <span class="token property">Main PID:</span> <span class="token number">1168</span> <span class="token operator">(</span>pipewire<span class="token operator">-</span>pulse<span class="token operator">)</span>
     <span class="token property">CGroup:</span> <span class="token file-path string">/user.slice/user-1000.slice/user@1000.service/app.slice/pipewire-pulse.service</span>
             └─<span class="token number">1168</span> <span class="token file-path string">/usr/bin/pipewire-pulse</span>

<span class="token number">2</span>月 <span class="token number">14</span> <span class="token time number">10:15:40</span> zjk<span class="token operator">-</span><span class="token number">7591</span> pipewire<span class="token operator">-</span>pulse<span class="token punctuation">[</span><span class="token number">1168</span><span class="token punctuation">]</span><span class="token operator">:</span> pulse<span class="token operator">-</span>server <span class="token number">0x557a2d6b64f0</span><span class="token operator">:</span> failed to connect client<span class="token operator">:</span> Host is down
<span class="token number">2</span>月 <span class="token number">14</span> <span class="token time number">10:15:40</span> zjk<span class="token operator">-</span><span class="token number">7591</span> pipewire<span class="token operator">-</span>pulse<span class="token punctuation">[</span><span class="token number">1168</span><span class="token punctuation">]</span><span class="token operator">:</span> pulse<span class="token operator">-</span>server <span class="token number">0x557a2d6ceab0</span><span class="token operator">:</span> <span class="token punctuation">[</span>QPulse<span class="token punctuation">]</span> <span class="token level error important">ERROR</span> command<span class="token operator">:</span><span class="token number">9</span> <span class="token operator">(</span>SET_CLIENT_NAME<span class="token operator">)</span> tag<span class="token operator">:</span><span class="token number">1</span> error<span class="token operator">:</span><span class="token number">6</span> <span class="token operator">></span>
<span class="token number">2</span>月 <span class="token number">14</span> <span class="token time number">10:15:41</span> zjk<span class="token operator">-</span><span class="token number">7591</span> pipewire<span class="token operator">-</span>pulse<span class="token punctuation">[</span><span class="token number">1168</span><span class="token punctuation">]</span><span class="token operator">:</span> pulse<span class="token operator">-</span>server <span class="token number">0x557a2d6b64f0</span><span class="token operator">:</span> failed to connect client<span class="token operator">:</span> Host is down
<span class="token number">2</span>月 <span class="token number">14</span> <span class="token time number">10:15:41</span> zjk<span class="token operator">-</span><span class="token number">7591</span> pipewire<span class="token operator">-</span>pulse<span class="token punctuation">[</span><span class="token number">1168</span><span class="token punctuation">]</span><span class="token operator">:</span> pulse<span class="token operator">-</span>server <span class="token number">0x557a2d6e1cb0</span><span class="token operator">:</span> <span class="token punctuation">[</span>QPulse<span class="token punctuation">]</span> <span class="token level error important">ERROR</span> command<span class="token operator">:</span><span class="token number">9</span> <span class="token operator">(</span>SET_CLIENT_NAME<span class="token operator">)</span> tag<span class="token operator">:</span><span class="token number">1</span> error<span class="token operator">:</span><span class="token number">6</span> <span class="token operator">></span>
<span class="token number">2</span>月 <span class="token number">14</span> <span class="token time number">10:15:42</span> zjk<span class="token operator">-</span><span class="token number">7591</span> pipewire<span class="token operator">-</span>pulse<span class="token punctuation">[</span><span class="token number">1168</span><span class="token punctuation">]</span><span class="token operator">:</span> pulse<span class="token operator">-</span>server <span class="token number">0x557a2d6b64f0</span><span class="token operator">:</span> failed to connect client<span class="token operator">:</span> Host is down<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="退坑保平安"><a href="#退坑保平安" class="headerlink" title="退坑保平安"></a>退坑保平安</h3><p>换回PulseAudio了，不当小白鼠了，心累，好几次升级都有小问题，每次内核更新提心吊胆的。</p>
<p>2021.2 </p>
<p>最近更新了Pipewire和kernel，开机加载界面的时候只加载出壁纸，kwin慢了十秒，Pipewire daemon加载失败，不想修了，直接换回PulseAudio。</p>
<p>在Pipewire出1.0稳定版和正式支持KDE之前一直用PulseAudio了。</p>
<!-- 如果需要屏幕共享，chrome需要启用WebRTC PipWire支持`chrome://flags/#enable-webrtc-pipewire-capturer`，可能需要用`libpipewire02` -->

<h2 id="参见"><a href="#参见" class="headerlink" title="参见"></a>参见</h2><p><span class="exturl" data-url="aHR0cHM6Ly9waXBld2lyZS5vcmcv">https://pipewire.org/<i class="fa fa-external-link-alt"></i></span><br><span class="exturl" data-url="aHR0cHM6Ly93aWtpLmFyY2hsaW51eC5vcmcvaW5kZXgucGhwL1BpcGVXaXJl">https://wiki.archlinux.org/index.php/PipeWire<i class="fa fa-external-link-alt"></i></span><br><span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvUHVsc2VBdWRpbw==">https://zh.wikipedia.org/wiki/PulseAudio<i class="fa fa-external-link-alt"></i></span><br><span class="exturl" data-url="aHR0cHM6Ly9sd24ubmV0L0FydGljbGVzLzczNDEwMy8=">https://lwn.net/Articles/734103/<i class="fa fa-external-link-alt"></i></span><br><span class="exturl" data-url="aHR0cHM6Ly9ibG9ncy5nbm9tZS5vcmcvdXJhZXVzLzIwMjAvMDkvMDQvcGlwZXdpcmUtbGF0ZS1zdW1tZXItdXBkYXRlLTIwMjAv">https://blogs.gnome.org/uraeus/2020/09/04/pipewire-late-summer-update-2020/<i class="fa fa-external-link-alt"></i></span><br><span class="exturl" data-url="aHR0cHM6Ly9naXRsYWIuZnJlZWRlc2t0b3Aub3JnL3BpcGV3aXJlL3BpcGV3aXJlLy0vd2lraXMvTGltaXRhdGlvbnMtaW4tMC4z">pipewire 0.3的一些局限和问题<i class="fa fa-external-link-alt"></i></span>  </p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/pipewire/" rel="tag"><i class="fa fa-tag"></i> pipewire</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/change-comment-to-disqusjs/" rel="prev" title="本站评论由valine更换为DisqusJS">
                  <i class="fa fa-chevron-left"></i> 本站评论由valine更换为DisqusJS
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/create-aur-packages/" rel="next" title="AUR打包指北">
                  AUR打包指北 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






      <div class="tabs tabs-comment">
        <ul class="nav-tabs">
            <li class="tab"><a href="#comment-utterances">utterances</a></li>
            <li class="tab"><a href="#comment-disqusjs">Load Disqus</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane utterances" id="comment-utterances">
              <div class="comments utterances-container"></div>
            </div>
            <div class="tab-pane disqusjs" id="comment-disqusjs">
              
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  
            </div>
        </div>
      </div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2019 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heartbeat"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">止息</span>
</div>
  <div class="powered-by">由 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & <span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9waXNjZXMv">NexT.Pisces</span> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdn.jsdelivr.net/npm/pdfobject@2.2.7/pdfobject.min.js","integrity":"sha256-ph3Dk89VmuTVXG6x/RDzk53SU9LPdAh1tpv0UvnDZ2I="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js"></script>




  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/disqusjs@1.3.0/dist/disqusjs.css" integrity="sha256-GxdCIOyfxQ1OBfS99qAIJDoGK1ADuBsxhMTqXG82fAY=" crossorigin="anonymous">

<script class="next-config" data-name="disqusjs" type="application/json">{"enable":true,"api":"https://disqus.skk.moe/disqus/","apikey":"3qJ515uApWlP58gXhzPCCk3L0NlOvrMLwt5dDITBndS8fp8She7PT1gvBdDcgwrt","shortname":"arcaheoraptor","js":{"url":"https://cdn.jsdelivr.net/npm/disqusjs@1.3.0/dist/disqus.js","integrity":"sha256-LVaMHPQ2zLqOc5rXSAfr4d1PIkEGNLyyUTDNPZmTtUw="}}</script>
<script src="/js/third-party/comments/disqusjs.js"></script>
<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"Archaeoraptor/archaeoraptor.github.io","issue_term":"pathname","theme":"github-light"}</script>
<script src="/js/third-party/comments/utterances.js"></script>

</body>
</html>
