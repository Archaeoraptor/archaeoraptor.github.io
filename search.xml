<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>你好，Manjaro</title>
      <link href="/ff0e/"/>
      <url>/ff0e/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>本来我是想装个双系统的，但是想起教研室还有两个老主机，那就…</p><a id="more"></a><h2 id="安装"><a class="markdownIt-Anchor" href="#安装"></a> 安装</h2><p>选Manjaro是因为对华硕老主板的硬件和驱动支持比较好。</p><p>去官网下了最新版的 Manjaro18.1.5 KDE桌面版本，还是拿Rufus做好启动盘用UEFI装，这里直接擦除原来已毕业师兄的win10（erase disk），选 no Hibernate（我不太喜欢systemd，就没设休眠）</p><p>看到选项里有个选择LibreOffice还是Free Office的选项，这里我选了FreeOffice试用，体验过两个月再回来填坑写体会。</p><p>习惯性断网安装。没有遇到问题，直接装好了，超乎想象的顺利。唯一的小插曲是装完系统后U盘只剩4M空间，用win10默认的格式化找不回来了，看了<span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8zNzc3MjgyNQ==" title="https://zhuanlan.zhihu.com/p/37772825">这里<i class="fa fa-external-link"></i></span><br />网上教程已经很多了，我也不打算再写一篇了，下面仅作个人记录(其实并不怎么需要教程，过时得太快，还不如直接看官方wiki，不想看直接照着提示直接装都没问题，比Ubuntu好装太多了)<br /><img data-src="/ff0e/neofetch-manjaro.webp" alt="manjaro-neofetch" /><br />内置python是3.8.1，我一时竟有些不习惯😂</p><h2 id="配置"><a class="markdownIt-Anchor" href="#配置"></a> 配置</h2><h3 id="换镜像源"><a class="markdownIt-Anchor" href="#换镜像源"></a> 换镜像源</h3><p>当然还是换成你电的，在<code>/​etc/​pacman.d/​mirrorlist</code>加上你电</p><h3 id="输入法"><a class="markdownIt-Anchor" href="#输入法"></a> 输入法</h3><p>KDE推荐fcitx</p><p>我用的<s>sunpinyin</s>libpinyin（一个比sunpinyin更新的输入法），googlepinyin也可以，sougoupinyin不推荐，对于它的流氓行为我实在无法放心（如果非要装，记得装fcitx qt4 或 qt5）</p><p>如果想要联网提示的功能可以装个cloudpinyin(要用archlinuxcn的源)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S fcitx-im fcitx-googlepinyin fcitx-libpinyin fcitx-cloudpinyin</span><br></pre></td></tr></table></figure><p>有个小问题，那个很多教程都写的/.xproflie, 官方wiki里新版是<br />~/.pam_environment里面加上那三行, fcitx官网上说是那个~./xprofile, 这里我放到.pam_enviroment里面了。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GTK_IM_MODULE&#x3D;fcitx</span><br><span class="line">QT_IM_MODULE&#x3D;fcitx</span><br><span class="line">XMODIFIERS&#x3D;@im&#x3D;fcitx</span><br></pre></td></tr></table></figure><p>然后点开右下角键盘的configure（配置）看不到输入法了，界面是空的，以为是系统语言非中文的问题，但是换了系统语言重启了以后还是不行。<br />运行了一下fcitx-diagnose, 报这个错误</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fcitx: BadWindow (invalid Window parameter)</span><br></pre></td></tr></table></figure><p>感觉是看不知道哪个教程的时候在~/.xinitrc里面乱配置的时候出问题了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> LC_ALL=zh_CN.UTF-8</span><br><span class="line"><span class="built_in">export</span> GTK_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> QT_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> XMODIFIERS=<span class="string">"@im=fcitx"</span></span><br></pre></td></tr></table></figure><p>搜了一下是我弱智了，看<span class="exturl" data-url="aHR0cHM6Ly9iYnMuYXJjaGxpbnV4Y24ub3JnL3ZpZXd0b3BpYy5waHA/aWQ9MTg2Mg==" title="https://bbs.archlinuxcn.org/viewtopic.php?id=1862">这里<i class="fa fa-external-link"></i></span>，照着教程乱搞的时候都没注意到。<br />这里把exec放到后面就行了，或者放到.xprofile里面</p><p>配置看这里<br /><span class="exturl" data-url="aHR0cHM6Ly9mY2l0eC1pbS5vcmcvd2lraS9Db25maWd1cmVfKE90aGVyKS96aC1oYW5z" title="https://fcitx-im.org/wiki/Configure_(Other)/zh-hans">https://fcitx-im.org/wiki/Configure_(Other)/zh-hans<i class="fa fa-external-link"></i></span></p><p>我看很多教程都是用的fcitx-configtool，这里推荐KDE桌面用kcm-fcitx进行设置，也可以直接编辑config文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S kcm-fcitx</span><br></pre></td></tr></table></figure><h3 id="软件包管理"><a class="markdownIt-Anchor" href="#软件包管理"></a> 软件包管理</h3><p>装包首选pacman，然后是AUR，然后是其他pip、npm、deb之类的包，然后是自己编译（对自己打包技术自信的编译狂魔请无视), 这样可以避免不少包冲突。<br />yaourt已经停止维护了<sup id="fnref:1"><a href="#fn:1" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="https://wiki.archlinux.org/index.php/AUR_helpers">[1]</span></a></sup>，2020年了很多教程都还是这个，请自行换成yay<sup id="fnref:2"><a href="#fn:2" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="https://github.com/Jguer/yay">[2]</span></a></sup>等</p><h4 id="vscode"><a class="markdownIt-Anchor" href="#vscode"></a> VSCode</h4><p>这里用vscode举个栗子</p><p>不像apt有官方包，VSCode在文档上说可以用这个<span class="exturl" data-url="aHR0cHM6Ly9jb2RlLnZpc3VhbHN0dWRpby5jb20vZG9jcy9zZXR1cC9saW51eCNfYXVyLXBhY2thZ2UtZm9yLWFyY2gtbGludXg=" title="https://code.visualstudio.com/docs/setup/linux#_aur-package-for-arch-linux">非官方包<i class="fa fa-external-link"></i></span></p><p>按照正常的AUR安装方式是这样的</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S git</span><br><span class="line"><span class="built_in">cd</span> /Downloads</span><br><span class="line">git <span class="built_in">clone</span> https://AUR.archlinux.org/visual-studio-code-bin.git</span><br><span class="line"><span class="built_in">cd</span> visual-studio-code-bin/</span><br><span class="line">sudo pacman -U visual-studio-code-bin-*.pkg.tar.xz</span><br><span class="line"><span class="built_in">cd</span> ../ &amp;&amp; sudo rm -rfv visual-studio-code-bin/</span><br><span class="line">code .</span><br></pre></td></tr></table></figure><p>这里我们有<code>yay -S visual-studio-code-bin</code>可以代替上面那一串命令（pacman现在也有，直接pacman就好了）</p><p>另一种方法是直接从软件商店里点击安装，pamac或者octopi，其实也不算win10 巨硬store或者snap那种软件商店，大概就是一个pacman的GUI客户端吧</p><h3 id="网上冲浪"><a class="markdownIt-Anchor" href="#网上冲浪"></a> 网上冲浪</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S v2ray</span><br></pre></td></tr></table></figure><p>把config.json放到/etc/v2ray下面<br />然后配置开机自启和启动（这里用systemd）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> v2ray  <span class="comment">#开机启动</span></span><br><span class="line">systemctl start v2ray</span><br></pre></td></tr></table></figure><p>然后配合switchyomega或者<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL21lbGxvdy1pby9tZWxsb3c=" title="https://github.com/mellow-io/mellow">mellow<i class="fa fa-external-link"></i></span>或者<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3JvZmwwci9wcm94eWNoYWlucy1uZw==" title="https://github.com/rofl0r/proxychains-ng">proxychains-ng<i class="fa fa-external-link"></i></span></p><p>如果还是习惯客户端可以试试v2rayA<sup id="fnref:3"><a href="#fn:3" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="https://aur.archlinux.org/packages/v2raya">[3]</span></a></sup></p><h3 id="其他"><a class="markdownIt-Anchor" href="#其他"></a> 其他</h3><p>暂时没什么要说了，过一个月再来说体验吧，美化什么的也不想搞了，老主机带不动，我也老了，哎呀，对花里胡哨的欣赏不来了，一律默认配置</p><p>想起什么再说吧，ArchWiki真棒，看Wiki吧</p><h4 id="一些设置的小问题"><a class="markdownIt-Anchor" href="#一些设置的小问题"></a> 一些设置的小问题</h4><p>改完输入法快捷键之后输入法调不出来了，发现Yakuake也调不出来了，感觉快捷键设置冲突，改快捷键设置就好了。</p><p>最后，希望不要滚炸</p><h2 id="注"><a class="markdownIt-Anchor" href="#注"></a> 注</h2><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">https://wiki.archlinux.org/index.php/AUR_helpers<a href="#fnref:1" rev="footnote"> ↩</a></span></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">2.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">https://github.com/Jguer/yay<a href="#fnref:2" rev="footnote"> ↩</a></span></li><li id="fn:3"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">3.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">https://aur.archlinux.org/packages/v2raya<a href="#fnref:3" rev="footnote"> ↩</a></span></li></ol></div></div>]]></content>
      
      
      
        <tags>
            
            <tag> manjaro </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>写在被消灭的路上</title>
      <link href="/aa1c/"/>
      <url>/aa1c/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>庚子年，格外的长</p><a id="more"></a><p>谶言里庚子年破事可不少，现在全世界都看起来不太平，暗流涌动。就不睁眼说瞎话搞些新年大吉之类的玩意了。</p><h2 id="庚子鼠年计划"><a class="markdownIt-Anchor" href="#庚子鼠年计划"></a> 庚子鼠年计划</h2><p>还记得当年的梦想吗，不仅天涯变了，新浪搜狐变了，谷歌也免不了（也许没变，当年才是装的）。看了一圈，真诚可爱的反而就是花姐王垠之流。</p><p><img data-src="/aa1c/google.jpg" alt="当年" /></p><p>唯见日寒月暖，来煎人寿</p><blockquote><p>十年的经历教会了我很多，但不免也有许多被浪费的时间和精力，值得我反思和总结。总的看来，我并没有比其他人做得更差。很多 IT 人终其一生也没有学会什么新东西，很多人为了保住自己的饭碗，写出面条一样扭曲，别人不敢碰的代码。转岗做管理也是各种瞎指挥，看其他人眼色行事，一切为了“站对了队”，为了混到更高的位置。</p></blockquote><p>我现在在勃八本的劝退专业搬着没什么用的砖，搞着骗钱的垃圾项目划水摸鱼制造垃圾写bug，惭愧</p><p>本来我还是想做一点事情的，现在发现不如划水去搞点有意思的</p><div class="note success">            <h3 id="看看范畴论-矩阵代数"><a class="markdownIt-Anchor" href="#看看范畴论-矩阵代数"></a> 看看范畴论、矩阵代数</h3><p>大一大二那会不听课，埋头啃高代数分数理方程看朗道，试图啃过近世代数，没啃动<br />现在一年没怎么推公式，发现已经不如之前了，我怕不是要老了。<br />有些东西，三四十岁再学就学不动了</p>          </div><div class="note success">            <h3 id="看看csapp等书"><a class="markdownIt-Anchor" href="#看看csapp等书"></a> 看看CSAPP等书</h3><p>补一补你电只讲名词概念浪费生命的微嵌课欠下的债</p>          </div><div class="note success">            <h3 id="学一点数据库和javascript"><a class="markdownIt-Anchor" href="#学一点数据库和javascript"></a> 学一点数据库和javascript</h3><p>之前打算</p>          </div><div class="note success">            <h3 id="把立下的flag和挖的坑填了"><a class="markdownIt-Anchor" href="#把立下的flag和挖的坑填了"></a> 把立下的Flag和挖的坑填了</h3><p>填不了就扔到2021年，反正那个时候我就要被消灭了，不用填了</p>          </div><div class="note danger">            <h3 id="扑杀入侵物种"><a class="markdownIt-Anchor" href="#扑杀入侵物种"></a> 扑杀入侵物种</h3><p>包括不限于流浪猫、流浪狗、红耳龟、福寿螺、克氏原螯虾</p>          </div><h2 id="近况"><a class="markdownIt-Anchor" href="#近况"></a> 近况</h2><p>最近闲了一点，把博客的评论换成了utteranc, 把mathjax换成了katex<br />试了试Hugo，速度确实快，也没有nodejs这么多依赖问题，但是颜值平均比Hexo低两层楼，Hexo那些插件也没有好的替代和移植。<br />也没有在Hugo里面找到一个Next这样令我喜欢并且一直维护的主题，只看到一个hugo-book的主题，替代gitbook做文档应该不错，gitbook的生成速度是真的慢。。。<br />（不过这个快是生成速度啊，整个网站的加载速度跟这个也没有太大关系，也就在写很长很多的内容的时候有，静态博客还是得看效果啊，生成速度再快有什么用呢）<br />ps：终于知道为什么有的人用Jekyll、Hexo、gitbook非要整个CI了，有的内容多了生成速度确实慢啊，动不动几十分钟一小时没了。Hugo的速度让这些都没了必要，我也没看到多少这么搞的（Hugo用户运维和后端开发的比例可比Hexo那些高多了）。（Hugo性能也不错，直接用hugo的server跑在服务器都行，不用Nginx之类的完全没问题。</p><p>元旦在沙河边转着玩，又看到沙河有一群大妈拿着七八个桶直接倾倒鱼和小龙虾（对，就是那个<s>著名</s>入侵物种克氏原螯虾）。这几天网上冲浪又看到日人民报等辣鸡营销号消费过世白鲟，还纷纷把图配成匙吻鲟，心里不是滋味。长江流域基本也凉的差不多了，当年葛洲坝一建，白鲟中华鲟达氏鲟就凉了一半，挖沙和万安水库和富春江水电站也把最后的鲥鱼搞没了。鄱阳湖要是再乱搞，江豚基本也要凉透了（虽然不乱搞也要凉透了，时间问题，无力回天）。那些数不清名字的小鱼就更惨了，好多两个图片和影像都没留下</p><p>哦，对了，前几年长江养殖逃逸了大量杂交鲟，中华鲟和达氏鲟野生种群基本就废了</p><p>寡鳞鱊重现江湖的奇迹可能再也不会有了。</p><blockquote><p>千斤魶子万斤象，黄排大了不像样</p></blockquote><p><img data-src="baixun.jpg" alt="白鲟" /></p><p>就现在这样子，不仅斑鳖要上路，鼋八成也保不住；不仅白鱀豚没了，江豚（窄脊江豚长江江豚亚种<em>N. a. asiaeorientalis</em>）也迟早凉。<br />斑鳖在某动物园的惨状大家应该都知道了，鼋也好不到哪去（国内的龟鳖都好不到哪去）</p><blockquote><p>鼋，到现在，都没有一个像样的保护区。也就是说，救助团体一直是民间（或挂靠）开展的。某保护区我就不点名了，有文件，一直不施工，民间捐的俩成体鼋一直养在水泥池子里……</p></blockquote><p>最近被骂的<span class="exturl" data-url="aHR0cHM6Ly93ZWliby5jb20vNTAyMTAzNjc4Ni9JbkIxUmZrQkU=" title="https://weibo.com/5021036786/InB1RfkBE">扎龙保护区<i class="fa fa-external-link"></i></span>也是打着保护的旗号干缺德事呢，对了，前几年的鄱阳湖水利枢纽工程也是打着环保的旗号。好多湿地绿化和荒漠绿化都是把原来好好的灌木草地沼泽全种成整齐划一的树，哇，这破坏生态的绿色荒漠算政绩呢<br />这里全文转载流年消年少同学的一篇旧文：从鄱阳湖水利枢纽工程看看党的千秋伟业</p><div class="note info">            <blockquote><p>逆天改命，非以倾国之力而不能为</p></blockquote><p>​​​    2016年底，微博上因为江西省水利厅一篇《 鄱阳湖水利枢纽环评  请你提建议》的公告引发了不小的风波。无疑这个举动将会对鄱阳湖生态环境造成巨大的负面影响，濒危的长江江豚、白鹤也将为此陷入灭绝的境地，那为什他们会出此下策呢？前几天与老师朋友讨论这个事情，个中缘由可能真的不简单。</p><p>下面都是胡说八道，大家请勿轻信<br />我们先看看好端端的鄱阳湖​为什么会见底？没错，因为我党的两项“千秋伟业”。 目前，中国两大世纪水利工程——三峡工程早已完成、南水北调工程东线刚刚正通水，中线已经贯通，西线还未开工中。对于如此重大的工程，一直有颇多争议，如修建三峡时，反对意见也非常强烈。三峡建成后，是否会引发干旱、地震等自然灾害都成为了人们热议的焦点。而奇怪的是，南水北调工程几乎没有专家反对，顺利开工建成。对南水北调的质疑也远远不如三峡工程。这是很令人奇怪的地方 多年前，一位旅居德国的国土专家王维洛为就揭底了南水北调和三峡，个中缘由触目惊心。<br />前几年长江中下游缺水缺得很厉害。从浙江、安徽、江西、湖南和湖北都缺水，特别是湖北省缺水缺的厉害。国内报导是说，湖北的水库都已底朝天，没水了，洪水浪打浪也没浪了。洪湖水也就剩几十厘米深。根本原因是因为湖北省担任了中国两个最大的工程—三峡和南水北调工程。其实这两个工程是一个姐妹工程，密不分，南水北调中线方案的源头工程，就是三峡的水源工程。三峡工程问题突出的原因，并非像国内宣传的那样是什么三峡派海外黑手搞的，其实是国内地方对中央矛盾所引起的。因为干旱现象在湖北和江西已非常突出了。<br />三峡工程干旱问题的治理，首先是江西省在13年提出来的，是省水利厅一些技术人员要搞鄱阳湖拦水大坝工程。为什么要建这个工程？是因为三峡大坝影响了鄱湖的蓄水，这么引出来的。<br />2013年的干旱，是当时专家预计的2030年要出现的，那么现在2011年就出现了。而且缺的很厉害，也不像人们说的南方水多，长江流域也将进入枯水，中下游缺缺的很厉害，尤其是湖北省。当时的湖北所有水库几乎是底朝天了。就是南水北调中线工程源头的水库—丹江河水库水位已降到死水位，没有水可以向外排放了。以当时湖北省要求三峡水库赶紧放水。如果当时三峡工程放水的话，就可以看到一个相当可怕的过程，就是说三峡把每天放3000至5000多立方米的水，但是水到湖北地区马上就被抽上去。<br />鄱阳湖快干枯江西省受不了，为什么？因为中国的抽水工程太厉害了，水泵太厉害了，把长江的水都抽到支流里去了。所以主流水位越往下游水量越少。所以人为自然干涉情况已到了很严重的地步。这种干旱情况未来还会重复出现，而且未来在用水问题上的矛盾还会更尖锐。<br />南水北调的是中线方案，是指从三峡把水调过去，而不是在丹江口把水调过去。要在三峡把洪水卡住，把三峡的水调到北方去。<br />长江在历史上流量最小时就有3000多立方/每秒，而黄河平均也就几百立方/每秒，两条河相差很多。长江平均年流量每秒是一万多立方。洪水期流量更大，千年遇的洪水流量大概是九万多立方/每秒，万年一遇的洪水流量是十一万多立方/每秒。如果回到长江的原始状态，其出海口是个湖，湖面宽是20多公里。唐诗中：“帆远影碧空尽，唯见长江天际流”，你会看到那是一条很宽广的河。所以在历史上说长江洪灾很少，而说黄河洪灾的记录就比较多。因为长江下游的蓄水能力很大所以洪水灾害比较小。所以现在长江水位少，而抽水就形成了湖北抽水，湖南就没有多少水可抽，那江西就更受不了，因为水位更低，所以鄱阳湖就像长江的水保住了，因此江西省闹得就特别厉害。<br />南水北调和三峡里面太多荒唐的东西了，建国以来中国的水利就是在玩水。它根本就不尊重自然规律，想把水折腾到哪儿就折腾到那儿。其实如果中国真的要调水就应该使用地下暗管，就像输油管道一样，埋在地下，又能省地、又没有风险，还能避免人家抢水，能保证进京的水。可是领导人必须让他的功绩让老百姓看得见还得让天上的卫星能够拍得到，比方说隋炀帝修的大运河还留在那儿，南水北调的工程是XXX搞的，三峡工程是XXX的，留在那儿的。<br />除了领导人，知识分子也是很聪明的，他们是有学习能力的。看看三峡工程中在最后报告上签字的那些专家们，最后都成了工程院和科学院的院士，成了对国家有献的特殊专家和院士，得了这个奖那个奖。你再看那看看那九位没有签名的专家，他们的水平绝对在签了字的人之上，但是没有一个人成为院士。中国的知识份子名利都看得很重，这也不是他们的错。这些还想进入科学最高殿堂的知识份子，他们在三峡工程的学习过程中，知道还是不说的好，说了也没有用。 因为他们的想是步入殿堂，如果他们说了的话，现在很可能连一个科研的题目、科研经费都拿不到。就像黄万里一样，给三峡工程写了那么多的论文，他有一分钱的科研经吗？他从朝廷拿了一分钱的科研经费吗？没有。<br />所以说，三峡工程在中国的学术界造成了一个很坏的影响，开了一个很坏的先例，后边的人知道了，尽管不是像当初那样被打成右派，可他把你打成另类，没有科经费，那你怎么办！你想当院士，没门。所以他们就不说了。我们一直在玩水的专家学者们，竟忘了一个最浅显的道理：水是从高往低流的，真乃一大黑色幽默。 当一件事，光有赞成而没有批评意见时，这件事错误的可能性很大。当三峡工程和南水北调工程只剩下一位黄万里先生，像唐吉珂德一样批评时，就注定了。<br />所以，鄱阳湖的现状就是这样， 不建大坝，江西无水可用；建了大坝，毁了白鹤和江豚栖息地。人与自然，在我朝一直就不是可以和谐发展的。<br />大家都知道这两项伟业贻害万年，谁又敢反对呢？ 民众反对–有个屁用，实在不行给你扣个反贼帽子你试试。地方官员反对–除非你想断送大好前途，呵呵。专学者反对–呵呵，当政者反对–否定前辈路线，自扇耳光。所以，这是一个很现实，也很魔幻的中国特色的伟业。<br />~最后，祝伟大祖国繁荣昌盛，千秋万代！</p>          </div><p>十年之前，我还在上两江，那时候两江很热闹，现在两江也还开着（这里感谢饿老大，坚守到现在不容易）</p><p>在成都的河里湖里随便找找，能看到什么呢，满地食蚊红耳龟福寿螺罗非小龙虾，再找找才能看到点子陵和吸鳅爬鳅之类的，唉</p><blockquote class="blockquote-center"><p>Repair what you can — but when you must fail,fail noisily and as soon as possible.</p></blockquote><p>不知巴拉水电站能否被拦下马，留给川陕哲罗鲑的时间不多了</p><p>十年前，小南海水电站，下马了</p><p><span class="exturl" data-url="aHR0cDovL2NxaDJvLmNvbS9mb3J1bS5waHA/bW9kPXZpZXd0aHJlYWQmYW1wO3RpZD0zMzUxMQ==" title="http://cqh2o.com/forum.php?mod=viewthread&amp;tid=33511">坚决反对修建小南海水电站<i class="fa fa-external-link"></i></span></p><p>也罢</p><p><img data-src="/aa1c/old.jpg" alt="道子搜山" /></p><blockquote class="blockquote-center"><p>君不见，高堂明镜悲白发，朝如青丝暮成雪</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>也谈心率变异性</title>
      <link href="/2873/"/>
      <url>/2873/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>等待填坑</p><a id="more"></a><h2 id="采集"><a class="markdownIt-Anchor" href="#采集"></a> 采集</h2><p>HRV测定的是NN间期(在正常的窦性心律时就是RR间期)的波动，主要与自主神经调控机制有关。标准的HRV根据正常窦性搏动的NN间期得出的（正常对正常间期，normal-to-normal,<em>NN</em> intervals，即由窦房结除极所致相邻QRS波群之间的所有间期）的变化来表示心率的变异性。</p><img data-src="/2873/201804091523323502.png" alt="提取心率变异性" style="zoom: 67%;" /><h3 id="心电ecg"><a class="markdownIt-Anchor" href="#心电ecg"></a> 心电（ECG）</h3><p>可以从心电图中直接提取R波尖峰并将RR间期的值用于心率变异性分析</p><h3 id="心冲击图bcg"><a class="markdownIt-Anchor" href="#心冲击图bcg"></a> 心冲击图（BCG）</h3><p>心冲击图去除呼吸和活动的干扰后提取JJ间期时间计算心率变异</p><h3 id="光电容积图ppg"><a class="markdownIt-Anchor" href="#光电容积图ppg"></a> 光电容积图（PPG）</h3><p>目前市面上主要的脉搏波测量方法是光电容积脉搏波描记法（photoplethysmography），用光电传感器检测光经过人体的反射和衰减转换成电信号后得到，包括Apple Waltch等手环产品，用光电容积法检测血氧、心率、心率变异性等生理参数。</p><p><img data-src="/2873/figure-1-optical-heart-rate-sensing.jpg" alt="光电容积法原理" /></p><p>PPG法采集到的脉搏波经过去噪和整流等处理后提取PP间期可以计算心率变异。</p><h4 id="远程光电容积扫描"><a class="markdownIt-Anchor" href="#远程光电容积扫描"></a> 远程光电容积扫描</h4><p>（rPPG，remote PPG）是一种新的方法，只要高清摄像头检测光线变化，真正的无创非接触。</p><p>但是这种方法成本高，易受到运动和光线变化的干扰。目前这个领域比较热门，进展也很快。一些补偿和增强鲁棒性的方法包括全局和局部运动跟踪和独立成分分析等。</p><p>现在此类研究缺乏可靠的公开数据集支持，现有研究大多采用MAHNOB-HCI和DEAP等用于活体识别和情感识别的公开数据集和私有数据集。</p><p><img data-src="/2873/figure-3-overview-hr-and-hrv.jpg" alt="rPPG-HRV" /></p><h2 id="产生机理和影响因素"><a class="markdownIt-Anchor" href="#产生机理和影响因素"></a> 产生机理和影响因素</h2><p><img data-src="/2873/%E7%A4%BA%E6%84%8F%E5%9B%BE.png" alt="示意图" /></p><blockquote><p>HRV反映的是自主神经和非自主神经系统所有反馈回路极其复杂的非线性交互作用。自主神经系统是窦性节律条件下心率的主要调节机制。</p></blockquote><p>忽略微小的影响，HRV的高频部分主要受迷走神经的调节，低频部分受到迷走和交感神经的双重作用。</p><p><img data-src="/2873/nero2.jpg" alt="" /></p><blockquote><p>交感神经增强自律性，而副交感神经抑制自律性。交感神经通过增加起搏点去极化程度产生变时性作用，而对心脏起搏点细胞的迷走刺激会引起超极化而降低去极化程度。自主神经的这两个分支均影响与心脏起搏细胞去极化相关的离子通道的活动。</p></blockquote><p>被测者的体位也会显著影响HRV，多数人处于仰卧位时，副交感神经活动明显增强。</p><p>在突然站立或倾斜时，压力反射活动也会引起心率的同步波动。</p><p>在24小时HRV中，白天交感神经活动相对增强，心率较快，而夜间迷走神经活动增强，心率较慢。正常睡眠时，生理活动也随每个睡眠周期(约90分钟)而呈现明显节律。</p><p>精神情绪的波动也会影响HRV，和迷走神经和交感神经系统的兴奋性有关。</p><img data-src="/2873/image-20191225214555467.png" alt="image-20191225214555467" style="zoom:50%;" /><p>此外，非自主神经因素(如神经内分泌功能)也会影响HRV。</p><p>心率变异性也和年龄、性别等因素有关。</p><h2 id="主要指标和数据分析"><a class="markdownIt-Anchor" href="#主要指标和数据分析"></a> 主要指标和数据分析</h2><h3 id="时域特征"><a class="markdownIt-Anchor" href="#时域特征"></a> 时域特征</h3><p>医学上通常要求5分钟以上的的HRV做短时分析，但是有研究表明30s内的HF和LF和5分钟的没有太大区别，应用是可以进一步缩短检测时间。</p><ul><li><p>SDNN(ms)：NN间期(正常RR间期)的标准差(5分钟)</p></li><li><p>SDANN(ms)：NN间期(正常RR间期)的标准差（24小时）</p></li><li><p>pNN50：相邻NN间期相差&gt;50ms的数量占总心搏数的百<br />分比</p></li><li><p>rMSSD(ms)：相邻NN间期差值的均方根</p></li></ul><p>rMSSD反映每搏NN间期变化的平均绝对值，对不规律心搏和/或心搏波形标记错误的敏感性也很高。</p><p>24小时记录得到的SDANN值低下表明缺乏昼夜节律。</p><h3 id="频域特征"><a class="markdownIt-Anchor" href="#频域特征"></a> 频域特征</h3><ul><li><p>总功率（TP）：频段≤0. 4Hz。</p></li><li><p>超低频功率（ULF）：频段≤ 0. 003Hz。</p></li><li><p>极低频功率（VLF）：频段 0. 003~0. 04Hz。</p></li><li><p>低频功率（LF）：频段 0. 04~0. 15Hz。</p></li><li><p>高频功率（HF）：频段 0. 15~0. 4Hz。</p></li><li><p>LF/HF: 低频功率和高频功率的比值</p></li></ul><p>LF反映副交感传出神经(迷走神经)和交感传出神经系统活性的综合调节</p><p>HF反映副交感传出神经(迷走神经)活动的调节</p><h3 id="非线性分析"><a class="markdownIt-Anchor" href="#非线性分析"></a> 非线性分析</h3><h4 id="动态心电图holter-monitor"><a class="markdownIt-Anchor" href="#动态心电图holter-monitor"></a> 动态心电图（Holter monitor）</h4><p>持续记录24小时或更久（几个月或一年以上）的长时间心电图数据，主要用来检测心律失常或传导异常和晕厥或晕厥前兆。</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mover accent="true"><mi>b</mi><mo>˙</mo></mover><mi>c</mi></mrow><annotation encoding="application/x-tex">a\dot{b}c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9313em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9313em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">b</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.13889em;">˙</span></span></span></span></span></span><span class="mord mathdefault">c</span></span></span></span></p><h5 id="洛伦兹散点图"><a class="markdownIt-Anchor" href="#洛伦兹散点图"></a> 洛伦兹散点图</h5><img data-src="/2873/201804091524569747.png" alt="img" style="zoom:80%;" /><p>把前1个心动周期长度（ms）定为横坐标、后1个心动周期长度（ms）定为纵坐标，即可在直角坐标系中确定一点。这样一个点就由3个QRS波（R波）、2个RR间期决定。第1个RR间期R1R2和第2个RR间期R2R3为第1个点，第2个RR间期R2R3和第3个RR间期R3R4为第2个点，依次类推，从R1 -&gt; Rn作图就可得到 n-2 个点，绘制心率散点图（洛伦兹散点图，Lorenz Plot），判断窦性心率、室上性和室性心率失常。正常窦性心律呈彗星状，心衰、房颤等症状会出现不同的散点图。窦性心律沿45°线分布，呈彗星状</p><img data-src="/2873/image-20191224202624859.png" alt="室性早搏" style="zoom: 67%;" /><img data-src="/2873/image-20191224202756257.png" alt="房性早搏" style="zoom: 67%;" /><p>散点图可用于：</p><p>评价心率波动范围（散点图的位置分布）</p><p>评价自主神经调节（长轴）</p><p>评价心率变异（短轴）</p><p>诊断心律失常（散点图的形态）</p><h5 id="差值散点图"><a class="markdownIt-Anchor" href="#差值散点图"></a> 差值散点图</h5><p>首先对序列 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi><mi>i</mi><msub><mi>R</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">RiR_{i+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> 做一阶差分, 得到序列 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mi>j</mi></msub><mo separator="true">,</mo><mi>j</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">d_j ,j=1,2,\dots N-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 然后以 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>d</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi>d</mi><mrow><mi>j</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(d_j, d_{j+1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 为坐标绘制散点图（Poincaré散点图）。差值散点图反映了RR间期差值的离散度 ,对连续RR间期的变化十分敏感。</p><p>首先对序列<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>R</mi><mi>i</mi></msub><msub><mi>R</mi><mrow><mi>i</mi><mo>×</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">R_iR_{i\times1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">×</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>做一阶差分, 得到序列 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mi>j</mi></msub><mo separator="true">,</mo><mi>j</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">d_j,j=1,2,\dots N-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 然后以 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>d</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi>d</mi><mrow><mi>j</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(d_j, d_{j+1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 为坐标绘制散点图（Poincaré散点图）。差值散点图反映了RR间期差值的离散度 ,对连续RR间期的变化十分敏感。</p><p><img data-src="/2873/image-20191225111057030.png" alt="健康人和CHF患者的散点图" /></p><h5 id="三维散点图"><a class="markdownIt-Anchor" href="#三维散点图"></a> 三维散点图</h5><p>三维散点图的一些意义还不明确，医院里实际用的也很少<br /><img data-src="/2873/3D-scatter-plot.png" alt="心率变异性三维散点图" /></p><h5 id="心率震荡hrt"><a class="markdownIt-Anchor" href="#心率震荡hrt"></a> 心率震荡（HRT）</h5><p>心率震荡（heart rate turbulence）是指发生室性早搏后，窦性心律出现短暂的加速和减速的过程。检测HRT异常有助于预测自主神经功能障碍以及心血管事件的风险增加。</p><p>分析HRT通常需要24小时HRV动态心电图，主要有震荡初始(turbulence onset, TO)和震荡斜率(turbulence slope, TS)两个指标。</p><h2 id="临床价值和应用"><a class="markdownIt-Anchor" href="#临床价值和应用"></a> 临床价值和应用</h2><h3 id="心肌梗死死亡率预测"><a class="markdownIt-Anchor" href="#心肌梗死死亡率预测"></a> 心肌梗死死亡率预测</h3><p>心梗后早期(14日内)，若检测到患者的HRV指标降低，则心梗后3年内的死亡风险增至3-4倍。</p><h3 id="心力衰竭"><a class="markdownIt-Anchor" href="#心力衰竭"></a> 心力衰竭</h3><p>已知就预后而言，HRV降低是总体死亡、心力衰竭死亡、心脏性猝死、室性心律失常和心脏移植的<br />独立预测指标</p><h3 id="评估自主神经病变"><a class="markdownIt-Anchor" href="#评估自主神经病变"></a> 评估自主神经病变</h3><p>HRV明显降低或缺失可以作为辅助指标。</p><h3 id="冠心病"><a class="markdownIt-Anchor" href="#冠心病"></a> 冠心病</h3><p>冠心病患者的HRV显著降低,且与冠状动脉病变支数及狭窄程度呈负相关,但与冠状动脉病变部位无关。</p><h3 id="检测精神压力"><a class="markdownIt-Anchor" href="#检测精神压力"></a> 检测精神压力</h3><p>短时HRV变化可用于辅助检测精神压力</p><p>迷走神经的冲动传导频率受呼吸频率和深度的调节而呈现节律性波动，呼吸性窦性心律不齐(respiratory sinus arrhythmia, RSA)。在有节奏的呼吸或冥想时，RSA可被放大。</p><h3 id="评估体育表现"><a class="markdownIt-Anchor" href="#评估体育表现"></a> 评估体育表现</h3><p>可以作为推测无氧阈的较为精确的指标之一</p><blockquote><p>注意<br />在运动评估中一般只有要求无伤等才会首先考虑HRV，一般是用血清肌酸激酶(CK)、血清睾酮(T)、血红蛋白、乳酸等</p></blockquote><h3 id="监测训练负荷及诊断运动性疲劳"><a class="markdownIt-Anchor" href="#监测训练负荷及诊断运动性疲劳"></a> 监测训练负荷及诊断运动性疲劳</h3><p>交感一副交感神经张力的平衡会随着运动强度的改变而波</p><h3 id="运动康复医学领域"><a class="markdownIt-Anchor" href="#运动康复医学领域"></a> 运动康复医学领域</h3><p>用于自主神经功能改善的评估</p><h3 id="睡眠分期"><a class="markdownIt-Anchor" href="#睡眠分期"></a> 睡眠分期</h3><p>略</p><h2 id="其他"><a class="markdownIt-Anchor" href="#其他"></a> 其他</h2><h3 id="呼吸和心率变异性"><a class="markdownIt-Anchor" href="#呼吸和心率变异性"></a> 呼吸和心率变异性</h3><h4 id="bcg信号中的呼吸信息"><a class="markdownIt-Anchor" href="#bcg信号中的呼吸信息"></a> BCG信号中的呼吸信息</h4><p>在采集到的BCG信号中，会包含呼吸信息，提取心率变异性通常要去除呼吸的干扰。</p><p>但是在一些利用HRV进一步分析情绪、压力、睡眠分期的时候，可以考虑保留部分呼吸特征并将呼吸特征纳入到检测和分类中，有时可以提高检测的准确率。</p><p>在心率变异性分析中纳入呼吸频率信息以进行压力评估</p><h4 id="呼吸变异性"><a class="markdownIt-Anchor" href="#呼吸变异性"></a> 呼吸变异性</h4><p>呼吸频率变异性(Respiratory Rate Variability，RRV, 有的地方也叫Breath Rate Variability），和心率变异性一样反映了一些生理特征，但是这种非电信号采集难，噪声大，不规律，包含的信息也比心电和脉搏波等信号少。除了</p><p>目前对于RRV的研究比较少，也很少有人用这个特征做睡眠分期检测、疲劳压力检测或睡眠呼吸暂停的检测。一些使用雷达等手段检测疲劳或者睡眠的研究将这项指标作为判断依据。雷达和监控视频等可以在较近的距离探测人体呼吸活动和心率，但是这样采集分离出的心动信息用作睡眠和疲劳监测不如直接采集呼吸和运动的信息进行分析。对于体重指数（body mass index ）过高的的超重人群、较复杂的干扰和活动等情景，使用雷达等方式检测压力或疲劳时HRV准确率大幅降低，从心动信息检测不如直接从呼吸信息检测。在这些场景下会使用呼吸和体动信息来作为指标。</p><h2 id="数据和软件"><a class="markdownIt-Anchor" href="#数据和软件"></a> 数据和软件</h2><ol><li><span class="exturl" data-url="aHR0cHM6Ly93d3cua3ViaW9zLmNvbS9ocnYtc3RhbmRhcmQv" title="https://www.kubios.com/hrv-standard/">https://www.kubios.com/hrv-standard/<i class="fa fa-external-link"></i></span> 免费的HRV分析软件</li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cucGh5c2lvbmV0Lm9yZy8jbGF0ZXN0" title="https://www.physionet.org/#latest">https://www.physionet.org/#latest<i class="fa fa-external-link"></i></span> 心电图数据</li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1EX0tZdjdwWEF2UQ==" title="https://www.youtube.com/watch?v=D_KYv7pXAvQ">https://www.youtube.com/watch?v=D_KYv7pXAvQ<i class="fa fa-external-link"></i></span> rPPG检测心率</li><li><span class="exturl" data-url="aHR0cHM6Ly9weXBpLm9yZy9wcm9qZWN0L2JvYi5ycHBnLmJhc2Uv" title="https://pypi.org/project/bob.rppg.base/">https://pypi.org/project/bob.rppg.base/<i class="fa fa-external-link"></i></span> rPPG的开源库，数据集MAHNOB-HCI和DEAP</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> HRV </tag>
            
            <tag> BCG </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>试图抢救吃灰的树莓派</title>
      <link href="/7042/"/>
      <url>/7042/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mn>1</mn><mn>3</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>自从来到沙河102网吧，都是在工作站/服务器/台式机上折腾，树莓派一直仍在清水河宿舍吃灰。今天回了趟清水河，把树莓派拿回来，试试能不能用，打算做备用测试机了。</p><a id="more"></a><h2 id="装系统"><a class="markdownIt-Anchor" href="#装系统"></a> 装系统</h2><p>从官网下载<sup id="fnref:1"><a href="#fn:1" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="http://downloads.raspberrypi.org/">[1]</span></a></sup>, 我下的Raspbian Buster（SD卡就只有16G，不打算搞那些recommend software了），解压之后已经是3.56G了</p><p>然后用Rufus烧进SD卡（很多教程全是推荐Win32Diskimager，那个并没有Rufus好用），只选第一行的目标设备和第二行引导镜像，其他默认（卡里之前有东西的话还是用SD Formatter先刷一遍）</p><p>然后将SD卡查到卡槽里，再把显示器接上（我工位上的ROC显示器有HDMI接口和电源, 终于不用无显示器安装拿个笔记本上来就SSH折腾了）</p><p>不行，搜了一下看到config.txt文件里有</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># uncomment to force a specific HDMI mode (this will force VGA)</span><br><span class="line">#hdmi_group&#x3D;1</span><br><span class="line">#hdmi_mode&#x3D;1</span><br></pre></td></tr></table></figure><p>要把模式改一下啊</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hdmi_group&#x3D;2</span><br><span class="line">hdmi_mode&#x3D;58</span><br></pre></td></tr></table></figure><p>这样感觉还是不方便，还要占掉我一个大屏。改回了SSH连接的方式</p><p>在boot目录新建SSH文件夹，然后新建一个wpa_supplicant.conf的文件配置WIFI</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">country=CN</span><br><span class="line">ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev</span><br><span class="line">update_config=1</span><br><span class="line"></span><br><span class="line">network=&#123;</span><br><span class="line">    ssid="你的WIFI名"</span><br><span class="line">    psk="你的密码"</span><br><span class="line">    key_mgmt=WPA-PSK</span><br><span class="line">    priority=1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后路由器找到ip，SSH连就行了，默认账号pi password：raspberry</p><p>发现这个树莓派真的鸡肋啊，扔着吃灰又可惜，不折腾硬件和IO不在乎功耗又不如有1080的工作站和20核CPU的服务器好（而且这俩还有公网IP和端口）</p><p>算了，每次折腾完了就后悔。<br />本逃兵不打算折腾硬件了，从医疗测控电路到stm32到树莓派的IO，都不太想碰了。时代变了，七八十年代的硅谷才是搞硬件的地方，二十一世纪是…反正不是硬件狗的世纪。251牢厂、加班狂魔联影、毁约的迈瑞，只想让人看了跑路。。。</p><p>服务器，启动。树莓派，关机。</p><h2 id="注"><a class="markdownIt-Anchor" href="#注"></a> 注</h2><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">http://downloads.raspberrypi.org/<a href="#fnref:1" rev="footnote"> ↩</a></span></li></ol></div></div>]]></content>
      
      
      <categories>
          
          <category> 杂七杂八 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 树莓派3B+ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>尝试Netlify自动部署和CMS</title>
      <link href="/e9d5/"/>
      <url>/e9d5/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>又开始了瞎折腾。话说我这种没人看的静态小破网站，真的有必要持续集成、持续部署吗？</p><a id="more"></a><h2 id="使用netlify进行自动化部署"><a class="markdownIt-Anchor" href="#使用netlify进行自动化部署"></a> 使用Netlify进行自动化部署</h2><p>不知道怎么都在搞CI/CD（Continuous Integration/Continuous Deployment），Github也搞了个Github Action。看了一圈感觉对于我这种半个月git commit一次备份博客的人并没有什么必要，而且不管是travis ci还是github action或netlify自己的在线build都很慢，博客东西多一点几分钟就过去了（没有特殊需求就想安安静静写个博客就不要搞这个了，本地hexo g，hexo d推到github pages或者netlify就完事了，速度还快）</p><p>之前都是在本地生成，hexo g &amp;&amp; hexo d 推到Github pages，然后Netlify关联这个仓库自动拉取(好像是用的钩子吧)。备份的时候再 git commit &amp;&amp; git push 本地项目。<br />现在每次 git commit 备份并 git push，让Netlify从Hexo的项目直接在线 Hexo g ，按部就班授权，改仓库，改deploy命令为 hexo clean &amp;&amp; hexo generate<br />结果直接Deploy failed了<br />报错:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">failed during stage &#39;preparing repo&#39;: Error checking out submodules: fatal: No url found for submodule path &#39;themes&#x2F;next&#39; in .gitmodules</span><br></pre></td></tr></table></figure><p>查了一下发现是Netlify会把每一个包含.git的子目录当成是一个submodule，并且每次都要<code>git submodule update</code>一下，但是这个next主题的git仓库又没有在在我的.gitmodules配置里面设置为submodule, 那我们直接把themes/next加到.gitmodules里面就好了&lt;sup id=“fnref:1”&gt;<a href="#fn:1" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[Git 工具 - 子模块](https://git-scm.com/book/zh/v2/Git-工具-子模块) 可能会有切换分支等其他问题">[1]</span></a></sup></p><p>在根目录（执行hexo g &amp;&amp; hexo d的那个目录）新建<code>.gitmodules</code>写入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[submodule &quot;themes&#x2F;next&quot;]</span><br><span class="line">path &#x3D; themes&#x2F;next</span><br><span class="line">url &#x3D; https:&#x2F;&#x2F;github.com&#x2F;theme-next&#x2F;hexo-theme-next</span><br></pre></td></tr></table></figure><p>再执行就行了(先<code>git commit</code>,再<code>git push</code>,再进Netlify试一下)</p><p>看到Deploy log：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">4:46:21 PM: Minifying js bundle</span><br><span class="line">4:46:22 PM: Minifying css bundle</span><br><span class="line">4:46:23 PM: Minifying css bundle</span><br><span class="line">4:46:36 PM: Finished processing build request in 56.658478141s</span><br><span class="line">4:46:37 PM: Post processing done</span><br><span class="line">4:46:37 PM: Site is live</span><br></pre></td></tr></table></figure><p>行了，速度还是可以的，build过程56秒（虽然本地只要几秒，Hugo之类的更快）<br />对比一下本地</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">INFO  Files loaded in 3.96 s</span><br><span class="line">···</span><br><span class="line">INFO  180 files generated in 2.01 s</span><br></pre></td></tr></table></figure><p>这个速度可以接受，据说Netlify最近新增了CI的时间限制（官网说是300 included/month，每个月三百分钟），但是我这种不是重度用户的人根本用不完（实在不行本地hexo s调试好了再提交就完事了，Netlify也要恰饭的嘛，每次CI都要重新安装环境）<br />带宽也有限制，100GB，我这个没人看的小破博客也根本用不了。</p><p>还有一个小问题，改成这样之后发现每一篇文章的更新时间都变成了今天，暂时还没找到判定更新时间的原理是什么，一个办法是手动指定时间戳<br />在每个markdown文件开头</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">updated: '2019-11-30 20:22:52'</span><br><span class="line">date: '2019-11-30 20:22:52'</span><br></pre></td></tr></table></figure><p>更新，找到了这个时间戳的问题，看这个issue：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RoZW1lLW5leHQvaGV4by10aGVtZS1uZXh0L2lzc3Vlcy84OTM=" title="https://github.com/theme-next/hexo-theme-next/issues/893">The update time of the article is incorrect<i class="fa fa-external-link"></i></span></p><p>大概是Git在checkout的时候，没有正确保留时间戳，试了一下，应该就是push上去的时间，而不是修改后add的时间或者commit的时间</p><blockquote><p>It uses the push time of the last modification of the file.</p></blockquote><p>根据issue里的解决办法，只要在<code>hexo clean &amp;&amp; hexo generate</code> 之前加上<code>git ls-files -z | while read -d '' path; do touch -d \&quot;$(git log -1 --format=\&quot;@%ct\&quot; \&quot;$path\&quot;)\&quot; \&quot;$path\&quot;; done</code>就行了</p><p>算了，直接关了吧</p><h2 id="netlify-cms-使用"><a class="markdownIt-Anchor" href="#netlify-cms-使用"></a> Netlify CMS 使用</h2><p>（多说一句，Netlify官网打开是真的慢啊）<br />我已经踩过坑了，没有他们吹的那么好，大骗子，这个也就手机/平板写markdown和发布可以将就一下，真的都不如随身带个U盘里面装着博客工程或者markdown体验好<br />如果不是有多人协作之类的需求就不要乱试了（除非你真的吃饱了撑的没事干</p><p>如果你还是要安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add hexo-netlify-cms</span><br></pre></td></tr></table></figure><p>然后在Netlify里面设置一下&lt;sup id=“fnref:2”&gt;<a href="#fn:2" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="<https://www.dnocm.com/articles/beechnut/hexo-netlify-cms/>">[2]</span></a></sup>, 开启git-gateway服务并在Snippet Injection加入一行代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://identity.netlify.com/v1/netlify-identity-widget.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>打开yoursite/admin就可以看到了<br />这个时候Settings-&gt;Identity-&gt;Registration是开放注册的，我们改成Invite only<br />然后在设置里面Settings-&gt;Identity-&gt;External providers里面进行Github授权或者在在identity页面发邮件邀请（是点进你的team里面identity页面输入邮件地址然后点invite users按钮，不是在设置里的identity）<br />由于我是白嫖用户，Indetity Level 0，什么Audit log之类的都用不了, 设置到这里基本就结束了。</p><ul><li>这句话是我在Netlify CMS里面打的，试试，貌似这个在线的markdown编辑器并不太好用,感觉跟CodiMD差了好多啊，也没有夜间模式，也不支持Mathjax之类的</li></ul><p>行吧，感觉被坑了啊，一点也不好用啊。<s>等有空我在教研室服务器上部署个CodiMD玩</s></p><p>（或许可以在本地写好了markdown再粘贴上去，这个markdown在线编辑器实在是难用，而且丑）</p><p>唯一能看的就是它会自动同步你的repo，但是你下次在本地编辑的时候还得git pull一下，什么时候仓库不在手边的时候能拿来将就一下。（好像可以拿手机之类的操作啊）</p><p>什么，你说多人协作？也不太好用，免费用户invite只能五个账号，鸡肋；收费用户太贵了，并不划算。还不如直接建一个git repository多人协作结合CI发布。至于使用Netlify CMS多人一起维护发布网站内容, 行吧，个人博客基本用不到。也许是给不愿意折腾又想建站还想搞个静态博客的小白用的，但是这样的小白真的有1%吗？</p><p>当然netilify cms对于静态网站还是有它的意义的，不然也不会在Github有那么多star，但是对于不需要多人协作的个人博客，就别装了吧（已经装了的和不折腾不舒服斯基人士请随意）</p><h2 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h2><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2ppYW5ndGovaGV4by1uZXRsaWZ5LWNtcy9ibG9iL21hc3Rlci9SRUFETUUtWkgubWQ=" title="https://github.com/jiangtj/hexo-netlify-cms/blob/master/README-ZH.md">Hexo Netlify CMS<i class="fa fa-external-link"></i></span></p><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cHM6Ly9naXQtc2NtLmNvbS9ib29rL3poL3YyL0dpdC0lRTUlQjclQTUlRTUlODUlQjctJUU1JUFEJTkwJUU2JUE4JUExJUU1JTlEJTk3" title="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E5%AD%90%E6%A8%A1%E5%9D%97">Git 工具 - 子模块<i class="fa fa-external-link"></i></span> 可能会有切换分支等其他问题<a href="#fnref:1" rev="footnote"> ↩</a></span></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">2.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cHM6Ly93d3cuZG5vY20uY29tL2FydGljbGVzL2JlZWNobnV0L2hleG8tbmV0bGlmeS1jbXMv" title="https://www.dnocm.com/articles/beechnut/hexo-netlify-cms/">https://www.dnocm.com/articles/beechnut/hexo-netlify-cms/<i class="fa fa-external-link"></i></span><a href="#fnref:2" rev="footnote"> ↩</a></span></li></ol></div></div>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> netlify </tag>
            
            <tag> ci </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VSCode使用ssh-key远程登录Ubuntu</title>
      <link href="/7f63/"/>
      <url>/7f63/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>兼谈使用SSH转发加快教研室网上冲浪速度</p><a id="more"></a><p>Mobaxterm挺好用的，只是那个文本编辑器不舒服。<br />试着用一下VSCode的remote-ssh<br />通过ssh-key登录就不多讲了<sup id="fnref:1"><a href="#fn:1" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[设置 SSH 通过密钥登录](https://hyjk2000.github.io/2012/03/16/how-to-set-up-ssh-keys/)">[1]</span></a></sup></p><h2 id="mobaxterm设置ssh密钥登录"><a class="markdownIt-Anchor" href="#mobaxterm设置ssh密钥登录"></a> Mobaxterm设置SSH密钥登录</h2><p>ssh-keygen生成密钥之后在Mobaxterm的SSH设置找到Advanced SSH Setting里勾选import SSH key可以直接导入密钥。<br />退出再登录显示这样</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Authenticating with public key &quot;Imported-Openssh-Key: id_rsa&quot;</span><br></pre></td></tr></table></figure><p>就是成功了（失败会提示这样<code>Server refused our key</code>)</p><h2 id="vscode设置ssh密钥登录"><a class="markdownIt-Anchor" href="#vscode设置ssh密钥登录"></a> VSCode设置SSH密钥登录</h2><p>装Remote-ssh插件，然后左边框会有个小电脑的图标，点那个图标，再点SSH TARGETS的设置（Configure），进行配置<br />它有个配置文件，一般在<code>C:/Users/&lt;username&gt;/.ssh</code>下面的config<br />编辑它的配置文件，Host随便填，HostName填ip，User填用户名，IdentityFile填私钥路径，Port填端口（默认22可以不填）<br />（要是认证失败什么的，建议把那些.ssh文件夹底下的文件删了，比如known_hosts）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Host workstation</span><br><span class="line">    HostName hostname</span><br><span class="line">    User user</span><br><span class="line">    IdentityFile C:&#x2F;Users&#x2F;XXX&#x2F;.ssh&#x2F;id_rsa</span><br><span class="line">    Port 22</span><br></pre></td></tr></table></figure><p>连接的时候可能会让你手动在termial里的信息<br />这样应该就行了, 不用每次输密码了。看到那个</p><p>什么？想用密码不想用ssh-key密钥登录，不能保存密码🐴？<br />您好，官方文档说不能</p><blockquote><p>Yes, you should be prompted to enter your token or password automatically. However, passwords are not saved, so using key based authentication is typically more convenient</p></blockquote><p>（当然这里是新出的功能，bug当然少不了，我就遇到过<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC92c2NvZGUtcmVtb3RlLXJlbGVhc2UvaXNzdWVzLzEyMTc=" title="https://github.com/microsoft/vscode-remote-release/issues/1217">这样的<i class="fa fa-external-link"></i></span>, 一般遇到问题先升一下最新版或者用insider试试，再不行就去GitHub提issue）<br />其他的问题找官方文档<sup id="fnref:2"><a href="#fn:2" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[官方文档：Remote Development using SSH](https://code.visualstudio.com/docs/remote/ssh)">[2]</span></a></sup>看看，貌似可以SSH端口转发</p><p>远程SSH的VSCode插件是单独的，可以自行安装<br />如果你要配置多台主机SSH,在配置文件里并列加配置就行了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Host workstation</span><br><span class="line">    HostName hostname</span><br><span class="line">    User user</span><br><span class="line">Host Server</span><br><span class="line">    HostName hostname</span><br><span class="line">    User user</span><br></pre></td></tr></table></figure><h2 id="ssh端口转发"><a class="markdownIt-Anchor" href="#ssh端口转发"></a> SSH端口转发</h2><p>老网民很熟悉的网上冲浪手段之一就是SSH Tunnel<sup id="fnref:3"><a href="#fn:3" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[墙与梯的较量](https://blog.yandere.moe/moe/gfw-vs-proxy/97.html)">[3]</span></a></sup>。当只开了22端口的时候可以用这种方法绕过防火墙用TCP之类的，当然，这种方法曾经也用来突破那个巨大的 防火墙 。<br />今天我突发奇想，看到工作站和服务器的专用线路的速度贼快啊，<s>专用线路从来不低于45Mb/s不高于50Mb/s的速度毫不含糊</s>，还有公网IP。<br />而102网吧由于老板太抠，四个人用一个路由器，辣鸡校园网网速10M/s都跑不到…</p><p>使用Mobaxterm和SwityOmega插件可以满足大部分需求</p><p>MobaXterm里选Tools &gt; MobaSHHtunnel &gt; New SHH tunnel &gt; Dynamic Port forwarding (SOCKS proxy)</p><p>那个Dynamic Port 是动态转发，不是v2ray那种用来防止被封的动态端口，就是你本地的端口会被转到服务器上相同的端口，是sockets5代理<br />配置你的端口和密钥（最好把那个autostart和Autoconnect也选上），然后到SwityOmega之类的工具里面填上相应的端口，就可以愉快的上网了。从浏览器的IP查询网站看一下IP，已经是服务器的IP了</p><p>更新，看错了，忘了分Mbps和MBps了，实际上快不了多少，只有6MBps/s。但是没人跟我抢，自己走专线还是快一点的。</p><p>终端的命令可以看这篇，不多说了<sup id="fnref:4"><a href="#fn:4" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[实战 SSH 端口转发](https://www.ibm.com/developerworks/cn/linux/l-cn-sshforward/index.html)">[4]</span></a></sup></p><h2 id="突然意识到"><a class="markdownIt-Anchor" href="#突然意识到"></a> 突然意识到</h2><p>为什么要用SSH呢，现在不用担心被FIREWALL制裁, 流量特征明显的WireGuard可以用了呀…<br />有空试试这个闪闪发光的新生代VPN, 底层貌似是UDP，红龙LOGO挺拉风的(跑题了<br />WireGuard据说要加到新的Linux Kernel里面，但是现在教研室的老Ubuntu只能自己装（这个我18年就听说了要加进kernel啦，连Linus都说好要加辣<sup id="fnref:5"><a href="#fn:5" rel="footnote">&lt;span class=“hint–top hint–error hint–medium hint–rounded hint–bounce” aria-label=&quot;Linus在邮件中回复说：</p><blockquote><p>Btw, on an unrelated issue: I see that Jason actually made the pull<br />request to have wireguard included in the kernel.</p><p>Can I just once again state my love for it and hope it gets merged<br />soon? Maybe the code isn’t perfect, but I’ve skimmed it, and compared to the horrors that are OpenVPN and IPSec, it’s a work of art.<br />见<span class="exturl" data-url="aHR0cHM6Ly9sa21sLm9yZy9sa21sLzIwMTgvOC8yLzY2Mw==" title="https://lkml.org/lkml/2018/8/2/663">https://lkml.org/lkml/2018/8/2/663<i class="fa fa-external-link"></i></span><br />&quot;&gt;[5]</span></a></sup>然而鸽到现在，还是没加，据说作者在搞windows的,现在做的差不多了，要回来折腾Linux了）<br />之前WireGuard由于流量特征太明显就换了v2，现在试试这个<br />安装比Openvpn简单，Ubuntu直接PPA装就行了（需要root权限）</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:wireguard/wireguard</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install wireguard</span><br></pre></td></tr></table></figure><p>win10的官方客户端已经出了，之前18年那会我还用的Tunsafe，设置参考这里<sup id="fnref:6"><a href="#fn:6" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[Setting up WireGuard on Windows](https://golb.hplar.ch/2019/07/wireguard-windows.html)">[6]</span></a></sup><br />听八卦说Tunsafe和WireGuard作者还有过撕逼，此处不表</p><h3 id="其他"><a class="markdownIt-Anchor" href="#其他"></a> 其他</h3><h3 id="开机自启"><a class="markdownIt-Anchor" href="#开机自启"></a> 开机自启</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> wg-quick@wg0</span><br></pre></td></tr></table></figure><h3 id="使用vscode愉快的写cc"><a class="markdownIt-Anchor" href="#使用vscode愉快的写cc"></a> 使用VSCode愉快的写C/C++</h3><p>装C/C++和coderunner插件就行了，现在可以自动配置运行和调试的文件了（就那个以前一堆坑还经常改一更新就配置失效的launch.json和config.json）</p><h3 id="vscode连接docker"><a class="markdownIt-Anchor" href="#vscode连接docker"></a> VSCode连接Docker</h3><p>安装Docker和Docker compose插件（在远程里面），然后直接用就行了</p><h2 id="注"><a class="markdownIt-Anchor" href="#注"></a> 注</h2><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cHM6Ly9oeWprMjAwMC5naXRodWIuaW8vMjAxMi8wMy8xNi9ob3ctdG8tc2V0LXVwLXNzaC1rZXlzLw==" title="https://hyjk2000.github.io/2012/03/16/how-to-set-up-ssh-keys/">设置 SSH 通过密钥登录<i class="fa fa-external-link"></i></span><a href="#fnref:1" rev="footnote"> ↩</a></span></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">2.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cHM6Ly9jb2RlLnZpc3VhbHN0dWRpby5jb20vZG9jcy9yZW1vdGUvc3No" title="https://code.visualstudio.com/docs/remote/ssh">官方文档：Remote Development using SSH<i class="fa fa-external-link"></i></span><a href="#fnref:2" rev="footnote"> ↩</a></span></li><li id="fn:3"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">3.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLnlhbmRlcmUubW9lL21vZS9nZnctdnMtcHJveHkvOTcuaHRtbA==" title="https://blog.yandere.moe/moe/gfw-vs-proxy/97.html">墙与梯的较量<i class="fa fa-external-link"></i></span><a href="#fnref:3" rev="footnote"> ↩</a></span></li><li id="fn:4"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">4.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cHM6Ly93d3cuaWJtLmNvbS9kZXZlbG9wZXJ3b3Jrcy9jbi9saW51eC9sLWNuLXNzaGZvcndhcmQvaW5kZXguaHRtbA==" title="https://www.ibm.com/developerworks/cn/linux/l-cn-sshforward/index.html">实战 SSH 端口转发<i class="fa fa-external-link"></i></span><a href="#fnref:4" rev="footnote"> ↩</a></span></li><li id="fn:5"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">5.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">Linus在邮件中回复说：&gt;Btw, on an unrelated issue: I see that Jason actually made the pull&gt;request to have wireguard included in the kernel.&gt;&gt;Can I just once again state my love for it and hope it gets merged&gt;soon? Maybe the code isn't perfect, but I've skimmed it, and compared to the horrors that are OpenVPN and IPSec, it's a work of art.见<span class="exturl" data-url="aHR0cHM6Ly9sa21sLm9yZy9sa21sLzIwMTgvOC8yLzY2Mw==" title="https://lkml.org/lkml/2018/8/2/663">https://lkml.org/lkml/2018/8/2/663<i class="fa fa-external-link"></i></span><a href="#fnref:5" rev="footnote"> ↩</a></span></li><li id="fn:6"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">6.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cHM6Ly9nb2xiLmhwbGFyLmNoLzIwMTkvMDcvd2lyZWd1YXJkLXdpbmRvd3MuaHRtbA==" title="https://golb.hplar.ch/2019/07/wireguard-windows.html">Setting up WireGuard on Windows<i class="fa fa-external-link"></i></span><a href="#fnref:6" rev="footnote"> ↩</a></span></li></ol></div></div>]]></content>
      
      
      <categories>
          
          <category> 102网吧日常 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ssh </tag>
            
            <tag> vscode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>给服务器重装Ubuntu</title>
      <link href="/2d5/"/>
      <url>/2d5/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><img width=100 data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/haixing.png" alt="Picture"/>祖传服务器传到了我的手里<a id="more"></a>上回书说到，服务器一不小心卸载了iptables现在准备重装。还是打算装Ubuntu Server（并不打算装Manjaro，也不适合搞桌面版，今天试过一下Ubuntu Desktop，图形化界面由于服务器没有独显直接卡到爆炸）~~初步打算安装Ubuntu server 16.04.6LTS, 使用LVM分区~~安装Ubuntu18.04LTS，之前VPS用过一阵18，也没注意有什么新特性，据说还是改了一些东西⬇<blockquote><p>据说<br />内核更新到了 Linux kernel 4.15，这就意味着新增了不少特性 bbr什么的<br />网络管理工具 ifupdown 已经彻底废弃，建议全面拥抱 ip 命令<br />DNS 由 systemd 全面接管，接口监听在 127.0.0.53:53，配置文件在 /etc/systemd/resolved.conf，修改后重启服务即可 systemctl restart systemd-resolved。不要听网上那些奇怪的教程教你如何修改 /etc/resolv.conf<br />swap 文件来替代 swap 分区</p></blockquote><h2 id="装ubuntu1604lts"><a class="markdownIt-Anchor" href="#装ubuntu1604lts"></a> 装Ubuntu16.04LTS</h2><h3 id="安装"><a class="markdownIt-Anchor" href="#安装"></a> 安装</h3><p>下载iso，制作启动盘，这里用的Rufus<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/rufus.png" alt="Picture" style="zoom:80%;" /></p><p>然后直接装，网卡直接自动识别了，配置也没什么好说的，可以参考这里<sup id="fnref:1"><a href="#fn:1" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[tutorial-install-ubuntu-server](ttps://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-server)">[1]</span></a></sup>或这里<sup id="fnref:2"><a href="#fn:2" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[Ubuntu16.04.5以lvm方式安装全记录](https://blog.51cto.com/3241766/2323927) [LVM arch-wiki](https://wiki.archlinux.org/index.php/LVM_(简体中文))">[2]</span></a></sup>,</p><h3 id="后续配置"><a class="markdownIt-Anchor" href="#后续配置"></a> 后续配置</h3><p>进去之后换你电镜像源（终端里vim改/etc/apt/sources.list）<br />apt包update&amp;&amp;upgrade<br />修改时区和系统时间<br />安装Docker，照着官方教程装Docker的时候根本下载不动,换了个国内的源<br />桌面不打算装gnome或者kde了，Mobaxterm用X11一般就够了</p><h2 id="重新安装ubuntu1804-lts"><a class="markdownIt-Anchor" href="#重新安装ubuntu1804-lts"></a> 重新安装Ubuntu18.04 LTS</h2><p>由于某些原因，决定还是换18</p><h2 id="再次安装"><a class="markdownIt-Anchor" href="#再次安装"></a> 再次安装</h2><p>UEFI启动<br />create bond这里先不配置了（只有一张网卡eno1），bound mode选默认的balance-rr<br />eno1网卡选择automatic自动获取ipv4和ipv6<br />镜像源这里输入你电的<br />选use the entire disk and set up LVM<br /><s>是否安装openssh，空格选安装，选择从GitHub获取</s><br />然后输入你的用户名(先准备好key，当然这个时候要保证网也是通的)<br />这里勾选openssh之后一直报错，可能是网的问题，不勾选，等后面再装<br />分区就分一个/boot，一个/swap，一个/home</p><!-- （当然你要先准备好key，先用git bash生成key`ssh-keygen -t rsa -C 'your_email@example.com'`再到Github的SSH设置里面把公钥填进去（id_rsa.pub里面的内容）然后测试一下是否成功<img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/ssh-github.png" alt="Picture" style="zoom:80%;" />） --><p>然后是漫长的installing kernal<br />（不知道为什么装server比desktop版慢那么多）</p><p>bbr已经自带了，不用装了<br />设置root用户和用户组权限<br />装Docker参考这里<sup id="fnref:1"><a href="#fn:1" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[tutorial-install-ubuntu-server](ttps://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-server)">[1]</span></a></sup><br />和英文官方教程那个差不多，主要是获取GPG的地址和Docker源换成国内的<br />换成国内中科大的镜像源（这个换了也时断时续可能连不上）<br />出现permission denied：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Got permission denied while trying to connect to the Docker daemon socket at unix:&#x2F;&#x2F;&#x2F;var&#x2F;run&#x2F;docker.sock: Get http:&#x2F;&#x2F;%2Fvar%2Frun%2Fdocker.sock&#x2F;v1.40&#x2F;containers&#x2F;json: dial unix &#x2F;var&#x2F;run&#x2F;docker.sock: connect: permission denied</span><br></pre></td></tr></table></figure><p>是权限的问题，要加当前用户到用户组里面</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gpasswd -a <span class="variable">$&#123;USER&#125;</span> docker</span><br></pre></td></tr></table></figure><h3 id="更改静态为ip"><a class="markdownIt-Anchor" href="#更改静态为ip"></a> 更改静态为ip</h3><p>网卡是eno1（服务器就一个网卡）<br />Ubuntu18的配置改了，在<code>/etc/netplan/50-cloud-init.yaml</code>, 现在18使用netplan管理网络<br />配置文件是yaml格式，跟hexo和next主题的配置文件格式一样</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># network: &#123;config: disabled&#125;</span></span><br><span class="line"><span class="attr">network:</span></span><br><span class="line"><span class="attr">    ethernets:</span></span><br><span class="line"><span class="attr">        eno1:</span></span><br><span class="line"><span class="attr">            dhcp4:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    version:</span> <span class="number">2</span></span><br></pre></td></tr></table></figure><p>改成</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">network:</span></span><br><span class="line"><span class="attr">  version:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">  renderer:</span> <span class="string">networkd</span></span><br><span class="line"><span class="attr">  ethernets:</span></span><br><span class="line"><span class="attr">    eno1:</span>   <span class="comment">#配置的网卡名称</span></span><br><span class="line"><span class="comment">#      dhcp4: true    #dhcp4关闭</span></span><br><span class="line"><span class="comment">#      dhcp6: true    #dhcp6关闭</span></span><br><span class="line"><span class="attr">      addresses:</span> <span class="string">[211.83.111.224/23]</span>   <span class="comment">#设置本机IP及掩码</span></span><br><span class="line"><span class="attr">      gateway4:</span> <span class="number">211.83</span><span class="number">.110</span><span class="number">.1</span>   <span class="comment">#设置网关</span></span><br><span class="line"><span class="attr">      nameservers:</span></span><br><span class="line"><span class="attr">          addresses:</span> <span class="string">[114.114.114.114,</span> <span class="number">8.8</span><span class="number">.8</span><span class="number">.8</span><span class="string">]</span>   <span class="comment">#设置DNS</span></span><br></pre></td></tr></table></figure><p>(网关地址用<code>route -n</code>查看，配置参考<span class="exturl" data-url="aHR0cDovL2Jsb2cuc2luYS5jb20uY24vcy9ibG9nXzUzNzNiY2Y0MDEwMnhrNWcuaHRtbA==" title="http://blog.sina.com.cn/s/blog_5373bcf40102xk5g.html">ubuntu 18.04 netplan yaml配置固定IP地址<i class="fa fa-external-link"></i></span>)</p><p>然后</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo netplan apply</span><br></pre></td></tr></table></figure><p>不对啊，又炸了，ipv4的网关到底是啥啊</p><p>看了一下官网<sup id="fnref:5"><a href="#fn:5" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[netplan官网的配置示例](https://netplan.io/examples)">[5]</span></a></sup>，好像nameserver和gateway4都是可选项，可以空着默认<br />直接改成这样试试</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">network:</span></span><br><span class="line"><span class="attr">  version:</span> <span class="number">2</span></span><br><span class="line"><span class="comment">#  renderer: networkd</span></span><br><span class="line"><span class="attr">  ethernets:</span></span><br><span class="line"><span class="attr">    eno1:</span></span><br><span class="line"><span class="attr">      addresses:</span> <span class="string">[211.83.111.224/23]</span></span><br></pre></td></tr></table></figure><p>然后进/run/systemd/network看一下系统的网络配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /run/systemd/network`</span><br><span class="line">ls</span><br><span class="line">cat *</span><br></pre></td></tr></table></figure><p>下面这样应该就可以了，吧…？</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@xi102server:&#x2F;run&#x2F;systemd&#x2F;network# cat 10-netplan-eno1.network</span><br><span class="line">[Match]</span><br><span class="line">Name&#x3D;eno1</span><br><span class="line"></span><br><span class="line">[Network]</span><br><span class="line">LinkLocalAddressing&#x3D;ipv6</span><br><span class="line">Address&#x3D;211.83.111.224&#x2F;23</span><br></pre></td></tr></table></figure><p>行吧，搜出一堆东西都不靠谱，还是得看官网</p><h3 id="感想"><a class="markdownIt-Anchor" href="#感想"></a> 感想</h3><p>服务器启动的声音真的大啊<br />一半以上的问题都是网络问题，校内这个网真的…<br />靠镜像源救回半条狗命</p><p>Ubuntu18安装时配置网卡时想选静态ip选择Manual进去填写subnet, 结果那个subnet选项是<code>XXX.XXX.XXX.XXX/XX</code><br />看了教研室其他设备相同频段的子网掩码是<code>255.255.254.0</code>，但是填了不行，用网上计算子网掩码的工具算了一下，就是<code>255.255.254.0</code></p><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/netmmask.png" alt="Picture" style="zoom:80%;" /><p>暂时选了DHCP直接配置网卡，等进去再指定静态ip<sup id="fnref:4"><a href="#fn:4" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[How to Configure Network Static IP Address in Ubuntu 18.04](https://www.tecmint.com/configure-network-static-ip-address-in-ubuntu/)">[4]</span></a></sup></p><p>哦，netplan好像把子网掩码的格式改了<br />原来是这样</p><blockquote><p>address = 192.168.225.50<br />netmask = 255.255.255.0</p></blockquote><p>改成了这种格式</p><blockquote><p>addresses : [192.168.225.50/24]</p></blockquote><p>滚去补习计网知识了</p><h2 id="安装参考"><a class="markdownIt-Anchor" href="#安装参考"></a> 安装参考</h2><p>223.5.5.5<br />223.6.6.6</p><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="dHRwczovL3R1dG9yaWFscy51YnVudHUuY29tL3R1dG9yaWFsL3R1dG9yaWFsLWluc3RhbGwtdWJ1bnR1LXNlcnZlcg==" title="ttps://tutorials.ubuntu.com/tutorial/tutorial-install-ubuntu-server">tutorial-install-ubuntu-server<i class="fa fa-external-link"></i></span><a href="#fnref:1" rev="footnote"> ↩</a></span></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">2.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLjUxY3RvLmNvbS8zMjQxNzY2LzIzMjM5Mjc=" title="https://blog.51cto.com/3241766/2323927">Ubuntu16.04.5以lvm方式安装全记录<i class="fa fa-external-link"></i></span><span class="exturl" data-url="aHR0cHM6Ly93aWtpLmFyY2hsaW51eC5vcmcvaW5kZXgucGhwL0xWTV8oJUU3JUFFJTgwJUU0JUJEJTkzJUU0JUI4JUFEJUU2JTk2JTg3KQ==" title="https://wiki.archlinux.org/index.php/LVM_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">LVM arch-wiki<i class="fa fa-external-link"></i></span><a href="#fnref:2" rev="footnote"> ↩</a></span></li><li id="fn:3"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">3.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cHM6Ly95ZWFzeS5naXRib29rcy5pby9kb2NrZXJfcHJhY3RpY2UvaW5zdGFsbC91YnVudHUuaHRtbA==" title="https://yeasy.gitbooks.io/docker_practice/install/ubuntu.html">Ubuntu 安装 Docker CE<i class="fa fa-external-link"></i></span>、<span class="exturl" data-url="aHR0cHM6Ly95ZWFzeS5naXRib29rcy5pby9kb2NrZXJfcHJhY3RpY2UvaW5zdGFsbC9taXJyb3IuaHRtbA==" title="https://yeasy.gitbooks.io/docker_practice/install/mirror.html">镜像加速器<i class="fa fa-external-link"></i></span><a href="#fnref:3" rev="footnote"> ↩</a></span></li><li id="fn:4"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">4.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cHM6Ly93d3cudGVjbWludC5jb20vY29uZmlndXJlLW5ldHdvcmstc3RhdGljLWlwLWFkZHJlc3MtaW4tdWJ1bnR1Lw==" title="https://www.tecmint.com/configure-network-static-ip-address-in-ubuntu/">How to Configure Network Static IP Address in Ubuntu 18.04<i class="fa fa-external-link"></i></span><a href="#fnref:4" rev="footnote"> ↩</a></span></li><li id="fn:5"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">5.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cHM6Ly9uZXRwbGFuLmlvL2V4YW1wbGVz" title="https://netplan.io/examples">netplan官网的配置示例<i class="fa fa-external-link"></i></span><a href="#fnref:5" rev="footnote"> ↩</a></span></li></ol></div></div>]]></content>
      
      
      <categories>
          
          <category> 102网吧日常 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ubuntu </tag>
            
            <tag> 装机 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前端基础知识学习</title>
      <link href="/4a8d/"/>
      <url>/4a8d/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>开始补习</p><a id="more"></a><p>写markdown偶尔要用html的标签，折腾这个博客一堆前端知识，想写个爬虫玩也要在浏览器抡起F12，教研室那个项目也要折腾js，这样下去不行，得整点前端了。<br />先从html，css，javascript三个补起吧</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. HTML to define the content of web pages</span><br><span class="line"></span><br><span class="line">2. CSS to specify the layout of web pages</span><br><span class="line"></span><br><span class="line">3. JavaScript to program the behavior of web pages</span><br></pre></td></tr></table></figure><p>如果只要求能用就行，可以直接三天速成上手（如果不考虑性能和美观程度，以及，兼 容 性），可以手撸上世纪画风老版页面。想好看一点可以直接上模板和框架，可以迅速搞出看起来能用的还不是太难看的界面。建议不是太需要和前端打交道的像用matlab和python包一样，需要什么现学就好了（很多框架会迅速更新换代，学了几年不用基本就凉了，不建议投入过多精力）</p><h2 id="html笔记"><a class="markdownIt-Anchor" href="#html笔记"></a> HTML笔记</h2><p>大致格式</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;标题（title）&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;标题（headings）&lt;/h1&gt;</span><br><span class="line">&lt;p&gt;段落(paragraph)&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>html标签(tag), 通常是一对</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tagname</span>&gt;</span>content goes here...<span class="tag">&lt;/<span class="name">tagname</span>&gt;</span></span><br></pre></td></tr></table></figure><p>html属性(Attributes), 比如src，href，width等，style属性可以指定颜色和字体</p><p>中文和特殊字符在head标签中声明</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>链接</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://zhangjk98.xyz.com"</span>&gt;</span>This is a link<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>图片</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"image.jpg"</span> <span class="attr">alt</span>=<span class="string">"图片"</span> <span class="attr">width</span>=<span class="string">"104"</span> <span class="attr">height</span>=<span class="string">"142"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>空元素 br用来换行</p><p>meta标签用来标明一些信息，SEO的时候可能用到</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"author"</span> <span class="attr">content</span>=<span class="string">"Zhang.j.k"</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 这是一个注释（comments） --&gt;</span></span><br></pre></td></tr></table></figure><p>格式标签（formatting）</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span> Defines bold text</span><br><span class="line"><span class="tag">&lt;<span class="name">em</span>&gt;</span> Defines emphasized text</span><br><span class="line"><span class="tag">&lt;<span class="name">i</span>&gt;</span> Defines italic text</span><br><span class="line"><span class="tag">&lt;<span class="name">small</span>&gt;</span> Defines smaller text</span><br><span class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span> Defines important text</span><br><span class="line"><span class="tag">&lt;<span class="name">sub</span>&gt;</span> Defines subscripted text</span><br><span class="line"><span class="tag">&lt;<span class="name">sup</span>&gt;</span> Defines superscripted text</span><br><span class="line"><span class="tag">&lt;<span class="name">ins</span>&gt;</span> Defines inserted text</span><br><span class="line"><span class="tag">&lt;<span class="name">del</span>&gt;</span> Defines deleted text</span><br><span class="line"><span class="tag">&lt;<span class="name">mark</span>&gt;</span> Defines marked/highlighted text</span><br></pre></td></tr></table></figure><p>引用标签（Quotation）</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">abbr</span>&gt;</span> Defines an abbreviation or acronym</span><br><span class="line"><span class="tag">&lt;<span class="name">blockquote</span>&gt;</span> Defines a section that is quoted from another source</span><br><span class="line"><span class="tag">&lt;<span class="name">q</span>&gt;</span> Defines a short inline quotation</span><br></pre></td></tr></table></figure><p>html的字符在markdown中会有渲染的问题，如果像显示为纯文本，可以引用或者使用\进行转义</p><h3 id="使用css"><a class="markdownIt-Anchor" href="#使用css"></a> 使用CSS</h3><p>有三种方式，Inline, internal, external<br />Inline就是style那样的加属性<br />internal用style标签：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-tag">body</span> &#123;<span class="attribute">background-color</span>: powderblue;&#125;</span></span><br><span class="line"><span class="css"><span class="selector-tag">h1</span>   &#123;<span class="attribute">color</span>: blue;&#125;</span></span><br><span class="line"><span class="css"><span class="selector-tag">p</span>    &#123;<span class="attribute">color</span>: red;&#125;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>external是独立出来一个css文件，html进行调用。</p><h3 id="使用javascript"><a class="markdownIt-Anchor" href="#使用javascript"></a> 使用javascript</h3><p>在html中使用script标签引入js进行交互和产生动态效果。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).innerHTML = <span class="string">"Hello JavaScript!"</span>;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>出于安全问题，有些浏览器禁用js脚本，此时用 noscripts 标签展示相应的替代html内容。</p><h2 id="css"><a class="markdownIt-Anchor" href="#css"></a> CSS</h2><p>CSS（Cascading Style Sheets）用来指定html的格式。有selector和declaration两个部分。<br />像这样:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*注释这样写*/</span></span><br><span class="line"><span class="selector-tag">p</span> &#123;<span class="attribute">color</span>:red;<span class="attribute">text-align</span>:center;&#125;</span><br></pre></td></tr></table></figure><p>CSS在html中的定位有选择id（#后加id）选择class属性（ . 号后加class）两种方式</p><h2 id="javascript"><a class="markdownIt-Anchor" href="#javascript"></a> Javascript</h2><p>这种格式：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>).innerHTML = <span class="string">"Paragraph changed."</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>用scripts标签放到html的head或者body里面</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"myScript.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="console控制台调试"><a class="markdownIt-Anchor" href="#console控制台调试"></a> Console控制台调试</h3><p>调试的时候F12打开控制台，可以看到console输出的信息</p><h3 id="json"><a class="markdownIt-Anchor" href="#json"></a> JSON</h3><p>用JSON.stringify和JSON.parse转成字符串和还原</p><h3 id="线程"><a class="markdownIt-Anchor" href="#线程"></a> 线程</h3><p>javascript是用的单线程（在浏览器上）,使用异步</p><p>主要是用回调函数、事件监听来实现异步</p><h3 id="变量和类"><a class="markdownIt-Anchor" href="#变量和类"></a> 变量和类</h3><p>放在函数里加var就是内部变量，否则就是外部变量<br />类使用new来新建</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> objectSample = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br></pre></td></tr></table></figure><h3 id="dom"><a class="markdownIt-Anchor" href="#dom"></a> DOM</h3><p>Document Object Model</p><p>HTML树形结构，元素被视为节点（node）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById()</span><br></pre></td></tr></table></figure><p>这样获取元素。<br />节点有Document节点（作用于整个HTML）和Element节点</p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>不要尝试sudo apt remove iptables</title>
      <link href="/a7d1/"/>
      <url>/a7d1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/emmm.jpg" alt="Picture" style="zoom:80%;" /><a id="more"></a>在Ubuntu和Debian里卸载iptables会发生严重的后果（大佬请无视）一开始我们觉得是防火墙把443端口给办了用不了https，结果我用UFW设置不管用，怀疑是iptables的问题，问了花花师兄，也不清楚，我们决定先把iptables禁用了。随手一谷歌，也忘了哪个神仙说的<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt remove iptables # 不要乱试！</span><br></pre></td></tr></table></figure><p>感觉对的嘛，卸个防火墙能出什么问题嘛<br />然后提示是否卸载我选了y，然后突然在卸载的log发现一堆Docker，瞬间感觉不对劲。然后，然后Docker直接不能用了！<br />血泪教训啊，防火墙卸了Docker就不能用了！</p><p>随手一搜发现不止我一个人中招啊</p><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/iptables-docker.png" alt="Picture" style="zoom:80%;" /><p>我现在心中一万头草泥马飘过</p><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/cnm.png" alt="Picture" style="zoom:80%;" /><p>行吧，一堆依赖比python2还多</p><p>不说了，准备重装系统了<img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/mmm.jpg" alt="Picture" style="zoom:80%;" /></p><hr /><p>停用iptables请使用<code>chkconfig iptables off</code>命令</p><hr /><p>更新，试图垂死挣扎使用</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install network-manager</span><br></pre></td></tr></table></figure><p>既然把网卡配置删了那就再配置一遍<br />等会，装了NetworkManager选了默认配置之后连22端口也连不上了。。。<br />行吧，准备重装<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/wa.jpg" alt="Picture" style="zoom:80%;" /></p>]]></content>
      
      
      <categories>
          
          <category> 102网吧日常 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iptables </tag>
            
            <tag> 删库跑路 </tag>
            
            <tag> 服务器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教研室服务器维护</title>
      <link href="/d6da/"/>
      <url>/d6da/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>教研室要倒闭啦，师兄毕业跑路啦！</p><a id="more"></a><h2 id="写在前面的话"><a class="markdownIt-Anchor" href="#写在前面的话"></a> 写在前面的话</h2><p>不想用vim又不得不在linux下改东西，不要再用nano了，这有个<span class="exturl" data-url="aHR0cHM6Ly93bWRwZC5jb20vcWlhbmctbGllLXR1aS1qaWFuLWxpbnV4emhvbmctZHVhbi13ZW4tYmVuLWJpYW4tamktcWktbWljcm8v" title="https://wmdpd.com/qiang-lie-tui-jian-linuxzhong-duan-wen-ben-bian-ji-qi-micro/">micro<i class="fa fa-external-link"></i></span>, 拿好</p><p>安装：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/bin; curl https://getmic.ro | sudo bash</span><br></pre></td></tr></table></figure><p>或者用snap装，装好后开箱即用</p><h2 id="安全问题"><a class="markdownIt-Anchor" href="#安全问题"></a> 安全问题</h2><p>教研室的服务器之前就被黑过<br />老师兄装的Ubuntu，默认端口默认用户名超简单密码直接远程登录，行吧<br />教研室出现了断层，现在的师兄们（以及并夕夕40万却没用过Linux的师姐）Linux都还没我熟，行吧<br />服务器以后就扔给我了，行吧</p><p>之前折腾Docker的时候看日志发现一堆乱七八糟的</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grep "Accepted password for root" /var/log/auth.log | awk '&#123;print $11&#125;' | sort | uniq -c | sort -nr | more</span><br><span class="line">grep "Failed password for root" /var/log/auth.log | awk '&#123;print $11&#125;' | sort | uniq -c | sort -nr | more</span><br></pre></td></tr></table></figure><p>发现一堆可疑ip几千次登录尝试,哇,又被当小鸡扫了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">3073 Failed</span><br><span class="line">  2593 112.85.42.185</span><br><span class="line">  2471 218.92.0.168</span><br><span class="line">   714 112.85.42.187</span><br><span class="line">   363 218.92.0.188</span><br><span class="line">   261 112.85.42.188</span><br><span class="line">   103 222.186.175.220</span><br><span class="line">   103 222.186.175.148</span><br><span class="line">    86 222.186.180.41</span><br><span class="line">    81 222.186.173.180</span><br><span class="line">    78 222.186.180.8</span><br><span class="line">    78 222.186.180.223</span><br><span class="line">    74 222.186.173.154</span><br><span class="line">    69 222.186.175.161</span><br><span class="line">    65 49.88.112.55</span><br><span class="line">    59 222.186.180.9</span><br><span class="line">    59 222.186.175.182</span><br><span class="line">    57 222.186.180.17</span><br><span class="line">    57 222.186.175.167</span><br><span class="line">    55 222.186.175.202</span><br><span class="line">    55 185.164.72.251</span><br><span class="line">    53 222.186.175.215</span><br><span class="line">    51 222.186.169.194</span><br></pre></td></tr></table></figure><p>改一下密码和SSH端口</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i "s/Port .*/Port 你的端口/g" /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p>安装sshfilter或者flai2ban，这里我用的fail2ban。<sup id="fnref:1"><a href="#fn:1" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[使用 Fail2Ban 加固你的 Linux 服务器](https://isister.cc/posts/Fail2ban-Basic) ">[1]</span></a></sup></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install fail2ban</span><br><span class="line">sudo cp /etc/fail2ban/fail2ban.conf /etc/fail2ban/fail2ban.local</span><br><span class="line">sudo cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local</span><br></pre></td></tr></table></figure><p>配置文件修改.local, 会像next.yml一样把.conf文件自动覆盖掉（直接修改那两个conf下次更新可能会覆盖掉）。</p><p>主要参数就是那个bantime和maxretry，这里我设成2小时和10次</p><p>然后启动</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start fail2ban</span><br><span class="line">systemctl <span class="built_in">enable</span> fail2ban</span><br></pre></td></tr></table></figure><p>其他操作</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fail2ban-client <span class="built_in">set</span> sshd addignoreip &lt;IP&gt; <span class="comment"># IP白名单</span></span><br><span class="line">fail2ban-client <span class="built_in">set</span> sshd unbanip &lt;IP&gt; <span class="comment"># 解封IP</span></span><br></pre></td></tr></table></figure><p>还要配置一下防火墙<br />iptables很繁琐，不涉及太多配置的情况下可以用UFW</p><h3 id="防火墙端口"><a class="markdownIt-Anchor" href="#防火墙端口"></a> 防火墙端口</h3><p>端口用的时候要打开，不然会出各种烦人的问题，比如wget下载没开443就会<code>443... failed: Connection refused.</code>，如果你加了~–no-check-certificate`还是failed，那八成是防火墙的问题<br />查看端口开放状态</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -ntlp</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">telnet ip port</span><br></pre></td></tr></table></figure><p>Ubuntu里用ufw查看状态</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw status</span><br></pre></td></tr></table></figure><p>查看指定端口的状态（没输出可能是没开）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -ntlp|grep 443</span><br></pre></td></tr></table></figure><p>打开443端口</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iptables -I INPUT -p tcp --dport 443 -j ACCEPT</span><br><span class="line">service iptables save</span><br><span class="line">service iptables restart</span><br></pre></td></tr></table></figure><p>使用UFW, 直接</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw allow 443</span><br></pre></td></tr></table></figure><p>用iptables打开指定端口, 一般开80，443，53，22，其他按需打开</p><p>可以安装这个来永久保存配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install iptables-persistent</span><br></pre></td></tr></table></figure><h3 id="docker默认修改iptables规则"><a class="markdownIt-Anchor" href="#docker默认修改iptables规则"></a> Docker默认修改iptables规则</h3><p>Docker不设置会默认修改iptables规则，将端口暴露在外面，导致端口映射在安全上并没有什么卵用，要设置一下一下，可以看这里<br /><span class="exturl" data-url="aHR0cHM6Ly93d3cuYmluc3MubWUvYmxvZy9kb2NrZXItcGFzcy10aHJvdWdoLXN5c3RlbS1maXJld2FsbC8=" title="https://www.binss.me/blog/docker-pass-through-system-firewall/">https://www.binss.me/blog/docker-pass-through-system-firewall/<i class="fa fa-external-link"></i></span></p><h2 id="https"><a class="markdownIt-Anchor" href="#https"></a> HTTPs</h2><p>申请SSL证书</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ssl-cert</span><br></pre></td></tr></table></figure><p>然后搞一个自己的域名，因为境内服务器要备案，此计划中道崩殂</p><h2 id="运行sudo-apt-get-update报错"><a class="markdownIt-Anchor" href="#运行sudo-apt-get-update报错"></a> 运行<code>sudo apt-get update</code>报错</h2><p>写在前面，我看到有的镜像源示例配置都是走的HTTPS，似乎没有必要<br />详见<span class="exturl" data-url="aHR0cHM6Ly93aHlkb2VzYXB0bm90dXNlaHR0cHMuY29tLw==" title="https://whydoesaptnotusehttps.com/">Why does APT not use HTTPS?<i class="fa fa-external-link"></i></span>。<br />至于某Debian镜像源上说的什么安装apt-transport-https更是没有必要，画蛇添足</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Get:1 http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu xenial InRelease [454 B]</span><br><span class="line">Get:2 http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu xenial-updates InRelease [454 B]</span><br><span class="line">Get:3 http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu xenial-backports InRelease [454 B]</span><br><span class="line">Get:4 http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu xenial-security InRelease [454 B]</span><br><span class="line">Err:1 http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu xenial InRelease</span><br><span class="line">  Clearsigned file isn&#39;t valid, got &#39;NOSPLIT&#39; (does the network require authentication?)</span><br><span class="line">Err:2 http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu xenial-updates InRelease</span><br><span class="line">  Clearsigned file isn&#39;t valid, got &#39;NOSPLIT&#39; (does the network require authentication?)</span><br><span class="line">Err:3 http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu xenial-backports InRelease</span><br><span class="line">  Clearsigned file isn&#39;t valid, got &#39;NOSPLIT&#39; (does the network require authentication?)</span><br><span class="line">Err:4 http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;ubuntu xenial-security InRelease</span><br><span class="line">  Clearsigned file isn&#39;t valid, got &#39;NOSPLIT&#39; (does the network require authentication?)</span><br></pre></td></tr></table></figure><p>查了一下说是代理的问题，看了一下教研室的工作站竟然还有酸酸乳和bbr，一问师兄说是老板外出的时候想上学校网用这个，行吧</p><p>设置一下apt的代理</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;etc&#x2F;apt$ cat apt.conf</span><br><span class="line"></span><br><span class="line">Acquire::http::proxy &quot;http:&#x2F;&#x2F;&lt;proxy&gt;&quot;;</span><br><span class="line">Acquire::https::proxy &quot;https:&#x2F;&#x2F;&lt;proxy&gt;&quot;;</span><br><span class="line">Acquire::ftp::proxy &quot;ftp:&#x2F;&#x2F;&lt;proxy&gt;&quot;;</span><br><span class="line">Acquire::socks::proxy &quot;socks:&lt;proxy&gt;&quot;;</span><br></pre></td></tr></table></figure><p>这里我切进目录没找到，发现有个apt.conf.d文件夹，是表示缺省的配置文件，删掉换成apt.conf<br />比如代理是1.2.3.4，端口1234<br />就改成<code>Acquire::http::proxy &quot;http://1.2.3.4:1234</code></p><p>改了一下发现不对，这边是服务端应该没开代理啊</p><p>把代理都删了</p><p>感觉可能DNS有问题,切到<code>etc/resolv.conf</code>看了一下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nameserver 202.112.14.21</span><br><span class="line">nameserver 202.112.14.11</span><br></pre></td></tr></table></figure><p>这个学校的DNS服务不行啊，别的都直通互联网，这个上不了谷歌不说，还经常不对外网提供解析服务<br />(能ping通,但是nslookup发现不对外网提供服务)<br />又看了一下工作站的DNS, 果然换过了<br />校园网暂时也没什么好的DNS，就先换了清华的<br />(那个DNS不是<code>/etc/resolv.conf</code>下的，要改<code>/etc/resolvconf/resolv.conf.d</code>下的<code>base</code>文件,第一个只是临时的DNS)</p><p>还要刷新一下DNS：<code>sudo service networking restart</code></p><p>运行<code>sudo apt-get upgrade</code>又报了这个错<code>Hash Sum mismatch</code></p><p>查了一下发现就是阿里云镜像源在教育网下的问题</p><p>算了,改镜像源吧,换了清华的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Err:1 https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;ubuntu xenial InRelease</span><br><span class="line">  Failed to connect to mirrors.tuna.tsinghua.edu.cn port 443: Connection timed out</span><br></pre></td></tr></table></figure><p>依然不行, 决定明天重装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E: Some index files failed to download. They have been ignored, or old ones used instead.</span><br></pre></td></tr></table></figure><p>看了一下，工作站那台DNS是<code>cat /etc/resolv.conf</code>是127.0.0.1，是DNSmasq托管的，而服务器上的还是你电的DNS，决定改了。<br />工作站上应该是这样的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># &#x2F;etc&#x2F;network&#x2F;interfaces</span><br><span class="line">dns-nameservers 8.8.8.8</span><br></pre></td></tr></table></figure><p>改了之后服务器的<code>resolv.conf</code>也是<code>127.0.0.1</code>了<br />又上大清的网站看了一下，发现居然在维护</p><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20191115103425.png" alt="Picture" style="zoom:80%;" /><p>换成你电的，好了，收工</p><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/ubuntu-apt.png" alt="Picture" style="zoom:80%;" /><p>又报了<code>Target Translations (main/i18n/Translation-en) is configured multiple times in</code>, 查了一下是指定apt源冲突了，删掉一个就好了</p><h2 id="查看配置"><a class="markdownIt-Anchor" href="#查看配置"></a> 查看配置</h2><p>本来想用neofetch查看一下服务器的配置，结果apt装不了。<br />看了一下官方文档发现16.10要这样</p><p>Add PPA<br /><code>sudo add-apt-repository ppa:dawidd0811/neofetch</code><br />Update repositories<br /><code>sudo apt update</code><br />Install the package<br /><code>sudo apt install neofetch</code><br />（安装neofetch还能下载编译，可能还快一点）</p><p>算了，好慢啊，直接用<code>sudo dmidecode</code>看吧，screenfetch也行<br />英特尔的e5 2630 v4，20核CPU，没显卡。这CPU平时居然没人用，空跑,居然还有公网ip，我仿佛发现了宝藏。不出意外就留给我挥（bei）霍（guo）了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">                         .&#x2F;+o+-       root@labserver</span><br><span class="line">                 yyyyy- -yyyyyy+      OS: Ubuntu 16.04 xenial</span><br><span class="line">              :&#x2F;&#x2F;+&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;-yyyyyyo      Kernel: x86_64 Linux 4.12.14-041214-generic</span><br><span class="line">          .++ .:&#x2F;++++++&#x2F;-.+sss&#x2F;&#96;      Uptime: 21h 36m</span><br><span class="line">        .:++o:  &#x2F;++++++++&#x2F;:--:&#x2F;-      Packages: 718</span><br><span class="line">       o:+o+:++.&#96;..&#96;&#96;&#96;.-&#x2F;oo+++++&#x2F;     Shell: bash 4.3.48</span><br><span class="line">      .:+o:+o&#x2F;.          &#96;+sssoo+&#x2F;    WM: Not Found</span><br><span class="line"> .++&#x2F;+:+oo+o:&#96;             &#x2F;sssooo.   CPU: Intel Xeon CPU E5-2630 v4 @ 3.1GHz</span><br><span class="line">&#x2F;+++&#x2F;&#x2F;+:&#96;oo+o               &#x2F;::--:.   RAM: 1348MiB &#x2F; 32074MiB</span><br><span class="line">\+&#x2F;+o+++&#96;o++o               ++&#x2F;&#x2F;&#x2F;&#x2F;.</span><br><span class="line"> .++.o+++oo+:&#96;             &#x2F;dddhhh.</span><br><span class="line">      .+.o+oo:.          &#96;oddhhhh+</span><br><span class="line">       \+.++o+o&#96;&#96;-&#96;&#96;&#96;&#96;.:ohdhhhhh+</span><br><span class="line">        &#96;:o+++ &#96;ohhhhhhhhyo++os:</span><br><span class="line">          .o:&#96;.syhhhhhhh&#x2F;.oo++o&#96;</span><br><span class="line">              &#x2F;osyyyyyyo++ooo+++&#x2F;</span><br><span class="line">                  &#96;&#96;&#96;&#96;&#96; +oo+++o\:</span><br><span class="line">                         &#96;oo++.</span><br></pre></td></tr></table></figure><h2 id="更新"><a class="markdownIt-Anchor" href="#更新"></a> 更新</h2><p>发现不是镜像源的问题，是你电的镜像源没安排上https，这个服务器好像是证书的问题，https全都用不了，wget也不行。</p><h2 id="滚动升级"><a class="markdownIt-Anchor" href="#滚动升级"></a> 滚动升级</h2><p>不存在的，这又不是arch系，不要乱升，乱升级滚挂了是要背锅的<br />要升可以用</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo do-release-upgrade</span><br></pre></td></tr></table></figure><p>升完记得把apt源给换了<br />看到有安全更新，说</p><blockquote><p><em><strong>System restart required</strong></em></p></blockquote><p>reboot一下就行了</p><h2 id="网络问题"><a class="markdownIt-Anchor" href="#网络问题"></a> 网络问题</h2><p>很迷，有的地方很快，有的地方就几乎慢到断线。我的联通就经常ping不同。<br />据说老蔡师兄他那里也经常ping不通</p><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/ping-ubuntu.jpg" alt="Picture" style="zoom:60%;" /><p>测试了一下服务器的下载速度，50M/s</p><!-- 查看实时网速NetHogs --><h2 id="备份和恢复"><a class="markdownIt-Anchor" href="#备份和恢复"></a> 备份和恢复</h2><p>师兄也没装什么东西，用的cp直接备份了点文件，一言不合重装系统。<br />先暂时用cp备份一次<br />挂载一下盘(比如挂到/mnt/mydata)，用cp复制<br />(挂载看这里<sup id="fnref:3"><a href="#fn:3" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[细说linux挂载——mount，及其他……](https://forum.ubuntu.org.cn/viewtopic.php?f=120&t=257333) ">[3]</span></a></sup>)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/sdb7 /mnt</span><br><span class="line">nohup cp -pdr /srv /mnt/mydata &gt;&gt; logs.out 2&gt;&amp;1 &amp;</span><br><span class="line">umount /dev/sdb7</span><br></pre></td></tr></table></figure><p>这样将/srv目录下的文件全部拷贝到mydata下面.<br />文件很大，cp没有进度条，以后试试gcp之类的命令，先这样吧</p><p>看了一下，有接近300G的数据，用cp命令太慢了<br />用dd，把\srv目录底下的迁过去,整盘拷贝（dd命令不要乱用，一不小心就删库了）</p><p>拷贝完<code>umount /mydata</code>再拔</p><p>下次试试rsync同步，据说能断点续传和md5验证</p><h2 id="使用教研室服务器下载"><a class="markdownIt-Anchor" href="#使用教研室服务器下载"></a> 使用教研室服务器下载</h2><p>教研室的服务器有一个单独的猫和ip，网速绝大多数时候不低于50M/s，今天才发现比我的小破工位上的网速快不少。<br />以后下数据集和数据库文件之类的大东西就用它了！</p><h2 id="使用tmux"><a class="markdownIt-Anchor" href="#使用tmux"></a> 使用Tmux</h2><p>（其实MobaXterm有一个叫Multiexec的功能）<br />正在备份文件结果网断了（没办法，校园网就是这么…）<br />这时就要用tmux之类的工具了</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install tmux</span><br></pre></td></tr></table></figure><h2 id="图形界面"><a class="markdownIt-Anchor" href="#图形界面"></a> 图形界面</h2><p>MobaXterm内嵌有Xserver，可以调出图形化窗口。<br />比如nedit,Emacs之类的<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/xserver.png" alt="Picture" style="zoom:80%;" /><br />已经足够应付简单的图形化界面需求了<br />完整的桌面需求请直接VNC或teamviewer到工作站操作。</p><h2 id="卸载遗留的docker并重装"><a class="markdownIt-Anchor" href="#卸载遗留的docker并重装"></a> 卸载遗留的Docker并重装</h2><p>目前还报这样的错</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cannot connect to the Docker daemon at unix:&#x2F;&#x2F;&#x2F;var&#x2F;run&#x2F;docker.sock. Is the docker daemon running?</span><br></pre></td></tr></table></figure><p>似乎重装iptables的时候会直接把那个Docker的一部分依赖卸掉<br />（Docker好像还会直接修改默认的防火墙规则，emmmm)</p><p>更新，解决了，是网络问题，离线装就好了</p><h2 id="教研室的阿里云"><a class="markdownIt-Anchor" href="#教研室的阿里云"></a> 教研室的阿里云</h2><p>真的，有毒哇<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/apt.png" alt="Picture" style="zoom:80%;" /><br />是的，师兄跟我说没有apt。。。<strong>行吧</strong></p><p>装一个</p><p>等等，不对劲，这是Centos啊</p><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/centos.png" alt="Picture" style="zoom:80%;" /><p>行吧…那没事了。师兄真的…我感觉我上了贼船</p><h2 id="报备"><a class="markdownIt-Anchor" href="#报备"></a> 报备</h2><p>按学校信息中心的要求，固定IP都需要申请报备，还有一堆乱七八糟的事</p><h3 id="系统日志和杀毒"><a class="markdownIt-Anchor" href="#系统日志和杀毒"></a> 系统日志和杀毒</h3><p>学校信息中心要求备份系统日志和杀软。<br />然而这Linux有什么装杀软的必要吗？防火墙就完事了。<br />行吧，交差还是要装模做样的应付一下</p><p>安装ClamAV：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install clamav</span><br></pre></td></tr></table></figure><p>直接扫描报错了，要升级病毒库<code>sudo freshclam</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LibClamAV Error: cli_loaddbdir(): No supported database files found in &#x2F;var&#x2F;lib&#x2F;clamav</span><br><span class="line">ERROR: Can&#39;t open file or directory</span><br></pre></td></tr></table></figure><p>然后扫一下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clamscan -r --bell -i /</span><br></pre></td></tr></table></figure><p>系统安装日志，不知道要交什么，索性把apt和dpkg的日志交了,在<code>/var/log/</code>和<code>/var/log/apt/</code>目录下面</p><h3 id="端口报备"><a class="markdownIt-Anchor" href="#端口报备"></a> 端口报备</h3><p>一般22，80，443，再加上几个常用的端口就够了<br />实在不行还有端口转发</p><p>看一下开了的端口</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -znv 211.XXX.XXX.XXX 1-10000  2&gt;&amp;1 | grep succeeded</span><br></pre></td></tr></table></figure><h3 id="域名"><a class="markdownIt-Anchor" href="#域名"></a> 域名</h3><p>暂时还没有，备案麻烦没弄</p><h2 id="清理trash"><a class="markdownIt-Anchor" href="#清理trash"></a> 清理Trash</h2><p>工作站桌面变得非常卡，clamscan扫描home目录也扫了整整两天，看了一下发现有前前任师兄几百个G的数据。使用rm之后跑到了.local文件夹下。使用跑路命令把它们删掉。(最好不要把 .local全删了，只删Trash就行了<code>.local/share/Trash</code>)</p><h2 id="使用smartdns"><a class="markdownIt-Anchor" href="#使用smartdns"></a> 使用SmartDNS</h2><p>今天SmartDNS 开源了，决定试试，安装看这里<span class="exturl" data-url="aHR0cHM6Ly9weW11bXUuZ2l0aHViLmlvL3NtYXJ0ZG5zLw==" title="https://pymumu.github.io/smartdns/">https://pymumu.github.io/smartdns/<i class="fa fa-external-link"></i></span>,Docker版本用这个<sup id="fnref:2"><a href="#fn:2" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[smartdns的Docker镜像](https://hub.docker.com/u/ghostry)">[2]</span></a></sup></p><p>看到有教程说Ubuntu还要设置一下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">disable</span> systemd-resolved</span><br><span class="line">sudo systemctl stop systemd-resolved</span><br><span class="line">sudo vi /etc/resolv.conf</span><br><span class="line">nameserver 127.0.0.1</span><br></pre></td></tr></table></figure><p>选DNS参考这里<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLnNray5tb2UvcG9zdC93aGljaC1wdWJsaWMtZG5zLXRvLXVzZQ==" title="https://blog.skk.moe/post/which-public-dns-to-use">https://blog.skk.moe/post/which-public-dns-to-use<i class="fa fa-external-link"></i></span></p><h2 id="其他"><a class="markdownIt-Anchor" href="#其他"></a> 其他</h2><p>Gitlab占用过高的问题等见瞎折腾记录(其实没有特殊需求可以用Gogs，小声逼逼)<br />在服务器上部署jupyter参考<span class="exturl" data-url="aHR0cHM6Ly9iaXRtaW5ndy5jb20vMjAxNy8wNy8wOS9ydW4tanVweXRlci1ub3RlYm9vay1zZXJ2ZXIv" title="https://bitmingw.com/2017/07/09/run-jupyter-notebook-server/">搭建 ipython/jupyter notebook 服务器<i class="fa fa-external-link"></i></span></p><h2 id="远程开发"><a class="markdownIt-Anchor" href="#远程开发"></a> 远程开发</h2><p>为什么要远程呢，因为我的电脑是小破i5，8G内存，装双系统不太行，虚拟机更不行。用wsl真的不如直接上服务器20核CPU、工作站两块1080pi（还有单独的网线和公网IP）。配合SSH端口转发和VSCode、JB全家桶，还是很舒服的。</p><h3 id="python多版本管理"><a class="markdownIt-Anchor" href="#python多版本管理"></a> python多版本管理</h3><p>python的包管理是个很麻烦的事，坑不少，尤其是在大家都用的服务器上。（这上面有2.7，3.5，3.6和师兄炼丹装的conda3.7、3.6，不要问我为什么linux装conda，师兄干的）</p><p>我用自己的linux用户可以避开root用户底下一些混乱环境（比如conda）<br />主要的问题是切换python版本和python包管理，切换python版本一般用pyenv；包管理选择很多，一直没发现特别完美的工具。</p><h4 id="pyenv"><a class="markdownIt-Anchor" href="#pyenv"></a> pyenv</h4><p>pyenv用来切换python版本，配合其他工具管理包</p><h4 id="venv"><a class="markdownIt-Anchor" href="#venv"></a> venv</h4><p>python3官方的包管理工具</p><h4 id="pipenv"><a class="markdownIt-Anchor" href="#pipenv"></a> pipenv</h4><p>一个类似Ruby的Bundler的东西<br />纯指定依赖，使用体验比上面那个好，有一点慢<br />（不推荐在win上用）</p><p>就跟npm差不多，和node_modules差不多的Pipfile（存放本地包），和npm的package-lock.json差不多的Pipfile.lock（版本锁）</p><h4 id="poetry"><a class="markdownIt-Anchor" href="#poetry"></a> Poetry</h4><p>这个和上面那个很像，这几个工具在逼乎、v2ex以及外网等地有很多撕逼和纷争，此处不评价。</p><p>poetry还能用来打包</p><h4 id="docker虚拟机"><a class="markdownIt-Anchor" href="#docker虚拟机"></a> Docker&amp;虚拟机</h4><p>可以，一般没有必要，真机就挺好。<br />Docker的镜像有官方的python，但是非常大，上G。如果自己写Dockerfile构建一个，缩减镜像，调度每个容器的内存，都是远比前面那几个东西麻烦的事情。<br />Docker并不适合个人开发环境，直接跑真机它香吗。<br />Docker在调试的时候真的难受，不理解为什么会有人把它<br />虽然Docker本身并不吃你太多内存，但是Docker容器跑起来，如果不调度和限制，吃内存还是很猛的。</p><p>但是这么一配置，怎么比原来麻烦多了，Docker教徒吹嘘的部署方便这里在需要调试的时候并没有什么优势。</p><h2 id="部署项目"><a class="markdownIt-Anchor" href="#部署项目"></a> 部署项目</h2><h3 id="python项目"><a class="markdownIt-Anchor" href="#python项目"></a> python项目</h3><p>这里以开源标注工具doccano为例（该项目提供了Docker镜像和直接部署的方法以及docker-compose示例文件，还给了aws等一键部署脚本）</p><p>我们clone下来，修改settings.py文件</p><p>最简单的方法就是直接用官方的镜像</p><p>这里用新建虚拟环境运行项目的方式</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ virtualenv venv --python=python3.6</span><br></pre></td></tr></table></figure><h2 id="一次被黑记录"><a class="markdownIt-Anchor" href="#一次被黑记录"></a> 一次被黑记录</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CPU  [||||||||||||||||                 51.8%]   CPU -    51.8%  nice:     0.0%  ctx_sw:    8K   MEM -   21.7%  active:    5.31G   SWAP -    0.0%   LOAD    20-core</span><br><span class="line">MEM  [|||||||                          21.7%]   user:    51.3%  irq:      0.0%  inter:   5508   total:  31.3G  inactive:  4.27G   total:    976M  </span><br><span class="line">····</span><br><span class="line">lo                         0b     0b   999.5  0.0   2.34G 2.44M   2654 root        67h8:58 16    0 S    ? ?    .&#x2F;cron</span><br><span class="line">2020-01-15 16:17:54 CST</span><br></pre></td></tr></table></figure><p>症状：昨天root上不去了，rsa密钥也挂了，以为是网的问题，今天一试还不行。用自己的另一个账号登了一下，发现<code>su root</code>居然permission denied了。怀疑是被黑了，一看系统占用，有挖矿程序在跑。看了一下系统日志，是13号被黑的，照着网上清了一遍。从此禁用密码登录（之前就想禁，师兄嫌麻烦）。MySQL也禁用密码改ssl</p><p>clamav再扫一遍</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup clamscan -r /root 2 &gt;&gt; err.out &amp;</span><br></pre></td></tr></table></figure><h2 id="注"><a class="markdownIt-Anchor" href="#注"></a> 注</h2><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cHM6Ly9pc2lzdGVyLmNjL3Bvc3RzL0ZhaWwyYmFuLUJhc2lj" title="https://isister.cc/posts/Fail2ban-Basic">使用 Fail2Ban 加固你的 Linux 服务器<i class="fa fa-external-link"></i></span><a href="#fnref:1" rev="footnote"> ↩</a></span></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">2.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cHM6Ly9odWIuZG9ja2VyLmNvbS91L2dob3N0cnk=" title="https://hub.docker.com/u/ghostry">smartdns的Docker镜像<i class="fa fa-external-link"></i></span><a href="#fnref:2" rev="footnote"> ↩</a></span></li><li id="fn:3"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">3.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cHM6Ly9mb3J1bS51YnVudHUub3JnLmNuL3ZpZXd0b3BpYy5waHA/Zj0xMjAmYW1wO3Q9MjU3MzMz" title="https://forum.ubuntu.org.cn/viewtopic.php?f=120&amp;t=257333">细说linux挂载——mount，及其他……<i class="fa fa-external-link"></i></span><a href="#fnref:3" rev="footnote"> ↩</a></span></li></ol></div></div>]]></content>
      
      
      <categories>
          
          <category> 102网吧日常 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx部署网站</title>
      <link href="/1609/"/>
      <url>/1609/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>等待填坑</p><a id="more"></a><p>部署教研室的小项目的时候接触了一点Nginx，好像Nginx适合部署静态资源和反向代理，决定把博客也试着用Nginx迁到我的VPS上。Netlify在国内的访问速度实在是…</p><p>先把Nginx、npm包、git、hexo之类的都装好<br />（可能还要装gcc和g++用来make）</p><p>然后用 Hexo s 试试，其实这时候就启动了。每日浏览量不破千，瞬时浏览量不破百的小博客其实用不着Nginx，用<span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvc2VydmVyLmh0bWw=" title="https://hexo.io/docs/server.html">hexo自带的server<i class="fa fa-external-link"></i></span>完全应付得过来</p><p>这里有一个Nginx的配置网站</p><p><span class="exturl" data-url="aHR0cHM6Ly9uZ2lueGNvbmZpZy5pby8=" title="https://nginxconfig.io/">https://nginxconfig.io/<i class="fa fa-external-link"></i></span></p><p>我无需多言了</p>]]></content>
      
      
      
        <tags>
            
            <tag> Nginx </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>清水寺生存指北</title>
      <link href="/40f3/"/>
      <url>/40f3/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>你说我一个渣渣，硬件不精，软件不熟，边缘学院，劝退专业，没有国奖，没有论文，现在刚大四保完研都还没毕业，怎么就有脸来写生存指南了呢？</p><a id="more"></a><p>当年看到上交的那个上海交通大学生存手册，还是在大一。三年一晃而过，现在再看，我是笑不出来，我眼泪在肚子里流。</p><p>国内理工科都有不少相似的问题，我感觉至少有七成问题是相似的（上交的那份生存指南也有十年了，只有小部分政策变化，大部分情况几乎没怎么变，放在今天依然是合适的）。但是每个学校都需要一个生存指南，剩下的三成大一新生是不太容易从报喜不报忧的学校官方账号、各怀鬼胎的老师、辅导员、坑蒙拐骗装腔作势狐假虎威的学长学姐那里打听到的。</p><p>看到大一大二的一些同学年复一年在走弯路，于心不忍，还是写点东西，罢了。</p><h2 id="写在前面的话"><a class="markdownIt-Anchor" href="#写在前面的话"></a> 写在前面的话</h2><ul><li>大佬就不用看了，出门右转去打电赛/ACM/科研</li><li>出国的同学也不用看了，出门左转河畔《成电飞跃手册》</li><li>本文不具有时效性，大新闻实时放送看这里<span class="exturl" data-url="aHR0cHM6Ly91ZXN0Yy5pY3Uv" title="https://uestc.icu/">UESTC.icu<i class="fa fa-external-link"></i></span></li></ul><h2 id="成电笑话"><a class="markdownIt-Anchor" href="#成电笑话"></a> 成电笑话</h2><ul><li><p>建校初年，苏联援建，师承苏系（看到那个苏式主楼了吗），笑话当然也一脉相承啦。</p></li><li><p>一个川农的男生，一个西交的男生，一个川大的男生和一个成电的男生一起去请教一一个西财的男生怎么找女朋友。西财的说:“很简单，邀请你喜欢的女生，在周末到市里逛逛，买点礼物，请她吃饭，久而久之她就对你有好感了。”川大的问: &quot;什么是周末?”西交的问:“什么是女生?”川农的问:“什么是市里？”<br />成电的问：“什么是周末？什么是女生？什么是市里？”</p></li><li><p>“同学，请问您在支持课程改革方面动摇过🐴”<br />“我和课程改革一起动摇”</p></li><li><p>“拉宾诺维奇，你关注成电新闻吗”<br />“当然，不然我怎么知道我们在课程改革”</p></li><li><p>问：教育改革和科学有什么区别？<br />“如果教育改革是科学的，那他们应该先拿成教学生当小白鼠”</p></li><li><p>校领导：“我们要教育改革，培养条理清晰地写作和连贯的表达能力！”<br />同学们：“太好了，那要怎么做呢”<br />教务处：“增加马原毛概思修的课时和考试要求，开卷全部改为闭卷”</p></li><li><p>教务处：我们要进行教育改革，请大家在 指 定 时 间 之内将您的宝贵意见、建议反馈至教务处。<br />（温馨提醒，文件尚未正式发布，请勿外传）<br />全校师生：什么时候?<br />教务处：10<br />全校师生：10什么？10个月？还是10天?<br />教务处：9，8，7…</p></li></ul><h2 id="一入ee深似海条条大路转cs"><a class="markdownIt-Anchor" href="#一入ee深似海条条大路转cs"></a> 一入EE深似海，条条大路转CS</h2><p>你电的专业设置非常繁杂，吹的天花乱坠，但是我觉得可以全砍了（尤其是什么光电、生医，国内既没有足够的工作岗位，也不像数学那样出来转行也不会太废），就把工科的本科设置并成EE/CS。当然了，现在EE八成也是打算转CS的（10年前并不是这样，通信很火，土木很火，计算机冷淡，搞计算机视觉和自然语言处理就业惨淡）<br />没办法，16年后成都房价经历了限购等几波上涨，留给大家的选择不多了，要恰饭的嘛<br />（家里有矿请随意）<br />我知道很多同学心怀梦想，但是四年后基本都出国/读研/考公、教师</p><h2 id="上课"><a class="markdownIt-Anchor" href="#上课"></a> 上课</h2><h3 id="学会水课"><a class="markdownIt-Anchor" href="#学会水课"></a> 学会水课</h3><blockquote><p><strong>天变不足惧，人言不足恤，祖宗之法不足守</strong></p></blockquote><p>你电有很多课，就是在拿着N年以前的课本/PPT浪费学生的生命。<sup id="fnref:1"><a href="#fn:1" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="不是说N年前的书不好，奥本海姆的信号与系统、高德纳的计算机程序设计艺术、k&r的C程序设计语言、TCP/IP协议、朗道、铃木雅臣的模电，都是经典的好书。但是你电的EE/CS行业基本都变化很快，N年前的书基本落后工业界至少N+5年了，而很多变化很快的选修课恰恰喜欢用N年不改的教材（很多还是本校老师自编的垃圾教材）。而且你电不少课本的质量就算没落伍也不比谭某人强（尤其是那些什么电子科大出版社、科学出版社的自编教材），你看多了这种书基本就废了。">[1]</span></a></sup>要是真傻不拉几地上课跟着老师听，三年时间基本就废了<br />另外，你电很多老师的水平（这里仅仅指教的课相关领域水平），并不比学完这门课的你高</p><p>当你很喜欢一门选修课/老师但是给分低/考试难，不选，旁听</p><p>当你遇到一门水课，水</p><p>当你遇到一门课不水，但是对你没用/老师不好，水</p><p>当你遇到一门课不水，老师挺好，但是对你以后工作/出国没用，水</p><h3 id="c语言"><a class="markdownIt-Anchor" href="#c语言"></a> C语言</h3><p>大一大多数学院都要学C语言，但是基本都用的谭浩强（计院用的自编教材，约等于魔改版谭浩强；格院用的C Primer Plus）。大部分任课老师的水平嘛，你懂的。我大一还在用VC6，不知现在怎样了，貌似已经换成vs2010那些，完 美 对 标 计 算 机 二 级。</p><p>如果搞硬件，C51、stm32、其他的嵌入式板子，C是很重要的，以后就算转软，学好C打底也是很重要的。但是大多数老师只讲些语法和循环以及<ins><ins>i</ins></ins>之类的鬼才操作，指针啊内存啊都不好好讲的（也可能是课时太少，来不及讲）</p><p>下面这些是我班主任c老师（<s>什么？班主任？别问我为什么你电一所大学居然还有班主任，你电就是这么没天理，忍了吧</s>）班会的时候说他要教大一C语言了，问我有什么建议，我就写了下面这些给他。额，偶滴班主任是搞生物心理学实验之类的，也做过一点脑电采集电路，可能10年没自己写过C了，水平你懂的。对了，他上学期还被强行指派去教一门Unix操作系统的课，他之前还给我们上过精密仪器和生物心理学实验；水平嘛，嗯，这水平问题好像也不怪他。（<s>什么？他为什么要教这么多课？没办法，他是苦逼的讲师，那些大教授忙于捞钱，又不愿意给我们上课。虽然学校规定教授必须上课，实际上嘛，比如某y院长，挂个名，扔给别的老师</s>）</p><p>扯多了，下面是当时应班主任邀请写给大一新生的建议。<br />老师很虚心听取建议的，我还是成功劝退了你电SM学院一半新生使用谭浩强和VS2010，改用k&amp;r，善哉，善哉。<br />(教材质量赶超计院和格院一刚！)</p><h4 id="书籍推荐"><a class="markdownIt-Anchor" href="#书籍推荐"></a> 书籍推荐</h4><h5 id="c程序设计语言"><a class="markdownIt-Anchor" href="#c程序设计语言"></a> 《C程序设计语言》</h5><p>The C Programming Language, C语言之父写的，豆瓣和亚马逊评分最高的一本。习题也很经典, 有一本配套的习题解答。github上也有很多习题解答，比如<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NjcGFsZXR0ZXMvdGhlLWMtcHJvZ3JhbW1pbmctbGFuZ3VhZ2Utc2Vjb25kLWVkaXRpb24tc29sdXRpb25z" title="https://github.com/ccpalettes/the-c-programming-language-second-edition-solutions">ccpalettes/the-c-programming-language-second-edition-solutions<i class="fa fa-external-link"></i></span></p><h5 id="c-primer-plus"><a class="markdownIt-Anchor" href="#c-primer-plus"></a> <span class="exturl" data-url="aHR0cHM6Ly9ib29rLmRvdWJhbi5jb20vc3ViamVjdC8xMjQwMDAyLw==" title="https://book.douban.com/subject/1240002/">C Primer Plus<i class="fa fa-external-link"></i></span></h5><p>格拉斯哥学院在用的教材，但是非常详细（啰嗦）</p><h5 id="c语言入门更简单的书籍"><a class="markdownIt-Anchor" href="#c语言入门更简单的书籍"></a> <span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8xOTY5NDgyMw==" title="https://zhuanlan.zhihu.com/p/19694823">C语言入门更简单的书籍<i class="fa fa-external-link"></i></span></h5><p>这个文章里有适合入门的几本书,比k&amp;r那本更简单一点</p><h5 id="c专家编程-c陷阱与指针等"><a class="markdownIt-Anchor" href="#c专家编程-c陷阱与指针等"></a> C专家编程、C陷阱与指针等</h5><p>适合进阶阅读，大一课多</p><h5 id="如果还是要用谭浩强"><a class="markdownIt-Anchor" href="#如果还是要用谭浩强"></a> 如果还是要用谭浩强</h5><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL21hcnRpbnd1NDIvZmstdGhx" title="https://github.com/martinwu42/fk-thq">https://github.com/martinwu42/fk-thq<i class="fa fa-external-link"></i></span></p><p>哪本书好这种问题, 我建议去图书馆翻一下看看,不同人适合不同风格,找一本适合自己的</p><h4 id="编程环境"><a class="markdownIt-Anchor" href="#编程环境"></a> 编程环境</h4><p>这种问题见仁见智,一般有IDE（integrated development enviroment）和命令行记事本两种选择。只是上课IDE就够了，真想学好c，建议类unix环境下学习，linux/wsl+命令行+vim/VScode，IDE虽好，不要过于依赖<span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC81NDE2OTgyNw==" title="https://zhuanlan.zhihu.com/p/54169827">什么都帮你做了一键运行会让你忽略很多底层的东西<i class="fa fa-external-link"></i></span></p><p>学习c语言的时候参照官方通用的c99/c98/c11标准, 差别也不太大,编译器的选择clang或gcc都行,对于初学者而言初学者较少涉及系统和底层,差别也不大(clang可能对初学者更友好些)</p><h5 id="vs2010-vc2010"><a class="markdownIt-Anchor" href="#vs2010-vc2010"></a> vs2010、vc2010</h5><p>成电计算机学院上机考试用的vs2010，c语言计算机二级考试用的vc2010。<br />但是作为ide，现在（2019年）非常古老，功能远不如vs2019。而且正版是收费的。<br />(虽然有破解版，但这两个老软件在win7和win10上兼容问题非常多。)</p><h5 id="codeblocks"><a class="markdownIt-Anchor" href="#codeblocks"></a> codeblocks</h5><p>vs系列都过于臃肿，初学者只是学个c语言用这个几乎就是杀鸡用牛刀，<strong>codeblocks</strong>是非常好的一款开源IDE。不少ACM选手都用这个,很多人刷leetcode也用这个。配置省心，功能够用，简单粗暴，还免费，支持标准的c/c++语法。（唯一的缺点就是丑）最适合不想在配置和新建工程以及兼容问题上折腾的初学者。<strong>c-free</strong> 也行。</p><h5 id="vscode"><a class="markdownIt-Anchor" href="#vscode"></a> VSCode</h5><p>这几年很火的微软家开源编辑器<strong>VSCode</strong>，是<em>宇宙第一IDE的亲儿子</em>，颜值比codoblock和vc6.0高到不知哪里去了，虽然本质还是个atom那样的notepad，但配置也不麻烦，装个插件也能像IDE那样一键运行(不过还是推荐你试试命令行)。这种现代编辑器比vim对新手有好多了</p><h5 id="vs2019vs2017vs2015"><a class="markdownIt-Anchor" href="#vs2019vs2017vs2015"></a> vs2019/vs2017/vs2015</h5><p>微软家的<em>宇宙第一IDE</em>，不多解释。而且vs2017 community版免费，功能完全够初学者使用。一个问题是臃肿（也就十几个G吧），另一个问题是<em>vs2017以后不完全支持c99</em>，配置起来很麻烦，不建议c语言初学者使用,适合c<ins>开发！（*不写上万行的c</ins>项目就别用宇宙第一IDE了*）</p><h5 id="clion"><a class="markdownIt-Anchor" href="#clion"></a> clion</h5><p>Mac和16G以上内存win/linux系统下强烈推荐clang+<strong>clion</strong>，Jetbrains全家桶真香，有教育优惠，学生免费。跟微软的vs不相上下，而且对c的支持非常好!<br />但是很吃内存，配置不好就别用了</p><h5 id="vim"><a class="markdownIt-Anchor" href="#vim"></a> vim</h5><p>clang/gcc/mingw + 命令行 + VSCode/sublime/notepad++ /vim喜爱折腾的同学可以尝试.跨平台开发请试试cmake</p><h4 id="其他"><a class="markdownIt-Anchor" href="#其他"></a> 其他</h4><p>多动手, 多调试, 不会问谷歌, 编程要多练习,不然会变成<span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzMyNjU2MjExMy9hbnN3ZXIvNzE0MDMzNzk4" title="https://www.zhihu.com/question/326562113/answer/714033798">计算机报告文学<i class="fa fa-external-link"></i></span></p><h3 id="高树大雾"><a class="markdownIt-Anchor" href="#高树大雾"></a> 高树大雾</h3><p>你可能从学长那里听说过杨物运动的传说，不过现在杨物运动已经彻底流产了。<br />现在高数大物的难度几乎越来越水，电分和模电也越来越水（17级貌似都直接合并了）</p><h3 id="思修马原毛概军理形势与政策"><a class="markdownIt-Anchor" href="#思修马原毛概军理形势与政策"></a> 思修马原毛概军理形势与政策</h3><p>从17年开始加大力度，改为了闭卷，然而问题不大（你要是遇上侯伦广当我没说），上课不用听，期末会划一点重点，搞到往年的题刷一下，原题很多</p><h3 id="通识课程"><a class="markdownIt-Anchor" href="#通识课程"></a> 通识课程</h3><p>个人认为是L校长的一大败笔，全员水课<br />核心通识交叉通识是要计入保研和GPA的，这就导致了素质教育和刷分不可调和的矛盾。水课大受欢迎，硬课无人问津甚至因为选课人数过少停课。</p><h3 id="未完待续等待填坑"><a class="markdownIt-Anchor" href="#未完待续等待填坑"></a> 未完待续，等待填坑</h3><h2 id="注意安全"><a class="markdownIt-Anchor" href="#注意安全"></a> 注意安全</h2><h3 id="流浪猫狗"><a class="markdownIt-Anchor" href="#流浪猫狗"></a> 流浪猫狗</h3><p>你电不负责任的猫奴狗奴小动保还是很多的，流浪猫狗也是很多的。保卫处也是并不怎么负责仁的，大家自求多福。下面引用一段helaso的话：</p><blockquote><p>学姐昨天去银桦在门口被狗追，那疯狗追上去用嘴擦到了一下。虽然没流血还是建议学姐去打狂犬疫苗了，也联系了保卫处。今天好了，4只流浪狗在组团门口耍。<br />打电话给保卫处，他们说最近爱狗人士多不能打狗？？？<br />是不是保卫处领导学辅导员和稀泥上瘾了？<br />在此我要推荐一款异烟肼神药给保卫处大爷，对人几乎无毒，肺结核病人的救命药，塞到香肠里一两片就能搞死一只狗。早上趁圣母婊学生还没起床让阿姨扫地时撒，晚上天色一暗就能让阿姨收尸了。铁棍打狗还不带枪那是lowb才用的方法了，俄罗斯之前肃清流浪狗就在街上狂撒这药。<br />保卫处大爷再护着狗爹迟早会有学生被咬出重伤，到时知乎热门等着瞧。</p></blockquote><h3 id="食堂"><a class="markdownIt-Anchor" href="#食堂"></a> 食堂</h3><p>腐败变质的食品很多（早上的包子、饼），还有烟头假牙钢丝球瓷砖大礼包随机放送。如果你去学子一楼，恭喜你，拉肚子几率加倍。</p><h2 id="注"><a class="markdownIt-Anchor" href="#注"></a> 注</h2><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">不是说N年前的书不好，奥本海姆的信号与系统、高德纳的计算机程序设计艺术、k&amp;r的C程序设计语言、TCP/IP协议、朗道、铃木雅臣的模电，都是经典的好书。但是你电的EE/CS行业基本都变化很快，N年前的书基本落后工业界至少N+5年了，而很多变化很快的选修课恰恰喜欢用N年不改的教材（很多还是本校老师自编的垃圾教材）。而且你电不少课本的质量就算没落伍也不比谭某人强（尤其是那些什么电子科大出版社、科学出版社的自编教材），你看多了这种书基本就废了。<a href="#fnref:1" rev="footnote"> ↩</a></span></li></ol></div></div>]]></content>
      
      
      
        <tags>
            
            <tag> 你电 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL从入门到跑路</title>
      <link href="/45b9/"/>
      <url>/45b9/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>用了这么久数据库，现在还只会增删查改，开个坑学学优化。</p><a id="more"></a><p>等待填坑</p><p>看到clickhouse的速度很快，有空看一下</p><h2 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h2><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2RiY2xpL215Y2xp" title="https://github.com/dbcli/mycli">mycli<i class="fa fa-external-link"></i></span> MySQL的cli工具，能高亮和自动补全</p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> Database </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>λ演算&amp;函数式编程</title>
      <link href="/a10f/"/>
      <url>/a10f/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>等待填坑</p><a id="more"></a><h2 id="摸鱼一时爽"><a class="markdownIt-Anchor" href="#摸鱼一时爽"></a> 摸鱼一时爽</h2><p>函数式编程(Functional Programming)好像比面向对象抽象程度更高。但是之前折腾硬件的时候都没有用到过，可能是不太适合处理IO接口和操作时序吧。<br />之前在图书馆乱翻，看到一本七周七语言的书，翻到函数式，感觉还挺有意思，教研室的摸鱼生活就搞点这个吧，反正干正事是不可能干正事的<br />正在进JavaScript的坑，将就着用js来练练手吧。</p><h2 id="λ演算λ-calculus"><a class="markdownIt-Anchor" href="#λ演算λ-calculus"></a> λ演算(λ-calculus)</h2><ul><li>是匿名的</li><li>只有一个输入</li></ul><p>多输入的函数要转成多个只有一个输入的函数的嵌套调用，也就是柯里化（currying）</p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">λ</span></span></span></span>项</p>]]></content>
      
      
      
        <tags>
            
            <tag> λ-calcus </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker笔记</title>
      <link href="/69d4/"/>
      <url>/69d4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>开始折腾Docker，等待填坑</p><a id="more"></a><p>容器化好像挺有意思，开始学学（指照着网上教程乱用<sup id="fnref:1"><a href="#fn:1" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[Docker从入门到实践](https://yeasy.gitbooks.io/docker_practice/)">[1]</span></a></sup>）。<br />VPS(Virtual Private Server)用的就是虚拟化技术，Docker比各种虚拟机、云服务虚拟程度低。大概相当于一个沙盒？一般用来打包安装环境，这样部署方便一些。（有很多安装脚本，但是CentOS、Ubuntu、Debian经常不一样，打成Docker image，就可以通用了）。Docker还带一层隔离，大概相当于加强版的chroot（并没有隔离硬件）</p><p>Docker好像还可以套娃，Docker里面跑Docker</p><h2 id="win10下使用docker"><a class="markdownIt-Anchor" href="#win10下使用docker"></a> win10下使用Docker</h2><p>下载Docker Desktop，安装，重启。打开hyper-v，进BIOS开启虚拟化，重启。<br />一般这样就直接装好了，看到小鲸鱼，试一下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run hello-world</span><br></pre></td></tr></table></figure><p>更换镜像源，你电的镜像源还没有安排上，这里先用<span class="exturl" data-url="aHR0cHM6Ly9sdWcudXN0Yy5lZHUuY24vd2lraS9taXJyb3JzL2hlbHAvZG9ja2Vy" title="https://lug.ustc.edu.cn/wiki/mirrors/help/docker">中科大的<i class="fa fa-external-link"></i></span>好了，在<code>C:\ProgramData\Docker</code>新建一个config\daemon.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"registry-mirrors"</span>: [<span class="string">"https://docker.mirrors.ustc.edu.cn"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后就可以获取镜像了</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull [选项] [Docker Registry 地址[:端口号]/]仓库名[:标签]</span><br></pre></td></tr></table></figure><p>用<code>docker ps</code>查看容器，用<code>Docker run</code>运行，<code>docker logs</code>查看日志。<br />这里推荐使用VSCode Docker插件和Docker Compose插件<br />记得在设置里打开Expose daemon on tcp://localhost:2375 without TLS</p><h3 id="wsl下使用docker"><a class="markdownIt-Anchor" href="#wsl下使用docker"></a> wsl下使用Docker</h3><p>在官网上看到了Docker for wsl2，等待填坑。(虽然我现在直接强行apt装了)<br />（家庭版貌似并不可以，要专业版）</p><h2 id="linux下的docker"><a class="markdownIt-Anchor" href="#linux下的docker"></a> Linux下的Docker</h2><p>一定要先启动, 不然有可能<code>Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service docker start</span><br></pre></td></tr></table></figure><p>使用<code>docker exec -it XXXXXX bash</code>进入容器的命令界面，输入exit退出</p><p>同步Docker容器和宿主机的时间：<code>docker cp /etc/localtime &lt;container id&gt;:/etc/localtime</code></p><p>加当前用户到用户组里面</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gpasswd -a <span class="variable">$&#123;USER&#125;</span> docker</span><br></pre></td></tr></table></figure><h2 id="docker-compose-部署"><a class="markdownIt-Anchor" href="#docker-compose-部署"></a> Docker Compose 部署</h2><p>当部署多个Docker容器，它们之间还有关联的时候，就用Compose代替Docker run，比如师兄Flask写的标注工具，就是前后端分别一个Docker容器</p><p>运行：<code>docker-compose up</code>自动创建</p><h2 id="docker镜像"><a class="markdownIt-Anchor" href="#docker镜像"></a> Docker镜像</h2><p>Docker镜像（image）也是一堆文件，可以自己建或者从远程pull别人建好的<br />有了Docker镜像，再写好Dockerfile就可以跑起来了（跑起来之后就是个容器container）</p><h2 id="dockerfile"><a class="markdownIt-Anchor" href="#dockerfile"></a> Dockerfile</h2><p>大概相当于一个脚本之类的东西，填写好之后启动会根据文件里面的配置逐步执行</p><h2 id="常用命令"><a class="markdownIt-Anchor" href="#常用命令"></a> 常用命令</h2><table><thead><tr><th>Command</th><th>功能</th></tr></thead><tbody><tr><td>Docker build</td><td>创建镜像</td></tr><tr><td>Docker create</td><td>创建镜像（并不启动）</td></tr><tr><td>Docker exec</td><td>在Docker里面执行命令</td></tr><tr><td>Docker images</td><td>查看镜像</td></tr><tr><td>Docker pull/push</td><td>下载/上传镜像</td></tr><tr><td>Docker rm/rmi</td><td>删除容器/镜像</td></tr><tr><td>Docker export/import</td><td>导出导入容器</td></tr><tr><td>Docker import/load</td><td>导出导入镜像</td></tr><tr><td>Docker start/stop/restart/pause/unpause/kill</td><td>略</td></tr></tbody></table><h2 id="报错"><a class="markdownIt-Anchor" href="#报错"></a> 报错</h2><p><code>Failed to enable unit: Unit file /etc/systemd/system/docker.service is masked.</code></p><p>执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl unmask docker.service</span><br><span class="line">systemctl unmask docker.socket</span><br><span class="line">systemctl start docker.service</span><br></pre></td></tr></table></figure><p>出现 <code>Job for docker.service failed because the control process exited with error code. See &quot;systemctl status docker.service&quot; and &quot;journalctl -xe&quot; for details.</code></p><p>出现<code>Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?</code></p><p>出现<code>systemd[1]: Failed to start LSB: Create lightweight, portable, self-sufficie</code></p><p>Docker pull出现<code>Error response from daemon: Get https://registry-1.docker.io/v2/: dial tcp 34.201.196.144:443: connect: connection refused</code></p><p>是镜像源或者DNS的问题，参照这里<sup id="fnref:2"><a href="#fn:2" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[镜像加速器](https://yeasy.gitbooks.io/docker_practice/install/mirror.html)">[2]</span></a></sup>改了。（阿里的和中科大的我这网根本不稳，建议换华为的）</p><p>出现<code>pkg_resources.DistributionNotFound: The 'docker-compose==1.8.0' distribution was not found and is required by the application</code></p><p>想用Docker-compose结果报了一堆python的错</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;bin&#x2F;docker-compose&quot;, line 5, in &lt;module&gt;</span><br><span class="line">    from pkg_resources import load_entry_point</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;pkg_resources&#x2F;__init__.py&quot;, line 2927, in &lt;module&gt;</span><br><span class="line">    @_call_aside</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;pkg_resources&#x2F;__init__.py&quot;, line 2913, in _call_aside</span><br><span class="line">    f(*args, **kwargs)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;pkg_resources&#x2F;__init__.py&quot;, line 2940, in _initialize_master_working_set</span><br><span class="line">    working_set &#x3D; WorkingSet._build_master()</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;pkg_resources&#x2F;__init__.py&quot;, line 635, in _build_master</span><br><span class="line">    ws.require(__requires__)</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;pkg_resources&#x2F;__init__.py&quot;, line 943, in require</span><br><span class="line">    needed &#x3D; self.resolve(parse_requirements(requirements))</span><br><span class="line">  File &quot;&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;pkg_resources&#x2F;__init__.py&quot;, line 829, in resolve</span><br><span class="line">    raise DistributionNotFound(req, requirers)</span><br><span class="line">pkg_resources.DistributionNotFound: The &#39;docker-compose&#x3D;&#x3D;1.8.0&#39; distribution was not found and is required by the application</span><br></pre></td></tr></table></figure><p>看到网上的解决方案说</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install backports.ssl_match_hostname --upgrade</span><br></pre></td></tr></table></figure><p>结果pip3居然又报错了了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pip is configured with locations that require TLS&#x2F;SSL, however the ssl module in Python is not available.</span><br><span class="line">Collecting backports.ssl_match_hostname</span><br><span class="line">  Retrying (Retry(total&#x3D;4, connect&#x3D;None, read&#x3D;None, redirect&#x3D;None, status&#x3D;None)) after connection broken by &#39;SSLError(&quot;Can&#39;t connect to HTTPS URL because the SSL module is not available.&quot;,)&#39;: &#x2F;simple&#x2F;backports-ssl-match-hostname&#x2F;</span><br><span class="line">  Retrying (Retry(total&#x3D;3, connect&#x3D;None, read&#x3D;None, redirect&#x3D;None, status&#x3D;None)) after connection broken by &#39;SSLError(&quot;Can&#39;t connect to HTTPS URL because the SSL module is not available.&quot;,)&#39;: &#x2F;simple&#x2F;backports-ssl-match-hostname&#x2F;</span><br><span class="line">  Retrying (Retry(total&#x3D;2, connect&#x3D;None, read&#x3D;None, redirect&#x3D;None, status&#x3D;None)) after connection broken by &#39;SSLError(&quot;Can&#39;t connect to HTTPS URL because the SSL module is not available.&quot;,)&#39;: &#x2F;simple&#x2F;backports-ssl-match-hostname&#x2F;</span><br><span class="line">  Retrying (Retry(total&#x3D;1, connect&#x3D;None, read&#x3D;None, redirect&#x3D;None, status&#x3D;None)) after connection broken by &#39;SSLError(&quot;Can&#39;t connect to HTTPS URL because the SSL module is not available.&quot;,)&#39;: &#x2F;simple&#x2F;backports-ssl-match-hostname&#x2F;</span><br></pre></td></tr></table></figure><p>哇，又是SSL证书的问题</p><p>参照<span class="exturl" data-url="aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDU5NTQ1MjgvcGlwLWlzLWNvbmZpZ3VyZWQtd2l0aC1sb2NhdGlvbnMtdGhhdC1yZXF1aXJlLXRscy1zc2wtaG93ZXZlci10aGUtc3NsLW1vZHVsZS1pbg==" title="https://stackoverflow.com/questions/45954528/pip-is-configured-with-locations-that-require-tls-ssl-however-the-ssl-module-in">stackoverflow的解决方案<i class="fa fa-external-link"></i></span></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo -s</span><br><span class="line"></span><br><span class="line">apt install libssl-dev libncurses5-dev libsqlite3-dev libreadline-dev libtk8.5 libgdm-dev libdb4o-cil-dev libpcap-dev</span><br></pre></td></tr></table></figure><p>切到<code>the folder with the Python 3.X library source code</code>，一般在<code>/usr/local/bin</code>底下的python文件夹<br />运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><p>依然不行<br />怀疑是SSL证书的问题，curl使用ssl也报错<br />但是openssl、libssl-dev都装了的</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install ca-certificates</span><br></pre></td></tr></table></figure><p>证书没过期</p><p>又运行了一下openssh居然报错connect:errno=111</p><p>查了一下</p><blockquote><p>This has nothing to do with SSL. Connection refused means that either there is no server or the connection is blocked by firewall. In your case (before your edit) the server is also plain wrong, i.e. “:443” is no valid server name (hostname missing).</p></blockquote><p>难道就是防火墙的问题吗？</p><p>查看了一下网络状态</p><p>没问题的工作站<br />tcp        0      0 211.83.111.221:40294    211.83.111.224:443      ESTABLISHED 1825/telnet<br />有问题的服务器<br />tcp6       0      0 :::443                  ::😗                    LISTEN      101411/apache2<br />tcp6       0      0 211.83.111.224:443      211.83.111.221:40294    ESTABLISHED 101415/apache2</p><p>难道学校的ipv6又炸了？</p><p>试试<code>nc -l 443</code></p><p>emmm，被占用了</p><p>不对，我傻逼了，这是对外的端口啊。。。。</p><p>等吧</p><p><strong>更新</strong>是网费没了没充钱的问题…<br />老蔡师兄不是校内的网连不上也是没充钱学校网管给断外网了…<br />前几天那个Ubuntu Desktop的工作站最近也没钱了，但是http在终端可以用，镜像源什么的也能连，但是那个浏览器一打开就提示我登录账号。<br />突然意识到了不对，怀疑服务器的网也没钱了。<br />其实之前一直怀疑是被制裁了，但是工作站就是好的，才一直以为是SSL证书之类的问题<br />充钱之后，神奇的都能用了<br />看来是http神奇的逃脱了没钱的制裁<br />行吧，在这里排查了四五天，期间还重装过好几次Ubuntu Server<br />果然还是得充钱啊</p><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/jiaqian.png" alt="Picture" style="zoom:60%;" /><h2 id="离线装docker镜像"><a class="markdownIt-Anchor" href="#离线装docker镜像"></a> 离线装Docker镜像</h2><p>教研室服务器的网一直出问题<br />决定离线搞Docker镜像<br />发现Docker有离线的方法，就是直接在别的机子上pull，然后</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker save -o mysql.tar mysql</span><br></pre></td></tr></table></figure><p>把生成的tar文件拷到服务器上</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker load -i  mysql.tar</span><br></pre></td></tr></table></figure><h2 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h2><h2 id="再看docker"><a class="markdownIt-Anchor" href="#再看docker"></a> 再看Docker</h2><p>被人骗入坑Docker，甚至教研室服务器上基本全是Docker跑的一个个容器，甚至MySQL都是跑在Docker上的</p><p><span class="exturl" data-url="aHR0cDovL2RvY2tvbmUuaW8vYXJ0aWNsZS82NjA=" title="http://dockone.io/article/660">http://dockone.io/article/660<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly9qaW1teXNvbmcuaW8vZG9ja2VyLWhhbmRib29rLw==" title="https://jimmysong.io/docker-handbook/">https://jimmysong.io/docker-handbook/<i class="fa fa-external-link"></i></span><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cHM6Ly95ZWFzeS5naXRib29rcy5pby9kb2NrZXJfcHJhY3RpY2Uv" title="https://yeasy.gitbooks.io/docker_practice/">Docker从入门到实践<i class="fa fa-external-link"></i></span><a href="#fnref:1" rev="footnote"> ↩</a></span></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">2.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cHM6Ly95ZWFzeS5naXRib29rcy5pby9kb2NrZXJfcHJhY3RpY2UvaW5zdGFsbC9taXJyb3IuaHRtbA==" title="https://yeasy.gitbooks.io/docker_practice/install/mirror.html">镜像加速器<i class="fa fa-external-link"></i></span><a href="#fnref:2" rev="footnote"> ↩</a></span></li></ol></div></div></p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>推荐系统笔记</title>
      <link href="/bccd/"/>
      <url>/bccd/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>等待填坑</p><a id="more"></a><p>大概分为用户建模模块、推荐对象建模模块、推荐算法模块</p><h2 id="主要算法"><a class="markdownIt-Anchor" href="#主要算法"></a> 主要算法</h2><h3 id="协同过滤算法"><a class="markdownIt-Anchor" href="#协同过滤算法"></a> 协同过滤算法</h3><p>最老最经典的一个算法了，大概是给用户推荐兴趣和关注点相似用户的感兴趣内容。</p><p>协同过滤有基于领域的方法(neighborhood methods)和隐语义模型(latent factor models)，基于图的随机游走算法(random walk on graph)<br />下面两个是基于邻域的方法：</p><h4 id="基于物品的协同过滤"><a class="markdownIt-Anchor" href="#基于物品的协同过滤"></a> 基于物品的协同过滤</h4><p>（item-based collaborative filtering，ItemCF）<br />找到物品之间的属性关联，向用户推荐属性相似的物品<br />设N(i)是喜欢i物品的用户数<br />相似度：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>w</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mfrac><mrow><mi mathvariant="normal">∣</mi><mi>N</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>∩</mo><mi>N</mi><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow><mrow><mi mathvariant="normal">∣</mi><mi>N</mi><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">w_{ij}=\frac{|N(i)\cap N(j)|}{|N(j)|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mord">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>避免热门物品干扰，改为</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>w</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mfrac><mrow><mi mathvariant="normal">∣</mi><mi>N</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>∩</mo><mi>N</mi><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow><msqrt><mrow><mi mathvariant="normal">∣</mi><mi>N</mi><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi>N</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow></msqrt></mfrac></mrow><annotation encoding="application/x-tex">w_{ij}=\frac{|N(i)\cap N(j)|}{\sqrt{|N(j)||N(i)|}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.557em;vertical-align:-1.13em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.175em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.935em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mord">∣</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mclose">)</span><span class="mord">∣</span></span></span><span style="top:-2.8950000000000005em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.30499999999999994em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.13em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h4 id="基于用户的协同过滤"><a class="markdownIt-Anchor" href="#基于用户的协同过滤"></a> 基于用户的协同过滤</h4><p>（User-based collaborative filtering，UserCF）<br />找到和用户相似的其他用户，将其他用户感兴趣的产品推荐给用户。还有一种是“购买过XXX等用户也XXX”，算是这个方法的一个变种</p><p>计算相似度，N(u)是用户正反馈的集合，N(v)是用户负反馈物品的集合<br />Jaccard相似度：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>w</mi><mrow><mi>u</mi><mo separator="true">,</mo><mi>v</mi></mrow></msub><mo>=</mo><mfrac><mrow><mi mathvariant="normal">∣</mi><mi>N</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo>∩</mo><mi>N</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow><mrow><mi mathvariant="normal">∣</mi><mi>N</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo>∪</mo><mi>N</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">w_{u,v}= \frac{|N(u)\cap N(v)|}{|N(u)\cup N(v)|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mord">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>余弦相似度：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>w</mi><mrow><mi>u</mi><mo separator="true">,</mo><mi>v</mi></mrow></msub><mo>=</mo><mfrac><mrow><mi mathvariant="normal">∣</mi><mi>N</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo>∩</mo><mi>N</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow><msqrt><mrow><mi mathvariant="normal">∣</mi><mi>N</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><mi>N</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow></msqrt></mfrac></mrow><annotation encoding="application/x-tex">w_{u,v}= \frac{|N(u)\cap N(v)|}{\sqrt{|N(u)||N(v)|}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.557em;vertical-align:-1.13em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.175em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.935em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mclose">)</span><span class="mord">∣</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mord">∣</span></span></span><span style="top:-2.8950000000000005em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.30499999999999994em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.13em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h2 id="冷启动问题"><a class="markdownIt-Anchor" href="#冷启动问题"></a> 冷启动问题</h2><p>等待填坑，利用用户注册信息，人工标注等</p><h2 id="大众行为个性化推荐"><a class="markdownIt-Anchor" href="#大众行为个性化推荐"></a> 大众行为/个性化推荐</h2><p>等待填坑</p><h2 id="imdb电影评论推荐例子"><a class="markdownIt-Anchor" href="#imdb电影评论推荐例子"></a> imdb电影评论推荐例子</h2><p>这里使用<span class="exturl" data-url="aHR0cDovL2ZpbGVzLmdyb3VwbGVucy5vcmcvZGF0YXNldHMvbW92aWVsZW5zLw==" title="http://files.grouplens.org/datasets/movielens/">movielens数据集<i class="fa fa-external-link"></i></span>，<br />数据集的rating.csv包括用户id，物品id，评分，评论时间。(这个csv文件第一行是userid，movieid，·····，把第一行直接删掉或者从第二行开始读取，不然会报TypeError: unsupported operand type(s) for -: ‘str’ and 'int’的错)<br />使用的算法是SVD矩阵分解。构建一个用户-物品矩阵，每一项的值是评分，这是一个极其稀疏的矩阵<br />我们导入数据集并分割：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">header = [<span class="string">'user_id'</span>, <span class="string">'item_id'</span>, <span class="string">'rating'</span>, <span class="string">'timestamp'</span>]  <span class="comment"># 用户id，物品id，评分，评论时间</span></span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">'../data/u.data'</span>, sep=<span class="string">'\t'</span>, names=header)</span><br><span class="line">n_users = df.user_id.unique().shape[<span class="number">0</span>]  <span class="comment">#用户数量</span></span><br><span class="line">n_items = df.item_id.unique().shape[<span class="number">0</span>]  <span class="comment">#物品数量</span></span><br><span class="line">print(<span class="string">'Number of users = '</span> + str(n_users) + <span class="string">' | Number of movies = '</span> + str(n_items))</span><br><span class="line"><span class="comment"># 数据集分割——训练集：测试集 = 3:1</span></span><br><span class="line">train_data,test_data = train_test_split(df, test_size = <span class="number">0.25</span>)</span><br></pre></td></tr></table></figure><p>建立评分矩阵</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">train_data_matrix = np.zeros((n_users, n_items))</span><br><span class="line">test_data_matrix = np.zeros((n_users, n_items))</span><br><span class="line"><span class="comment">#使用 pandas 遍历行数据</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> train_data.itertuples():</span><br><span class="line">    <span class="comment">#训练集评分矩阵</span></span><br><span class="line">    train_data_matrix[line[<span class="number">1</span>]<span class="number">-1</span>, line[<span class="number">2</span>]<span class="number">-1</span>] = line[<span class="number">3</span>]</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> test_data.itertuples():</span><br><span class="line">    <span class="comment">#测试集评分矩阵</span></span><br><span class="line">    test_data_matrix[line[<span class="number">1</span>]<span class="number">-1</span>, line[<span class="number">2</span>]<span class="number">-1</span>] = line[<span class="number">3</span>]</span><br></pre></td></tr></table></figure><p>计算余弦相似度：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">user_similarity = pairwise_distances(train_data_matrix, metric = <span class="string">"cosine"</span>)  <span class="comment"># 计算余弦距离</span></span><br><span class="line">item_similarity = pairwise_distances(train_data_matrix.T, metric = <span class="string">"cosine"</span>)</span><br></pre></td></tr></table></figure><p>基于用户和基于物品的协同过滤</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(rating, similarity, type = <span class="string">'user'</span>)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> type == <span class="string">'user'</span>:</span><br><span class="line">        <span class="comment"># </span></span><br><span class="line">        mean_user_rating = rating.mean(axis = <span class="number">1</span>)    <span class="comment">#mean函数：压缩列，对各行求均值，返回 m *1 矩阵</span></span><br><span class="line">        <span class="comment"># print(mean_user_rating)</span></span><br><span class="line">        rating_diff = (rating - mean_user_rating[:,np.newaxis])</span><br><span class="line">        pred = mean_user_rating[:,np.newaxis] + similarity.dot(rating_diff) / np.array([np.abs(similarity).sum(axis=<span class="number">1</span>)]).T</span><br><span class="line">        <span class="comment">#dot函数：矩阵相乘；np.abs()：矩阵元素的绝对值  .T:转置</span></span><br><span class="line">        <span class="comment"># print('test',pred.min())</span></span><br><span class="line">    <span class="keyword">elif</span> type == <span class="string">'item'</span>:</span><br><span class="line">        pred = rating.dot(similarity) / np.array([np.abs(similarity).sum(axis=<span class="number">1</span>)])</span><br><span class="line">        <span class="comment"># print('test2',pred.max())</span></span><br><span class="line">    <span class="keyword">return</span> pred</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">item_prediction = predict(train_data_matrix, item_similarity, type = <span class="string">'item'</span>)</span><br><span class="line">user_prediction = predict(train_data_matrix, user_similarity, type = <span class="string">'user'</span>)</span><br><span class="line">print(len(item_prediction))</span><br><span class="line">print(len(item_prediction[<span class="number">0</span>]))</span><br><span class="line">print(np.argsort(item_prediction[<span class="number">0</span>]))</span><br></pre></td></tr></table></figure><p>计算均方误差</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rmse</span><span class="params">(prediction, ground_truth)</span>:</span></span><br><span class="line">    <span class="comment"># 计算均方误差</span></span><br><span class="line">    <span class="comment">#nonzero(a)返回数组a中值不为零的元素的下标</span></span><br><span class="line">    <span class="comment">#flatten()创建矩阵</span></span><br><span class="line">    prediction = prediction[ground_truth.nonzero()].flatten()</span><br><span class="line">    ground_truth = ground_truth[ground_truth.nonzero()].flatten()</span><br><span class="line">    <span class="keyword">return</span> sqrt(mean_squared_error(prediction, ground_truth))</span><br><span class="line">print(<span class="string">'User based CF RMSE: '</span> + str(rmse(user_prediction, test_data_matrix)))</span><br><span class="line">print(<span class="string">'Item based CF RMSE: '</span> + str(rmse(item_prediction, test_data_matrix)))</span><br></pre></td></tr></table></figure><p>SVD分解的方法，其中k是特征值个数，指定将分解为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mo>∗</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">m*k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mo>∗</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">k*n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>，中间的对角矩阵有k个特征值</p><blockquote><p>k: int, optional,Number of singular values and vectors to compute. Must be 1 &lt;= k &lt; min(A.shape)</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">u, s, vt = svds(train_data_matrix, k=<span class="number">500</span>)</span><br><span class="line">s_diag_matrix = np.diag(s)</span><br><span class="line">X_pred = np.dot(np.dot(u, s_diag_matrix), vt)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'User-based CF MSE: '</span> + str(rmse(X_pred, test_data_matrix)))</span><br></pre></td></tr></table></figure><p>参考</p><p><span class="exturl" data-url="aHR0cHM6Ly9sdW1pbmdkb25nLmNuL3JlY29tbWVuZGF0aW9uLWFsZ29yaXRobS1iYXNlZC1vbi1tYXRyaXgtZGVjb21wb3NpdGlvbi5odG1s" title="https://lumingdong.cn/recommendation-algorithm-based-on-matrix-decomposition.html">基于矩阵分解的推荐算法<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3FjeW1reHljL1JlY1N5cw==" title="https://github.com/qcymkxyc/RecSys">项亮的《推荐系统实践》的代码实现<i class="fa fa-external-link"></i></span></p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 炼丹 </tag>
            
            <tag> 推荐系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>沙河夜市</title>
      <link href="/f641/"/>
      <url>/f641/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>这几天走过泥电沙河边上的建设路，早上晨光熹微，夜间车马喧嚣，仿佛回到了高二高三在一中上学的日子。</p><a id="more"></a><p>晚上路过建设路，卖小吃的沿街店铺生意似乎很火爆。到底还是网红街，比清水河西门外一片濒临倒闭的冷清店铺红火多了，显不出一点稳中向好共克时艰的样子。然而我这几天却没看到多少麻雀在路边找吃的，可能是人实在太多不太敢来吧。沙河校内倒是有些珠颈斑鸠和白颊噪鹛在路边捡樟树果子吃。鸟没看到，不到一周的时间却见了三次老鼠行色匆匆，穿梭在摊位间，可能是要回家养四个龟<br />不喜欢辣的我路过建设路，没有胃口，每次大晚上的走过去居然一点也不饿。</p><p>今天实习回来的师姐请我们吃螺蛳粉，不习惯嗦粉并不知道哪里好吃。<br />听说建设路吃的自从炒作过度就不如以前了，我也不晓得，反正没有市井气息，像旅游区。看那个某签签土豆每天都有那么多人在排队，我就好奇一个土豆到底有什么好吃的。反正去了西伯利亚，天天都有土豆吃。<br />这些跟我一个低端人口又有什么关系呢<br />浮世繁华，与我无关。<br />16年涨了房价的成都不像是那首不知道怎么火的《成都》，倒像是《北京北京》。<br />咖啡馆离广场有三个街区，仿佛霓虹灯到月亮的距离，哦，不对，成都看不到月亮。</p><p>晚上回到租的房子，八二信箱家属区，老房子刷了一层屎黄色的漆，那感觉，和当年我长大的物探小区刷了一层红色的漆一样难受。我果然还是喜欢老小区。</p><p>成都夜雨，点点滴滴到天明</p><p><em><strong>对了，泥电的镜像源要上了，不来试试吗</strong></em><br /><span class="exturl" data-url="aHR0cDovL21pcnJvcnMudWVzdGMuY24=" title="http://mirrors.uestc.cn">电子科技大学开源镜像站<i class="fa fa-external-link"></i></span>    ~~202.115.22.207 ~~（需要校内IP）<br />电子科大镜像源自从凝聚的凉了以后终于要续上了</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ping 202.115.22.207</span><br><span class="line"></span><br><span class="line">正在 Ping 202.115.22.207 具有 32 字节的数据:</span><br><span class="line">来自 202.115.22.207 的回复: 字节=32 时间=2ms TTL=60</span><br><span class="line">来自 202.115.22.207 的回复: 字节=32 时间&lt;1ms TTL=60</span><br><span class="line">来自 202.115.22.207 的回复: 字节=32 时间=1ms TTL=60</span><br><span class="line">来自 202.115.22.207 的回复: 字节=32 时间&lt;1ms TTL=60</span><br><span class="line"></span><br><span class="line">202.115.22.207 的 Ping 统计信息:</span><br><span class="line">    数据包: 已发送 = 4，已接收 = 4，丢失 = 0 (0% 丢失)，</span><br><span class="line">往返行程的估计时间(以毫秒为单位):</span><br><span class="line">    最短 = 0ms，最长 = 2ms，平均 = 0ms</span><br></pre></td></tr></table></figure><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/mirrors.png" alt="Picture" style="zoom:80%;" />*请忽略现在还妹有前端这个问题，据说已经在做了.jpg*<p>更新，前端已经安排上了<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/mirrors1.png" alt="Picture" style="zoom:80%;" /></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Leetcode刷题</title>
      <link href="/6aa3/"/>
      <url>/6aa3/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>我就每天当瓜子嗑了，不刷题练练手真的要成一个废人了</p><a id="more"></a><p>生活所迫，开始刷题练手</p><p>装上了VSCode，开始在教研室摸鱼式刷题，再次感受到了VSCode本质上是一个浏览器。</p><p>现在还有点纠结拿什么语言刷，哎，不行就先把那本算法竞赛入门经典刷一遍吧。大一学的数据结构都快忘光了。(⊙﹏⊙)</p><h2 id="vscode-remotedevelopment插件连接wsl"><a class="markdownIt-Anchor" href="#vscode-remotedevelopment插件连接wsl"></a> VSCode RemoteDevelopment插件连接wsl</h2><p>教研室分给我的坑位上那台即将报废回收破主机是个14年的i5，并没有独显，虚拟机和双系统是跑不太动了，而且我想用Docker，打开hyper-v之后VMware也不兼容，就弃坑VM了。<br />开始想在win10下装clang和gcc，后来发现用VSCode直接上wsl更省事，安装Remote Development插件就行了<br />在wsl新建目录输入<code>code-insiders .</code>或者<code>code .</code><br />或者在VSCode里按F1，选择<code>Remote-WSL: New Window</code>，再打开文件夹就行了，看到左下角有个绿色的wsl标志就可以了<br />git还会有点小问题，要禁用换行符自动转换，不然win下面和linux下面不一样每次git的repo明明没改动，却显示新的变化，问题看<span class="exturl" data-url="aHR0cHM6Ly9jb2RlLnZpc3VhbHN0dWRpby5jb20vZG9jcy9yZW1vdGUvd3Ns" title="https://code.visualstudio.com/docs/remote/wsl">这里<i class="fa fa-external-link"></i></span></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.autocrlf false</span><br></pre></td></tr></table></figure><p>wsl的Debian应该是buster版本的，镜像源选buster（Debian10）</p><p>wsl里cd进<code>\mnt</code>目录就能和win10交换文件，win10下的wsl文件目录在<code>C:\Users\Username\AppData\Local\Packages\CanonicalGroupLimited.UbuntuonWindows_79rhkp1fndgsc\LocalState\rootfs</code></p><p>wsl里的shell换成oh my zsh，哎，舒服<br />配置问题请参考<span class="exturl" data-url="aHR0cHM6Ly9jb2RlLnZpc3VhbHN0dWRpby5jb20vZG9jcy9jcHAvY29uZmlnLXdzbA==" title="https://code.visualstudio.com/docs/cpp/config-wsl">官方文档<i class="fa fa-external-link"></i></span>，可以装code runner插件像IDE一样直接运行<br /><span class="exturl" data-url="aHR0cHM6Ly9wcmludGVtcHcuZ2l0aHViLmlvL3ZzY29kZS1jLWNwcC1jb25maWd1cmF0aW9uLWZvci1hY20tb2ov" title="https://printempw.github.io/vscode-c-cpp-configuration-for-acm-oj/">看这里<i class="fa fa-external-link"></i></span><br />更新，由于巨硬的VSCode频繁更新，json配置格式乱改，折腾来折腾去非常麻烦，请直接使用别人打包好的便携版或者直接转投Clion（有教育邮箱的我就转投Clion了，JB全家桶真香）<br />据说wsl2已经在20H1预览版上了，但是win10这个样子我又不敢乱更新，等等看吧，观望一下再决定黑巨硬还是微软真香。</p><h2 id="leetcode"><a class="markdownIt-Anchor" href="#leetcode"></a> leetcode</h2><p>看了一下leetcode对语言的支持<br />C++：g++ 8.2，C++14 标准，C：gcc 8.2</p><p>[69] sqrt(x)</p><p>二分法或者牛顿法</p><p>[231] Power of Two</p><p>不断除以二就行了，或者按位与</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">num &amp; (num<span class="number">-1</span>)</span><br></pre></td></tr></table></figure><p>[193] Valid Phone Numbers<br />美国地区电话号码，直接用正则就好了<code>^(\d{3}-|\(\d{3}\) )\d{3}-\d{4}$</code></p><h2 id="其他"><a class="markdownIt-Anchor" href="#其他"></a> 其他</h2><p>努力不写不求甚解的谭++</p><blockquote><p>有一些很简单的鉴别方法 比如创建obj用的Type()而不是Type{}, 到处是类型声明, 各种子类继承叠罗汉 都是谭++的标志</p></blockquote><h3 id="alloca和malloc函数"><a class="markdownIt-Anchor" href="#alloca和malloc函数"></a> alloca和malloc函数</h3><p>C/C++里面的alloca函数动态分配内存, 从栈申请内存，自动释放。alloca是最快的动态内存分配，对应的汇编只有一条指令 sub rsp, size。<br />C还支持可变长数组（variable-length array， VLA）（C99以后）<br />malloc从堆中申请内存，需要手动释放（free）</p><h3 id="c和stl"><a class="markdownIt-Anchor" href="#c和stl"></a> C++和STL</h3><p>等待填坑</p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flask开坑记</title>
      <link href="/ff2b/"/>
      <url>/ff2b/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>动态语言一时爽，维护重构火葬场</p><a id="more"></a><h2 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h2><p>国庆假期之后开始了偶滴搬砖生活，教研室有个师兄在拿Flask做微信公众号的文章推送后端。为了读祖传代码，准备折腾Flask。<br />据说Flask和Django差不了太多，之前Django用的很菜，也不打算拿Django或node之类的重构一边，索性就跳Flask的坑吧</p><h2 id="配置"><a class="markdownIt-Anchor" href="#配置"></a> 配置</h2><p>[1] 开启Debug模式。1.0之后直接在Pycharm的Configuration里勾选开启就好了。或者</p><pre><code>export Flask_Debug = 1 # win系统使用set命令</code></pre><p>[2] 使用装饰器，在指定url或修改请求方式时常用，如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.route('/hello')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello, World'</span></span><br></pre></td></tr></table></figure><p>指定请求方式</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.route('/login', methods=['GET', 'POST'])</span></span><br></pre></td></tr></table></figure><p>[3] 处理请求、文件传输和cookies等<br />都在flask的request库里</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request</span><br></pre></td></tr></table></figure><p>[4] 数据库用SQLAlchemy可以像Django一样用python操作数据库，建表查询调用。</p><h2 id="蓝图"><a class="markdownIt-Anchor" href="#蓝图"></a> 蓝图</h2><p>我们项目再大一些，就要拆分模块，Flask一般使用蓝图(Blueprint)<br />这样注册</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">from</span> yourapplication.simple_page <span class="keyword">import</span> simple_page</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.register_blueprint(simple_page, url_prefix=<span class="string">'/pages'</span>)</span><br></pre></td></tr></table></figure><p>这样引用</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line"><span class="keyword">from</span> yourapplication.simple_page <span class="keyword">import</span> simple_page</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.register_blueprint(simple_page)</span><br></pre></td></tr></table></figure><p>也可以作为资源放置静态文件，详见官方文档</p><h2 id="视图和模板"><a class="markdownIt-Anchor" href="#视图和模板"></a> 视图和模板</h2><p>Flask的模板(template)用的Jinja2，基本都是标签的形式，和Django的模板非常像，类似这种</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% block title %&#125;&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><p>(我刚刚又查了一下，Django的自带模板就是基于Jinja的魔改版，应该是Django模板像Jinja2，说反了)</p><p>视图函数一般用来处理入站请求，我们用装饰器把函数注册为事件处理程序，大概这个样子</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.route('/user/&lt;name&gt;')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">usr</span><span class="params">(name)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello World,&#123;&#125;!'</span>.format(name)</span><br></pre></td></tr></table></figure><h2 id="项目填坑"><a class="markdownIt-Anchor" href="#项目填坑"></a> 项目填坑</h2><p>要搞一个微信公众号推送内容，用Flask作为后端，微信接口的大坑等会再填<br />申请公众号，测试号之类的略过不表。（GRD腾讯真的烦啊，还要身份证号一堆乱七八糟的，开了个人号还一堆权限不给，文档也差，更新慢还经常404打不开，那个什么Telegram Channel，就是比微信高到不知哪里去了。算了，甲方有需求，那就忍了）<br /><s>先提前祝愿微信早日倒闭</s></p><h2 id="其他"><a class="markdownIt-Anchor" href="#其他"></a> 其他</h2><p>跨域请求：安装flask-cors, 设置一下就行了</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask_cors <span class="keyword">import</span> CORS</span><br><span class="line">···</span><br><span class="line">CORS(app, supports_credentials=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p>在chrome的新特性中，使用Same-Site Cookies来解决CSRF跨域攻击的问题，没设置会报这种警告, 在未来的版本中，没设置是不允许跨域的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A cookie associated with a cross-site resource at http:&#x2F;&#x2F;··· was set without the &#96;SameSite&#96; attribute. A future release of Chrome will only deliver cookies with cross-site requests if they are set with &#96;SameSite&#x3D;None&#96; and &#96;Secure&#96;.</span><br></pre></td></tr></table></figure><p>设置一下属性就好了</p><p>生成和导入requirements</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip freeze &gt; requirements.txt</span><br><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><p>使用哈希值存储用户密码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> werkzeug.security <span class="keyword">import</span> generate_password_hash, check_password_hash</span><br></pre></td></tr></table></figure><h2 id="flask部署"><a class="markdownIt-Anchor" href="#flask部署"></a> Flask部署</h2><p>这里我用的Docker。照着<span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC83ODQzMjcxOQ==" title="https://zhuanlan.zhihu.com/p/78432719">这里<i class="fa fa-external-link"></i></span>部署的<br />这里没有用Nginx，直接上的gunicorn，回头看一下Nginx怎么搞<br />这里有个<span class="exturl" data-url="aHR0cDovL2RvY3MuZ3VuaWNvcm4ub3JnL2VuL3N0YWJsZS9kZXBsb3kuaHRtbA==" title="http://docs.gunicorn.org/en/stable/deploy.html">官方文档<i class="fa fa-external-link"></i></span></p>]]></content>
      
      
      
        <tags>
            
            <tag> Flask </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux从入门到入土</title>
      <link href="/193/"/>
      <url>/193/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>等待填坑</p><a id="more"></a><h2 id="基本的shell命令"><a class="markdownIt-Anchor" href="#基本的shell命令"></a> 基本的Shell命令</h2><h3 id="系统状态"><a class="markdownIt-Anchor" href="#系统状态"></a> 系统状态</h3><table><thead><tr><th>Command</th><th>Function</th></tr></thead><tbody><tr><td>reboot</td><td>重启</td></tr><tr><td>poweroff</td><td>关机</td></tr><tr><td>weget</td><td>下载文件</td></tr><tr><td>ps</td><td>监视进程</td></tr><tr><td>top</td><td>动态监视进程</td></tr><tr><td>kill</td><td>终止进程</td></tr><tr><td>free</td><td>查看内存</td></tr><tr><td>history</td><td>查看历史命令</td></tr></tbody></table><p>这里推荐用glances代替top，<code>pip3 install glances</code></p><h3 id="文件操作"><a class="markdownIt-Anchor" href="#文件操作"></a> 文件操作</h3><p>cd, ls, mkdir, ls, mv， rm这些不说了</p><table><thead><tr><th>Command</th><th>Function</th></tr></thead><tbody><tr><td>pwd</td><td>查看当前目录</td></tr><tr><td>stat</td><td>查看文件信息</td></tr><tr><td>diff</td><td>比较差异</td></tr><tr><td>touch</td><td>创建空白文件</td></tr><tr><td>tar</td><td>打包文件</td></tr></tbody></table><p>tar -c 创建压缩， -x 解压缩(-xvzf)<br />如：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -czvf filemane.tar.gz</span><br></pre></td></tr></table></figure><p>查看目录下文件大小（包括文件夹）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du -sh *</span><br></pre></td></tr></table></figure><p>备份同步rsync, -a（archive）递归并同步时间戳和权限，-v显示详细信息，-z压缩</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -avz <span class="built_in">source</span> destination</span><br></pre></td></tr></table></figure><h3 id="查找"><a class="markdownIt-Anchor" href="#查找"></a> 查找</h3><p>grep查找文件内的内容，支持正则表达式（但是需要加<code>-P</code>参数支持perl正则，否则支持程度有限）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -n include test.c</span><br></pre></td></tr></table></figure><p>显示行号和查找结果1:#include&lt;stdio.h&gt;</p><p>find查找文件</p><p>（这里建议用fd和ripgrep代替find和grep）</p><h2 id="vim基础操作"><a class="markdownIt-Anchor" href="#vim基础操作"></a> Vim基础操作</h2><p><s>不得不用linux命令界面编辑文件又不喜欢vim直接nano就好了</s></p><p>Vim有Normal（普通模式），Insert（插入模式）和 Visual（可视模式）</p><p>打开是Normal模式，按i进入插入模式，按v进入Visual模式，按ESC返回Normal模式</p><p>输入vi test.c创建文件并进入vim，按i进入insert模式，写完保存退出按ESC，:wq保存退出，:q! 不保存退出</p><p>文件写入可能需要sudo，不然会E212错误，退出获取管理员权限再保存即可</p><h2 id="简单的脚本"><a class="markdownIt-Anchor" href="#简单的脚本"></a> 简单的脚本</h2><p>脚本文件通常是.sh后缀，在执行的时候<code>bash filename.sh</code> 。在第一行声明执行的shell解释器路径，如#!/bin/bash 。<br />接收参数用$, $1,$2,$3为第1、2、3个参数，$?为上一个参数的返回值。<br />使用逻辑判断&amp;&amp;和||, 输出用户是否管理员：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ ! $USER = root ] &amp;&amp; echo "user" || echo "root"</span><br></pre></td></tr></table></figure><p>if 语句, 判断是否存在文件路径，不存在就创建：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">DIR="/media/cdrom"</span><br><span class="line">if [ ! -e $DIR ]</span><br><span class="line">then</span><br><span class="line">mkdir -p $DIR</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p>while语句:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while</span><br><span class="line">do</span><br><span class="line">---</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>猜数字</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">PRICE=$(expr <span class="variable">$RANDOM</span> %1000)</span><br><span class="line">TIMES=0</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Guess a number between 0 and 999"</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">true</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">        <span class="built_in">read</span> -p <span class="string">"Input your number"</span> INT</span><br><span class="line">        <span class="built_in">let</span> TIMES++</span><br><span class="line">        <span class="keyword">if</span> [ <span class="variable">$INT</span> -eq <span class="variable">$PRICE</span> ] ; <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">"Congratulations, you are right, the number is <span class="variable">$PRICE</span>"</span></span><br><span class="line">                <span class="built_in">echo</span><span class="string">"You have guessed <span class="variable">$TIMES</span>"</span></span><br><span class="line">                <span class="built_in">exit</span> 0</span><br><span class="line">        <span class="keyword">elif</span> [ <span class="variable">$INT</span> -gt <span class="variable">$PRICE</span> ] ; <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">echo</span><span class="string">"Too High"</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">echo</span><span class="string">"Too low"</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><h2 id="不建议轻易尝试的作死行为"><a class="markdownIt-Anchor" href="#不建议轻易尝试的作死行为"></a> 不建议轻易尝试的作死行为</h2><p>下列行为如果你读到这里试了出了麻烦，<em>本人概不负责</em>, 在虚拟机和非生产环境里也可以试着玩<br />卸载自带python:<code>sudo apt uninstall python</code><br />在wsl中安装KDE桌面<br />卸载iptables使用<code>sudo apt remove iptables</code></p><h2 id="各版本体验"><a class="markdownIt-Anchor" href="#各版本体验"></a> 各版本体验</h2><h3 id="ubuntu"><a class="markdownIt-Anchor" href="#ubuntu"></a> Ubuntu</h3><p>中规中矩，听说19都出了，没试过，在用18，教研室服务器是16的</p><h3 id="wsl"><a class="markdownIt-Anchor" href="#wsl"></a> wsl</h3><p>暂时不支持GPU，指望跑个tensorflow暂时没希望<br />wsl2已经出了，但我还没升级，到时候再试试2吧</p><h3 id="manjaro"><a class="markdownIt-Anchor" href="#manjaro"></a> Manjaro</h3><p>听说不错，也没有Arch那么恐怖，感觉体验比Ubuntu还好啊</p><h3 id="debian"><a class="markdownIt-Anchor" href="#debian"></a> Debian</h3><p>VPS上跑的是这个，感觉也还好，用的也不多</p><h2 id="文件系统"><a class="markdownIt-Anchor" href="#文件系统"></a> 文件系统</h2><p>“一切皆文件”, 这是UNIX最初的构想，但是Linux里面并不是，比如socket，真正实现了一切皆文件是贝尔实验室的Plan9,然而已经凉了<sup id="fnref:2"><a href="#fn:2" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[Plan9效应](http://www.di.unipi.it/~nids/docs/the_plan-9_effect.html)">[2]</span></a></sup>, <strong>真·入土</strong><br />虽然入土了，那个Plan9的风格影响后来很多东西，了也影响了Go，你看LOGO，多像啊<br />（不得不说贝尔实验室那帮人当年搞出来那一堆东西真的有点意思，形式化验证和Lisp之类的也让人仰望，但是没能商用推广，曲高和寡，<s>其实也不是他们的问题，是大多是人都太菜了，比如我</s>现在一个个都入土了）</p><p>创建文件链接(硬链接和符号链接)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln &lt;source&gt; &lt;target&gt;</span><br><span class="line">ln -s &lt;source&gt; &lt;target&gt;</span><br></pre></td></tr></table></figure><p>加 -s 是符号链接，就像一个指针，源文件删除，符号链接会指向不存在的位置</p><p>装载文件（将一个设备添加到文件系统中）<br />一开始会将/root或者/boot自动装载，装载其他的设备一般用mount命令，比如<br /><code>mount /mnt/cdrom</code></p><h2 id="其他"><a class="markdownIt-Anchor" href="#其他"></a> 其他</h2><h3 id="支持中文和utf-8"><a class="markdownIt-Anchor" href="#支持中文和utf-8"></a> 支持中文和UTF-8</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install language-pack-zh-hans</span><br><span class="line">sudo vim /etc/environment</span><br></pre></td></tr></table></figure><p>写入</p><blockquote><p>LANG=“zh_CN.UTF-8”<br />LANGUAGE=“zh_CN:zh:en_US:en”</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /var/lib/locales/supported.d/local</span><br></pre></td></tr></table></figure><p>写入</p><blockquote><p>en_US.UTF-8 UTF-8<br />zh_CN.UTF-8 UTF-8<br />zh_CN.GBK GBK<br />zh_CN GB2312</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo locale-gen</span><br><span class="line">sudo apt-get install fonts-droid-fallback ttf-wqy-zenhei ttf-wqy-microhei fonts-arphic-ukai fonts-arphic-uming</span><br></pre></td></tr></table></figure><h3 id="保持ssh连接不自动退出"><a class="markdownIt-Anchor" href="#保持ssh连接不自动退出"></a> 保持SSH连接不自动退出</h3><p>用的Mobaxterm，直接在settings&gt;SSH&gt;SSH keepalive<br />当然通常的做法是每隔一定时间向服务器发送心跳<sup id="fnref:1"><a href="#fn:1" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="[Linux使用ssh超时断开连接的真正原因](http://bluebiu.com/blog/linux-ssh-session-alive.html)">[1]</span></a></sup>，应该是防止防火墙把SSH干掉，通常SSH不会自己断的<br />在<code>/etc/ssh/sshd_config</code>里面设置ClientAliveInterval和ClientAliveInterval<br />也可以修改<code>.ssh/config</code>文件，设置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host Server</span><br><span class="line">    ServerAliveInterval 20</span><br><span class="line">    ServerAliveCountMax 9</span><br></pre></td></tr></table></figure><h3 id="设置用户组和权限"><a class="markdownIt-Anchor" href="#设置用户组和权限"></a> 设置用户组和权限</h3><p>root用户UID为0，有生杀大权（我们教研室居然每人都有root用户密码，还日常root权限运行命令，可还行（虽然一共也没几个人用）），也有背锅重任，不想背黑锅是不能乱用的<br />添加用户（root添加其他用户）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd -u 1998 zjk</span><br></pre></td></tr></table></figure><p>这样就在/home/zjk创建了一个名为zjk的用户<br />切换用户的时候使用su命令就行了(Substitute User)<br />将用户加到root用户组(需要root权限)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod -G root zjk</span><br></pre></td></tr></table></figure><p>更新，改了之后发现并不好使，要这样</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">chmod u+w /etc/sudoers</span><br><span class="line">vi /etc/sudoers</span><br><span class="line"><span class="meta">#</span><span class="bash"> 加一行</span></span><br><span class="line">zjk ALL=(ALL) ALL</span><br></pre></td></tr></table></figure><h2 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h2><p><span class="exturl" data-url="aHR0cHM6Ly92aW0tY2hpbmEub3JnLw==" title="https://vim-china.org/">Vim中文社区<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly9saW51eHRvb2xzLXJzdC5yZWFkdGhlZG9jcy5pby96aF9DTi9sYXRlc3QvaW5kZXguaHRtbA==" title="https://linuxtools-rst.readthedocs.io/zh_CN/latest/index.html">Linux工具快速教程<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly9saW51eHRvb2xzLXJzdC5yZWFkdGhlZG9jcy5pby96aF9DTi8=" title="https://linuxtools-rst.readthedocs.io/zh_CN/">Linux工具快速教程<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly9leHBsYWluc2hlbGwuY29tLw==" title="https://explainshell.com/">explainshell<i class="fa fa-external-link"></i></span> 一个解释shell语句的网站</p><h2 id="注"><a class="markdownIt-Anchor" href="#注"></a> 注</h2><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cDovL2JsdWViaXUuY29tL2Jsb2cvbGludXgtc3NoLXNlc3Npb24tYWxpdmUuaHRtbA==" title="http://bluebiu.com/blog/linux-ssh-session-alive.html">Linux使用ssh超时断开连接的真正原因<i class="fa fa-external-link"></i></span><a href="#fnref:1" rev="footnote"> ↩</a></span></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">2.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;"><span class="exturl" data-url="aHR0cDovL3d3dy5kaS51bmlwaS5pdC9+bmlkcy9kb2NzL3RoZV9wbGFuLTlfZWZmZWN0Lmh0bWw=" title="http://www.di.unipi.it/~nids/docs/the_plan-9_effect.html">Plan9效应<i class="fa fa-external-link"></i></span><a href="#fnref:2" rev="footnote"> ↩</a></span></li></ol></div></div>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数学知识补习</title>
      <link href="/0/"/>
      <url>/0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>数理基础太差，被关了起来<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/found.png" alt="Picture" style="zoom:40%;" /></p><a id="more"></a><h2 id="矩阵"><a class="markdownIt-Anchor" href="#矩阵"></a> 矩阵</h2><h3 id="雅可比矩阵"><a class="markdownIt-Anchor" href="#雅可比矩阵"></a> 雅可比矩阵</h3><p>将梯度记为沿各坐标轴偏导的一组坐标,可以表示成向量形式</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>y</mi></mrow><mrow><mi mathvariant="normal">∂</mi><mi>x</mi></mrow></mfrac><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.15999999999999992em" columnalign="center center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mn>1</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><mi>x</mi></mrow></mfrac></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mn>2</mn></msub></mrow><mrow><mi mathvariant="normal">∂</mi><mi>x</mi></mrow></mfrac></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">∂</mi><msub><mi>y</mi><mi>n</mi></msub></mrow><mrow><mi mathvariant="normal">∂</mi><mi>x</mi></mrow></mfrac></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\frac{\partial y}{\partial x}=\left[\begin{array}{cccc}    \frac{\partial y_1}{\partial x} \\ \frac{\partial y_2}{\partial x} \\ ...  \\ \frac{\partial y_n}{\partial x}\end{array}\right]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathdefault">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:5.0766480000000005em;vertical-align:-2.2883240000000002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6520099999999998em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-2.80499em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎢</span></span></span><span style="top:-3.40599em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎢</span></span></span><span style="top:-4.65201em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.7883240000000002em;"><span style="top:-4.856108000000001em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322159999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathdefault mtight">x</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.5638919999999996em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322159999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathdefault mtight">x</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.3638919999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span><span style="top:-1.0716759999999999em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322159999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mathdefault mtight">x</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">∂</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.2883240000000002em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6520099999999998em;"><span style="top:-1.6499900000000003em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-2.80499em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎥</span></span></span><span style="top:-3.40599em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎥</span></span></span><span style="top:-4.65201em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.15003em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><h2 id="奇异值分解singular-value-decomposition"><a class="markdownIt-Anchor" href="#奇异值分解singular-value-decomposition"></a> 奇异值分解（singular value decomposition）</h2><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>×</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">n \times n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>方阵可以分解为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">A</mi><mo>=</mo><mi mathvariant="bold">X</mi><mi mathvariant="normal">Λ</mi><msup><mi mathvariant="bold">X</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\pmb{A}=\pmb{X}\Lambda\pmb{X}^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7055522222222222em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault">A</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7055522222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.7055522222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7055522222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault">A</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault">A</span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9095602222222222em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7055522222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.7055522222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7055522222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span><span class="mord">Λ</span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7055522222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.7055522222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7055522222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9095602222222222em;"><span style="top:-3.1584522222222224em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> ， 类似的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>∗</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">n*m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>矩阵也能分解<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="bold">A</mi><mo>=</mo><mi mathvariant="bold">U</mi><mi mathvariant="bold">D</mi><msup><mi mathvariant="bold">V</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">\pmb{A}=\pmb{U}\pmb{D}\pmb{V}^{-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7055522222222222em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault">A</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7055522222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.7055522222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7055522222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault">A</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault">A</span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9095602222222222em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">U</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7055522222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.7055522222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7055522222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault" style="margin-right:0.10903em;">U</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">U</span></span></span></span><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7055522222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.7055522222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7055522222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mord mathdefault" style="margin-right:0.22222em;">V</span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7055522222222222em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.7055522222222222em;vertical-align:0em;"></span><span class="inner"><span class="mord"><span class="mspace" style="margin-right:0.022222222222222223em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7055522222222222em;"><span style="top:-3.022222222222222em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord mathdefault" style="margin-right:0.22222em;">V</span></span></span></span></span></span></span></span><span class="fix"></span></span></span></span></span></span></span><span class="mord"><span class="mspace" style="margin-right:0.044444444444444446em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9095602222222222em;"><span style="top:-3.1584522222222224em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></p><p>D为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mo>∗</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">m*n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>对角矩阵，对角线元素为矩阵 A 的奇异值。U、V都是正交矩阵，因此可以用SVD可以用于求解矩阵的伪逆：</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>A</mi><mo>+</mo></msup><mo>=</mo><mi>V</mi><msup><mi>D</mi><mo>+</mo></msup><msup><mi>U</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">A^+=VD^+U^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.821331em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.821331em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8913309999999999em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">V</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.821331em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913309999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>A</mi><mo>+</mo></msup></mrow><annotation encoding="application/x-tex">A^+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.771331em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span></span></span></span></span></span></span></span>为伪逆，伪逆<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>D</mi><mo>+</mo></msup></mrow><annotation encoding="application/x-tex">D^+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.771331em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">+</span></span></span></span></span></span></span></span></span></span></span>通过对矩阵 D 的非零元素求倒数后求转<br />置生成</p><p>奇异值分解还能用来降维</p><h2 id="距离计算"><a class="markdownIt-Anchor" href="#距离计算"></a> 距离计算</h2><h3 id="欧式距离"><a class="markdownIt-Anchor" href="#欧式距离"></a> 欧式距离</h3><p>略</p><h3 id="余弦距离"><a class="markdownIt-Anchor" href="#余弦距离"></a> 余弦距离</h3><p>计算向量（矩阵）两两之间的相对距离，再除以绝对值</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mi>θ</mi><mo>=</mo><mfrac><mrow><mi mathvariant="normal">∣</mi><mover accent="true"><mi>a</mi><mo>⃗</mo></mover><mo>⋅</mo><mover accent="true"><mi>b</mi><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi></mrow><mrow><mi mathvariant="normal">∣</mi><mover accent="true"><mi>a</mi><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi><mo>∗</mo><mi mathvariant="normal">∣</mi><mover accent="true"><mi>b</mi><mo>⃗</mo></mover><mi mathvariant="normal">∣</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">cos\theta=\frac{|\vec{a}\cdot \vec{b}|}{|\vec{a}|*|\vec{b}|}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.7718799999999995em;vertical-align:-1.1174399999999998em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.65444em;"><span style="top:-2.1325600000000002em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">∣</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">b</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">a</span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9774399999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">b</span></span></span><span style="top:-3.26344em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 53.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 1110.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1174399999999998em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>余弦相似度：<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>−</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>θ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">sim(\theta)=1-cos(\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span><span class="mclose">)</span></span></span></span></p>]]></content>
      
      
      <categories>
          
          <category> 数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 矩阵 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>爬虫笔记</title>
      <link href="/fd19/"/>
      <url>/fd19/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>未完待续</p><a id="more"></a><h4 id="浏览器f12调试和抓包"><a class="markdownIt-Anchor" href="#浏览器f12调试和抓包"></a> 浏览器F12调试和抓包</h4><p>略</p><h4 id="urllib库"><a class="markdownIt-Anchor" href="#urllib库"></a> urllib库</h4><h5 id="打开并读取url"><a class="markdownIt-Anchor" href="#打开并读取url"></a> 打开并读取url</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">urllib.request.``urlopen`(*url*, *data=<span class="literal">None</span>*, [*timeout*,]***,*cafile=<span class="literal">None</span>*, *capath=<span class="literal">None</span>*, *cadefault=<span class="literal">False</span>*, *context=<span class="literal">None</span>*)</span><br></pre></td></tr></table></figure><p>常用的函数read()读取, info()返回头信息,getcode()返回状态码,geturl()返回url</p><p>一个简单的读写文件:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">response = urllib.request.urlopen(<span class="string">'https://zhangjk98.xyz'</span>, <span class="literal">None</span>, <span class="number">2</span>)</span><br><span class="line"><span class="comment"># 读取返回的内容</span></span><br><span class="line">html = response.read().decode(<span class="string">'utf8'</span>)</span><br><span class="line"><span class="comment"># 写入txt</span></span><br><span class="line">f = open(<span class="string">'code1.txt'</span>, <span class="string">'w'</span>, encoding=<span class="string">'utf8'</span>)</span><br><span class="line">f.write(html)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><h5 id="完整的url请求"><a class="markdownIt-Anchor" href="#完整的url请求"></a> 完整的url请求</h5><p>使用urllib.request.Request处理完整请求</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">urllib.request.Request(url, data=<span class="literal">None</span>, headers=&#123;&#125;, origin_req_host=<span class="literal">None</span>, unverifiable=<span class="literal">False</span>, method=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure><p>请求方式method有get和post两种, headers为请求头信息</p><h5 id="使用代理"><a class="markdownIt-Anchor" href="#使用代理"></a> 使用代理</h5><p>使用urllib.request.ProyxHandler()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置代理IP</span></span><br><span class="line">proxy_handler = urllib.request.ProxyHandler(&#123;</span><br><span class="line">    <span class="string">'http'</span>: <span class="string">'218.56.132.157:8080'</span>,</span><br><span class="line">    <span class="string">'https'</span>: <span class="string">'183.30.197.29:9797'</span>&#125;)</span><br><span class="line"><span class="comment"># 必须使用build_opener()函数来创建带有代理IP功能的opener对象</span></span><br><span class="line">opener = urllib.request.build_opener(proxy_handler)</span><br><span class="line">response = opener.open(url)</span><br></pre></td></tr></table></figure><h5 id="cookies"><a class="markdownIt-Anchor" href="#cookies"></a> cookies</h5><p>使用HTTPCookiePorcesser()模块处理,使用MozillaCookieJar读写</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> http <span class="keyword">import</span> cookiejar</span><br><span class="line">filename = <span class="string">'cookie.txt'</span></span><br><span class="line">cookie = cookiejar.MozillaCookieJar(filename)</span><br><span class="line">handler = urllib.request.HTTPCookieProcessor(cookie)</span><br><span class="line"><span class="comment"># 创建自定义opener</span></span><br><span class="line">opener = urllib.request.build_opener(handler)</span><br><span class="line"><span class="comment"># open方法打开网页</span></span><br><span class="line">response = opener.open(<span class="string">'https://movie.douban.com/'</span>)</span><br><span class="line"><span class="comment"># 保存cookie文件</span></span><br><span class="line">cookie.save()</span><br><span class="line"><span class="comment"># 读取cookie</span></span><br><span class="line">print(cookie)</span><br></pre></td></tr></table></figure><h4 id="requests库"><a class="markdownIt-Anchor" href="#requests库"></a> requests库</h4><p>主要参数url, 请求头信息headers, 是否开启证书验证verify,超时timeout, 代理proxies和cookies, 文件files(字典格式)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 格式</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">url = <span class="string">'https://google.com'</span></span><br><span class="line">r = requests.get(<span class="string">'url,headers=headers, proxies=proxies,verify=False, cookies=cookies)</span></span><br><span class="line"><span class="string">r = requests.post('</span>url, data= data, files=files, headers=headers, proxies=proxies,verify=<span class="literal">False</span>, cookies=cookies)</span><br></pre></td></tr></table></figure><h4 id="等待填坑"><a class="markdownIt-Anchor" href="#等待填坑"></a> 等待填坑</h4>]]></content>
      
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数字频率计</title>
      <link href="/9824/"/>
      <url>/9824/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>补档</p><a id="more"></a><p>泥电大三下的一门叫现代电子设计综合实验的实验课搞的数字频率计，拿VHDL和C51写的，工程文件扔在<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0FyY2hhZW9yYXB0b3IvbGF0Y2hfdGVzdA==" title="https://github.com/Archaeoraptor/latch_test">这里<i class="fa fa-external-link"></i></span>了。这门课可能是你电为数不多不太水的实验课了，反正比手抄上万字的大物实验好多了（不知道现在还抄不抄了）</p><p>先分频，再把门控、数显、锁存和计数都写出来就能用了<br />精度问题其实要求不高，本来FPGA的板子上那些器件精度就不错，想要提高精度可以折腾一下等精度之类的做法</p><div class="pdf" target="/uploads/频率计.pdf" height=""></div><p>顺便试试博客插入PDF的功能（在火狐上偶尔有问题，好像是CORS跨域的问题）</p>]]></content>
      
      
      
        <tags>
            
            <tag> VHDL </tag>
            
            <tag> 频率计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>网上冲浪指北</title>
      <link href="/87d6/"/>
      <url>/87d6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>欢 度 国 庆</p><a id="more"></a><h2 id="近况"><a class="markdownIt-Anchor" href="#近况"></a> 近况</h2><p>听说9月16号风雨交加,电闪雷鸣，好多梯子集体。AWS的ip据说都被封了一批。<br />使用v2ray的我依然苟活，我这一阵使用体验是，ws+tls+cdn是最稳的。嫌麻烦可以直接ws，反正不建议v2ray用http伪装了，容易被制裁。最近我的MTproto也挂了，貌似最近telegram的专用代理被针对得很厉害。<br />另外建议避开美日港等线路。<br />备用应急找几个还勉强能用的备着，比如setup v某n</p><p>更新,kcptun,mkcp,finalspeed . GIA线路最好不要用。<br />最近ss和ssr大面积爆破，v2ray还能苟，不行直接上trojan。<br />使用aes加密基本都被搞，好像是ssr有混淆，墙无法识别，直接封。<br />祝你ping安</p><p>还是要保持优良传统,努力学习<s>元件耦合</s>计算机网络:</p><blockquote><p>大一的电路分析老师曾说过：“在文化大革命的时候，国家曾封锁电台。我们的同学们啊用自己的器件组装了一个电台，他能覆盖整个四川地区甚至云南和贵州也能收到。于是四川人民天天就听着成电广播，后来这事闹大了，办电台的同学要被批斗，还是周总理亲自来把这事压下去了。能做出那么好的电台，是元件耦合做得好，同学们，可见元件耦合有多么重要啊！”</p></blockquote><p>另，移动网经常搞些dns劫持之类的动作，会造成一些干扰，我们参照这个配置https://github.com/v2ray/v2ray-core/issues/1808<br />改一下服务器dns配置：</p><pre><code>&quot;dns&quot;: {&quot;server&quot;: [&quot;8.8.8.8&quot;,&quot;1.1.1.1&quot;,&quot;localhost&quot;]},</code></pre><p>其实这个时候可以直接上dnscrypt解决问题</p><p>另外, v2ray的服务器和本地的时间一定要记得用ntp同步一下,不然两边时间不一样也会拒绝连接的</p><h2 id="更新"><a class="markdownIt-Anchor" href="#更新"></a> 更新</h2><p>最近<span class="exturl" data-url="aHR0cHM6Ly9maWxlcy5jYXRib3gubW9lL3ZtemowNC5wZGY=" title="https://files.catbox.moe/vmzj04.pdf">基于长短期记忆网络的V2ray流量识别方法<i class="fa fa-external-link"></i></span>好像在微博等地引起了小小的恐慌。这个大概就是解包后上神经网络之类的，和之前的一篇 <span class="exturl" data-url="aHR0cHM6Ly9pZWVleHBsb3JlLmllZWUub3JnL2RvY3VtZW50LzgwNDgxMTY=" title="https://ieeexplore.ieee.org/document/8048116">https://ieeexplore.ieee.org/document/8048116<i class="fa fa-external-link"></i></span> 步骤、程序都是一样的，就把随机森林换成了k近邻，高度怀疑是水论文。这个也就针对一下vmess、tcp，tls估计搞不定。</p><p>不过v2ray作者弃坑几个月了，不知道近况如何</p><h3 id="移动dns投毒解决方案2019"><a class="markdownIt-Anchor" href="#移动dns投毒解决方案2019"></a> 移动DNS投毒解决方案2019</h3><p>使用Pcap_DNSProxy, 先下载<span class="exturl" data-url="aHR0cHM6Ly9ubWFwLm9yZy9kb3dubG9hZC5odG1s" title="https://nmap.org/download.html">nmap<i class="fa fa-external-link"></i></span>再选winpcap兼容模式安装,再下载Pcap_DNSProxy安装时可能需要管理员权限。然后在网卡设定 DNS 解析为 127.0.0.1 (IPv4) 和 ::1 (IPv6) 。（适合电脑上折腾，有条件还是直接折腾路由器。）<br />详情参考<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NoZW5ncjI4L1BjYXBfRE5TUHJveHkvdHJlZS9tYXN0ZXIvRG9jdW1lbnRz" title="https://github.com/chengr28/Pcap_DNSProxy/tree/master/Documents">https://github.com/chengr28/Pcap_DNSProxy/tree/master/Documents<i class="fa fa-external-link"></i></span><br />以及&lt;<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmJnbWUubWUvcG9zdHMvc29tZS1pZGVhcy1hYm91dC1hbnRpLXBvbGx1dGlvbi1kbnMtc2VydmVy" title="https://blog.bgme.me/posts/some-ideas-about-anti-pollution-dns-server">https://blog.bgme.me/posts/some-ideas-about-anti-pollution-dns-server<i class="fa fa-external-link"></i></span></p><h3 id="更换vps厂商为hostwinds更换websocket协议为http2"><a class="markdownIt-Anchor" href="#更换vps厂商为hostwinds更换websocket协议为http2"></a> 更换VPS厂商为hostwinds,更换websocket协议为HTTP2</h3><p>决定把vultr换成速度更快的hostwinds，世界加钱可及（并没有钱搞Google Fi之类的物理穿越）<br />hostwinds选项有VPS和cloud，cloud是按小时收费的，这个价位当然也不是aws或google cloud那种真正的云主机，问了下客服，答复如下：</p><p>The Difference Between VPS &amp; cloud<br />There is no difference other than the name.<br />The VPSs come with more of a preconfigured set up, Linux/Windows, managed/unmanaged, etc, where the Cloud would start as an unmanaged Linux VPS that you can add additional set up to.</p><p>这里我不小心选错了，发工单申请退款速度很快，客服一直在线（但是据说支付鸨坑你会给你退到余额里，不会给你退钱）<br />不愿意买一个月冒险想先试试的可以直接上小时收费的cloud选项<br />这家服务商有给提供rDNS功能，网上冲浪时记得伪装。别的都还好，就是机房有点少，不过暂时还没被盯上。速度也还行吧。（这家不太推荐用来建站, 小站除外）</p><p>看起来并不限速，但是我装上之后速度只有几百k，不知道为什么，有空再看看</p><blockquote><p>Testing download speed…<br />Download: 248.93 Mbit/s<br />Testing upload speed…<br />Upload: 397.44 Mbit/s</p></blockquote><p>应该是被运营商Qos降了优先级，奠信就是这样，没办法，行吧，那就kcp</p><h2 id="配置推荐"><a class="markdownIt-Anchor" href="#配置推荐"></a> 配置推荐</h2><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2dpbnVlcnpoL2dvc3Q=" title="https://github.com/ginuerzh/gost">gost<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly9ndWlkZS52MmZseS5vcmcv" title="https://guide.v2fly.org/">新 V2Ray 白话文指南<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly93d3cuc29mdGV0aGVyLm9yZy8=" title="https://www.softether.org/">https://www.softether.org/<i class="fa fa-external-link"></i></span> 使用ssl型加密的vpn也有比较强的抗封锁能力，但是搭建配置非常麻烦，速度也比v2慢<br />另外Trojan等也不错<br />这里有个wulabing的<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3d1bGFiaW5nL1YyUmF5X3dzLXRsc19iYXNoX29uZWtleQ==" title="https://github.com/wulabing/V2Ray_ws-tls_bash_onekey">脚本<i class="fa fa-external-link"></i></span><br />卸载要这样</p><blockquote><p>如果不能重装系统，你可以通过删除以下文件夹，重新安装来完成更新<br />/etc/nginx<br />/etc/v2ray<br />/root/v2ray<br />~/.acme.sh</p></blockquote><p>最后，</p><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/www.png" alt="Picture" style="zoom:80%;" />]]></content>
      
      
      <categories>
          
          <category> 杂七杂八 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> v2ray </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>瞎折腾记录</title>
      <link href="/8814/"/>
      <url>/8814/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>不知道该分到哪一类</p><a id="more"></a><p><s>遇到问题主要靠IDE智能补全瞎猫碰死耗子撞大运改Bug</s></p><h2 id="在ubuntu或者win10双开telegram账号"><a class="markdownIt-Anchor" href="#在ubuntu或者win10双开telegram账号"></a> 在ubuntu或者win10双开telegram账号</h2><p>使用Docker（逃</p><h2 id="latex和katex"><a class="markdownIt-Anchor" href="#latex和katex"></a> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.89883em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-2.904999em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord text"><span class="mord textrm sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.46782999999999997em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span>和Katex</h2><p>打出矢量（加粗斜体）<code>\bmp</code><br />打出属于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∈</mo></mrow><annotation encoding="application/x-tex">\in</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">∈</span></span></span></span> : <code>\in</code><br />打出包含<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⊂</mo><mo>⊆</mo></mrow><annotation encoding="application/x-tex">\subset\subseteq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">⊂</span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">⊆</span></span></span></span> : <code>\subset\subseteq</code><br />集合的与和或<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∪</mo><mo>∩</mo></mrow><annotation encoding="application/x-tex">\cup\cap</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.55556em;vertical-align:0em;"></span><span class="mord">∪</span><span class="mord">∩</span></span></span></span> : <code>\cup\cap</code></p><h2 id="vscode"><a class="markdownIt-Anchor" href="#vscode"></a> VSCode</h2><p>ctrl+鼠标滚轮缩放字体大小<br />在setting.json里加入<code>&quot;editor.mouseWheelZoom&quot;: true</code></p><p>报错<code>Couldn't start client Clang Language Server</code>, 我远程连服务器并装了一个vscode-clangd插件<br />网上说可能是clang没装或者没有configure</p><p>但是我已经装了LLVM，之前版本切过了<code>sudo update-alternatives --config c++</code></p><p>看<span class="exturl" data-url="aHR0cHM6Ly9jbGFuZy5sbHZtLm9yZw==" title="https://clang.llvm.org">官网<i class="fa fa-external-link"></i></span>上的教程说是装一下clang-tools, 不行</p><p>发现apt装上去默认的clang版本只有3.8, 卸了重装</p><p>然后在官网上看到<code>Make sure the Microsoft C/C++ extension is not installed</code></p><p>禁用了之后还是不行</p><p>突然想起来服务器上没装nodejs，赶紧装上node10</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -sL https://deb.nodesource.com/setup_10.x | sudo bash</span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt -y install gcc g++ make</span><br><span class="line">sudo apt -y install nodejs</span><br></pre></td></tr></table></figure><p>好吧，找到问题了</p><h2 id="win10-jupyter-notebook-安装体验"><a class="markdownIt-Anchor" href="#win10-jupyter-notebook-安装体验"></a> win10 jupyter notebook 安装体验</h2><p>不说了，我不用pip了还不行吗。<br />安装ananconda，jupyter notebook直接启动<br />现在可以在VSCode和Pycharm里写原生的juypter notebook了，jupyter-lab并不好用</p><h2 id="让pandas像tf-keras那样显示进度条"><a class="markdownIt-Anchor" href="#让pandas像tf-keras那样显示进度条"></a> 让pandas像tf、keras那样显示进度条</h2><p>用tqdm这个库</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tqdm</span><br><span class="line">tqdm.pandas(desc=<span class="string">'pandas bar'</span>)</span><br></pre></td></tr></table></figure><h2 id="typora显示数学公式单个"><a class="markdownIt-Anchor" href="#typora显示数学公式单个"></a> typora显示数学公式（单个$）</h2><p>VSCode 的markdown生成pdf插件不好使，现在用Typora生成，但是发现Typora的数学公式只能显示出双$$的，单个$不显示<br />查了一下发现设置  文件——偏好设置——Markdown——Markdown扩展语法-——内联公式  就好了</p><h2 id="复制浏览器里图片中的文字"><a class="markdownIt-Anchor" href="#复制浏览器里图片中的文字"></a> 复制浏览器里图片中的文字</h2><p>装插件Project Napatha（可惜火狐并没有这个插件）</p><h2 id="微信中调试前端网页"><a class="markdownIt-Anchor" href="#微信中调试前端网页"></a> 微信中调试前端网页</h2><p>我宣布最烦人的浏览器不是ie8，而是微信内置浏览器和小程序。<br />有个TBS Studio，是QQ浏览器的内核，可以将就着用一下</p><h2 id="vscode里用jupyter-notebook"><a class="markdownIt-Anchor" href="#vscode里用jupyter-notebook"></a> VSCode里用jupyter-notebook</h2><p>为啥不用pycharm呢，可能是我电脑内存不够固态也不行吧，Pycharm打开太慢<br />VSCode （10.8日以后新版）装那个Python官方</p><h2 id="你电访问b站慢-steam下载只有几十k"><a class="markdownIt-Anchor" href="#你电访问b站慢-steam下载只有几十k"></a> 你电访问b站慢、steam下载只有几十k</h2><p>更换DNS，路由器的最好也换了，再不行就把ipv6关掉。你电的校园网v6经常抽风，默认的DNS会把b站解析到奠信的路线，然而b站在奠信的路很卡，换个能解析到联通或者移动出口的DNS就好了。（大概就这样，最近也不怎么用这些玩意，没试过近况）</p><h2 id="linux-qq-使用体验"><a class="markdownIt-Anchor" href="#linux-qq-使用体验"></a> Linux QQ 使用体验</h2><p>？？？扫码登录，再见</p><h2 id="vmware安装manjaro18kde"><a class="markdownIt-Anchor" href="#vmware安装manjaro18kde"></a> VMware安装Manjaro18（KDE）</h2><p>到中科大的源或者官网下载镜像，当然你还得把hyper-v关了。分配内存尽量大一点，4G以上<br />VM配置一下，新建虚拟机后图形化界面应该就出来了，选boot，等一会（没多久，比ubuntu快多了），出来的图形化界面分完区点安装<br />换成USTC的镜像源。<br />用pacman安装软件，octopi也很好用</p><h2 id="ubuntu安装软件报错has-install-snap-change-in-progress"><a class="markdownIt-Anchor" href="#ubuntu安装软件报错has-install-snap-change-in-progress"></a> ubuntu安装软件报错has “install-snap” change in progress</h2><p>先<code>snap changes</code>，再<code>sudo snap abort ···</code>，将之前占用的安装进程停掉<br />再安装就行了</p><h2 id="域名邮箱"><a class="markdownIt-Anchor" href="#域名邮箱"></a> 域名邮箱</h2><p>挂在netlify上了，不打算拿VPS自己搭一个邮件服务器了（VPS要用来做科学上网这种事，反向解析需要伪装rDNS），拿yandex将就一下</p><h2 id="更换vps服务商"><a class="markdownIt-Anchor" href="#更换vps服务商"></a> 更换VPS服务商</h2><p>最近又要开会, 是个测试有多稳的好时机</p><h2 id="git设置代理"><a class="markdownIt-Anchor" href="#git设置代理"></a> git设置代理</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy &#39;socks5:&#x2F;&#x2F;127.0.0.1:1080&#39;</span><br><span class="line">git config --global https.proxy &#39;socks5:&#x2F;&#x2F;127.0.0.1:1080&#39;</span><br></pre></td></tr></table></figure><p>取消代理</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global --unset http.proxy</span><br><span class="line"></span><br><span class="line">git config --global --unset https.proxy</span><br></pre></td></tr></table></figure><h2 id="twitter换回旧版"><a class="markdownIt-Anchor" href="#twitter换回旧版"></a> Twitter换回旧版</h2><p>太丑了，新版真的太丑了。<br />goodtwitter插件（现在对中文支持不是特别好，把系统调成英文将就用吧）</p><h2 id="在word中打latex"><a class="markdownIt-Anchor" href="#在word中打latex"></a> 在Word中打<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.89883em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-2.904999em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord text"><span class="mord textrm sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.46782999999999997em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span></h2><p>在新版的Office中可以直接按<code>Alt+=</code>，在转换选项里把公式设置为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.89883em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-2.904999em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord text"><span class="mord textrm sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.46782999999999997em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span>（默认的是UnicodeMath，word自带的，和LaTeX语法略有不同）<br />需要注意一个小问题，那个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.89883em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-2.904999em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord text"><span class="mord textrm sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.46782999999999997em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span>的字符不能像UnicodeMath一样打空格实时预览，需要按<code>Ctrl + =</code>预览（切换到专业模式），按<code>Ctrl + Shift + =</code>将公式重置为线性格式。（其实我感觉UnicodeMath的输入方式比LaTeX简单方便多了，建议不是非要用LaTeX的直接用word默认的那个就好了）</p><p>要在公式块之外打字符（比如输入\alpha显示α之类的，在选项里面打开“在公式区以外使用‘数学自动更正’规则”就行了）<br />参考：<span class="exturl" data-url="aHR0cHM6Ly9zdXBwb3J0Lm9mZmljZS5jb20vemgtY24vYXJ0aWNsZS93b3JkLSVFNCVCOCVBRCVFNCVCRCVCRiVFNyU5NCVBOC11bmljb2RlbWF0aC0lRTUlOTIlOEMtbGF0ZXgtJUU3JTlBJTg0JUU3JUJBJUJGJUU2JTgwJUE3JUU2JUEwJUJDJUU1JUJDJThGJUU1JTg1JUFDJUU1JUJDJThGLTJlMDA2MThkLWIxZmQtNDlkOC04Y2I0LThkMTdmMjU3NTRmOA==" title="https://support.office.com/zh-cn/article/word-%E4%B8%AD%E4%BD%BF%E7%94%A8-unicodemath-%E5%92%8C-latex-%E7%9A%84%E7%BA%BF%E6%80%A7%E6%A0%BC%E5%BC%8F%E5%85%AC%E5%BC%8F-2e00618d-b1fd-49d8-8cb4-8d17f25754f8">Word 中使用 UnicodeMath 和 LaTeX 的线性格式公式<i class="fa fa-external-link"></i></span></p><h2 id="markdown"><a class="markdownIt-Anchor" href="#markdown"></a> Markdown</h2><p>图片超链接:<br />把图片的markdown放到链接的<code>[]</code>里就行了</p><pre><code>[![]()]()</code></pre><p>主副标题</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">主标题</span><br><span class="line">&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">副标题</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="flask报错requestsexceptionssslerror"><a class="markdownIt-Anchor" href="#flask报错requestsexceptionssslerror"></a> Flask报错requests.exceptions.SSLError</h2><p>之前还是好的，今天就报这个错。但我也没用https或者配置SSL证书，临时将verify关了，好了。<br />但是应该verify也不会有问题，将代理关掉之后正常了，是代理冲突的问题</p><h2 id="flask注册登录有延迟"><a class="markdownIt-Anchor" href="#flask注册登录有延迟"></a> Flask注册登录有延迟</h2><p>之前师兄写的一个数据标注的Flask小网页，拿到之后注册后数据库里有用户名和密码，但是登录就显示未注册，之前注册的是可以的。等了很久之后，用户账号能用了，延迟了几分钟。有的时候等了几个小时也不行，重启也不行，很迷。</p><p>发现MySQL和Docker的时间不对，差了8个小时，怀疑是时区的问题<br />使用<code>date -R</code>发现Ubuntu服务器的时间对的，MySQL和Docker时间不对</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; set global time_zone &#x3D; &#39;+8:00&#39;;</span><br><span class="line">mysql&gt; select now();</span><br><span class="line">mysql&gt; SELECT @@global.time_zone, @@session.time_zone;</span><br></pre></td></tr></table></figure><p>结果还是MySQL时间不对，但是时区显示是+8:00<br />重启又试了一下<code>SET GLOBAL time_zone = 'Asia/Shanghai';</code></p><p>给Docker同步时间，先用<code>Docker exec -it &lt;container id&gt;</code>进入容器，再查看时间，发现Docker时间也差了8小时</p><p>修改时间：<code>docker cp /etc/localtime &lt;container id&gt;:/etc/localtime</code></p><p>把时区都调成一致之后还是有问题。</p><p>这个先等一下，有空再看看师兄的源码，好像还是前后端分离的，有点麻烦。师兄们也不知道是哪的问题，之前都是好的。而且放在教研室服务器一段时间之后也会登录不了，需要重启，不知道是哪的问题。这个坑等有空了再看看。</p><h2 id="linux查看本地ip"><a class="markdownIt-Anchor" href="#linux查看本地ip"></a> Linux查看本地IP</h2><p>ip addr show</p><h2 id="退出-git-log"><a class="markdownIt-Anchor" href="#退出-git-log"></a> 退出 git log</h2><p>按q就好了</p><h2 id="文献管理"><a class="markdownIt-Anchor" href="#文献管理"></a> 文献管理</h2><p>学校不给买Endnote，只好zotero了。（据说本来是要采购，钱都打过去了那边说你电涉军禁运不给卖又给退了）<br />（你别说，开源的zotero用了几天还挺香）</p><h2 id="用css给markdown标题自动编号"><a class="markdownIt-Anchor" href="#用css给markdown标题自动编号"></a> 用CSS给Markdown标题自动编号</h2><p>今天看师兄们写的Markdown文档，发现他们居然在手动打编号<br />搜了一下，可以拿CSS搞定自动编号，<span class="exturl" data-url="aHR0cHM6Ly9zdXBwb3J0LnR5cG9yYS5pby9BdXRvLU51bWJlcmluZy8=" title="https://support.typora.io/Auto-Numbering/">https://support.typora.io/Auto-Numbering/<i class="fa fa-external-link"></i></span><br />找到一个更好的<span class="exturl" data-url="aHR0cHM6Ly95YW53ZWkuZ2l0aHViLmlvL21pc2MvbWFya2Rvd24tYXV0by1udW1iZXItdGl0bGUuaHRtbA==" title="https://yanwei.github.io/misc/markdown-auto-number-title.html">https://yanwei.github.io/misc/markdown-auto-number-title.html<i class="fa fa-external-link"></i></span><br />加这段代码</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;style type="text/css"&gt;</span><br><span class="line">    <span class="selector-tag">h1</span> &#123; <span class="attribute">counter-reset</span>: h2counter; &#125;</span><br><span class="line">    <span class="selector-tag">h2</span> &#123; <span class="attribute">counter-reset</span>: h3counter; &#125;</span><br><span class="line">    <span class="selector-tag">h3</span> &#123; <span class="attribute">counter-reset</span>: h4counter; &#125;</span><br><span class="line">    <span class="selector-tag">h4</span> &#123; <span class="attribute">counter-reset</span>: h5counter; &#125;</span><br><span class="line">    <span class="selector-tag">h5</span> &#123; <span class="attribute">counter-reset</span>: h6counter; &#125;</span><br><span class="line">    <span class="selector-tag">h6</span> &#123; &#125;</span><br><span class="line">    <span class="selector-tag">h2</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">      <span class="attribute">counter-increment</span>: h2counter;</span><br><span class="line">      <span class="attribute">content</span>: <span class="built_in">counter</span>(h2counter) <span class="string">".\0000a0\0000a0"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">h3</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">      <span class="attribute">counter-increment</span>: h3counter;</span><br><span class="line">      <span class="attribute">content</span>: <span class="built_in">counter</span>(h2counter) <span class="string">"."</span></span><br><span class="line">                <span class="built_in">counter</span>(h3counter) <span class="string">".\0000a0\0000a0"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">h4</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">      <span class="attribute">counter-increment</span>: h4counter;</span><br><span class="line">      <span class="attribute">content</span>: <span class="built_in">counter</span>(h2counter) <span class="string">"."</span></span><br><span class="line">                <span class="built_in">counter</span>(h3counter) <span class="string">"."</span></span><br><span class="line">                <span class="built_in">counter</span>(h4counter) <span class="string">".\0000a0\0000a0"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">h5</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">      <span class="attribute">counter-increment</span>: h5counter;</span><br><span class="line">      <span class="attribute">content</span>: <span class="built_in">counter</span>(h2counter) <span class="string">"."</span></span><br><span class="line">                <span class="built_in">counter</span>(h3counter) <span class="string">"."</span></span><br><span class="line">                <span class="built_in">counter</span>(h4counter) <span class="string">"."</span></span><br><span class="line">                <span class="built_in">counter</span>(h5counter) <span class="string">".\0000a0\0000a0"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">h6</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">      <span class="attribute">counter-increment</span>: h6counter;</span><br><span class="line">      <span class="attribute">content</span>: <span class="built_in">counter</span>(h2counter) <span class="string">"."</span></span><br><span class="line">                <span class="built_in">counter</span>(h3counter) <span class="string">"."</span></span><br><span class="line">                <span class="built_in">counter</span>(h4counter) <span class="string">"."</span></span><br><span class="line">                <span class="built_in">counter</span>(h5counter) <span class="string">"."</span></span><br><span class="line">                <span class="built_in">counter</span>(h6counter) <span class="string">".\0000a0\0000a0"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>或者用CSS文件外部引用</p><h2 id="linux终端用户名和主机高亮"><a class="markdownIt-Anchor" href="#linux终端用户名和主机高亮"></a> Linux终端用户名和主机高亮</h2><p>MobaXterm里面的终端经常找丢位置，决定搞点高亮<br />设置参考这里<span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC81MTAwODA4Nw==" title="https://zhuanlan.zhihu.com/p/51008087">https://zhuanlan.zhihu.com/p/51008087<i class="fa fa-external-link"></i></span>，如果只是用户名高亮的话改改.bashrc就行了</p><h2 id="ubuntu1604lts-强行升级"><a class="markdownIt-Anchor" href="#ubuntu1604lts-强行升级"></a> Ubuntu16.04LTS 强行升级</h2><p>准备作大死来个滚动升级, 对，就是教研室那个服务器。滚过manjaro的我遇到什么背锅也不会怕，奥利给</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update &amp;&amp; sudo apt upgrade &amp;&amp; sudo apt autoremove</span><br></pre></td></tr></table></figure><p>然后换源，把apt的镜像源从16.04LTS换到18.04LTS<br />直接<code>sudo do-release-upgrade -d</code>报错</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Upgrades to the development release are only available from the latest supported release</span><br></pre></td></tr></table></figure><p>看到说要改一下，把那个<code>/etc/update-manager/release-upgrades</code>下的<code>Prompt=never</code>换成LTS或者normal（升完再换LTS）</p><p>然后<code>sudo apt upgrade</code>报这种错</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">The following packages have unmet dependencies:</span><br><span class="line"> perl-modules-5.22 : Conflicts: perl-modules</span><br><span class="line">                     Conflicts: perl-modules:i386</span><br><span class="line">E: Broken packages</span><br></pre></td></tr></table></figure><p>也不知道谁装的perl，package 还坏了<br />卸掉，再次试图upgrade，漫长的等待…妈耶，停在99%了<br />行了，吓死我了<br />成功滚成18.4，能apt装neofetch了<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/ununtu-server-update.png" alt="Picture" style="zoom:80%;" /></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">root@labserver:~# neofetch</span><br><span class="line">            .-&#x2F;+oossssoo+&#x2F;-.               root@labserver</span><br><span class="line">        &#96;:+ssssssssssssssssss+:&#96;           --------------</span><br><span class="line">      -+ssssssssssssssssssyyssss+-         OS: Ubuntu 18.04.3 LTS x86_64</span><br><span class="line">    .ossssssssssssssssssdMMMNysssso.       Host: PowerEdge R730xd</span><br><span class="line">   &#x2F;ssssssssssshdmmNNmmyNMMMMhssssss&#x2F;      Kernel: 4.12.14-041214-generic</span><br><span class="line">  +ssssssssshmydMMMMMMMNddddyssssssss+     Uptime: 3 days, 14 hours, 3 mins</span><br><span class="line"> &#x2F;sssssssshNMMMyhhyyyyhmNMMMNhssssssss&#x2F;    Packages: 897</span><br><span class="line">.ssssssssdMMMNhsssssssssshNMMMdssssssss.   Shell: bash 4.4.20</span><br><span class="line">+sssshhhyNMMNyssssssssssssyNMMMysssssss+   Theme: Ambiance [GTK3]</span><br><span class="line">ossyNMMMNyMMhsssssssssssssshmmmhssssssso   Icons: Ubuntu-mono-dark [GTK3]</span><br><span class="line">ossyNMMMNyMMhsssssssssssssshmmmhssssssso   Terminal: &#x2F;dev&#x2F;pts&#x2F;0</span><br><span class="line">+sssshhhyNMMNyssssssssssssyNMMMysssssss+   CPU: Intel Xeon E5-2630 v4 (20) @ 3.100GHz</span><br><span class="line">.ssssssssdMMMNhsssssssssshNMMMdssssssss.   GPU: Matrox Electronics Systems Ltd. G200eR2</span><br><span class="line"> &#x2F;sssssssshNMMMyhhyyyyhdNMMMNhssssssss&#x2F;    Memory: 529MiB &#x2F; 32074MiB</span><br><span class="line">  +sssssssssdmydMMMMMMMMddddyssssssss+</span><br><span class="line">   &#x2F;ssssssssssshdmNNNNmyNMMMMhssssss&#x2F;</span><br><span class="line">    .ossssssssssssssssssdMMMNysssso.</span><br><span class="line">      -+sssssssssssssssssyyyssss+-</span><br><span class="line">        &#96;:+ssssssssssssssssss+:&#96;</span><br><span class="line">            .-&#x2F;+oossssoo+&#x2F;-.</span><br></pre></td></tr></table></figure><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/ubuntu-server.png" alt="Picture" style="zoom:80%;" /><p>然后是清理遗留包, 用<code>sudo apt autoremove</code>把下面几个没用的包全清了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">The following packages were automatically installed and are no longer required:</span><br><span class="line">  g++-5 libbind9-140 libblas-common libboost-filesystem1.58.0 libboost-filesystem1.65.1 libboost-system1.58.0 libboost-system1.65.1 libcapnp-0.5.3 libcapnp-0.6.1 libdbus-glib-1-2 libdns162 libefivar0</span><br><span class="line">  libegl-mesa0 libegl1 libegl1-mesa libgbm1 libgdbm3 libgl1-mesa-glx libicu55 libisc160 libisccc140 libisccfg140 libllvm6.0 liblwres141 libmirclient9 libmircommon7 libmircore1 libmirprotobuf3</span><br><span class="line">  libprotobuf-lite10 libprotobuf-lite9v5 libpython3.5-dev librpm3 librpmbuild3 librpmio3 librpmsign3 libstdc++-5-dev libtxc-dxtn-s2tc0 libunistring0 libvpx3 libwayland-egl1-mesa libwayland-server0</span><br><span class="line">  libxcb-xfixes0 libxfont1 lua-lpeg python3.5-dev</span><br></pre></td></tr></table></figure><p>然后是略有风险的</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt dist-upgrade</span><br></pre></td></tr></table></figure><p>暂时还没有报错</p><h2 id="powershell查看监听端口"><a class="markdownIt-Anchor" href="#powershell查看监听端口"></a> Powershell查看监听端口</h2><p>之前在网上查的查看监听端口命令是</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -an | find <span class="string">"LISTEN"</span></span><br></pre></td></tr></table></figure><p>发现只能在cmd下用，powershell 提示<code>FIND: 参数格式不正确</code>, 查了一下是find会转义&quot;&quot;的问题, 改成</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -an | find --% <span class="string">"LISTENING"</span></span><br></pre></td></tr></table></figure><h2 id="安装onefetch"><a class="markdownIt-Anchor" href="#安装onefetch"></a> 安装onefetch</h2><p>这是一个查看git仓库信息的命令行工具，跟neofetch差不多，snap就可以装</p><p>这个使用rust写的，编译安装需要rustc，可以直接安装一下rustc</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl --proto <span class="string">'=https'</span> --tlsv1.2 -sSf https://sh.rustup.rs | sh</span><br></pre></td></tr></table></figure><p>或者apt安装，只要<code>rustc --version</code>显示不小于1.3.6就行了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/o2sh/onefetch.git</span><br><span class="line"><span class="built_in">cd</span> onefetch</span><br><span class="line">make install</span><br><span class="line">sudo cp target/release/onefetch /usr/<span class="built_in">local</span>/bin</span><br></pre></td></tr></table></figure><p>然后切进仓库输入<code>onefetch</code>就行了<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/onefetch.png" alt="Picture" style="zoom:80%;" /></p><h2 id="git仓库更改权限不用每次sudo"><a class="markdownIt-Anchor" href="#git仓库更改权限不用每次sudo"></a> Git仓库更改权限不用每次sudo</h2><p>发现.git的默认权限是root用户的</p><p>只要切进仓库里面把文件夹的权限改了就行了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chown -R username:username .git</span><br></pre></td></tr></table></figure><h2 id="安全与环保知识网络教育及考试"><a class="markdownIt-Anchor" href="#安全与环保知识网络教育及考试"></a> 安全与环保知识网络教育及考试</h2><p>行吧,你电啥有用的也不教,就整这些破玩意, 里面还有什么中医治烫伤。。。还都是13年的, 还要刷够120小时学习时间。这破网站还没有域名没HTTPs，右上角一个大大的不安全，滑稽。<br /><img width=600 data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/jb.png" alt="Picture" /><br />并没有任何反爬措施，试了一下，是5分钟断线自动下线，整个自动刷新就好了</p><p>我做题的时候搜答案又看了一下，很多个学校都有这个，而且界面和内容完全一致，应该都能通用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">timeout = <span class="number">200</span></span><br><span class="line">count=<span class="number">0</span></span><br><span class="line">current=location.href;</span><br><span class="line"><span class="keyword">if</span>(timeout&gt;<span class="number">0</span>)</span><br><span class="line">setTimeout(<span class="string">'reload()'</span>,<span class="number">1000</span>*timeout);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">location.replace(current);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reload</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">setTimeout(<span class="string">'reload()'</span>,<span class="number">1000</span>*timeout);</span><br><span class="line">count++;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'每（'</span>+timeout+<span class="string">'）秒自动新,刷新次数：'</span>+count);</span><br><span class="line">fr4me=<span class="string">'&lt;frameset cols=\'*\'&gt;\n&lt;framesrc=\''</span>+current+<span class="string">'\'/&gt;'</span>;</span><br><span class="line">fr4me+=<span class="string">'&lt;/frameset&gt;'</span>;</span><br><span class="line"><span class="keyword">with</span>(<span class="built_in">document</span>)&#123;write(fr4me);voi(close())&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="win10"><a class="markdownIt-Anchor" href="#win10"></a> Win10</h2><p>禁用快速启动（感觉禁了这玩意能少一般的咖喱味）</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">powercfg /h off</span><br></pre></td></tr></table></figure><p>禁用小娜进程，禁了能少三分之一的CPU跑满100%糟心事</p><p>另外不要乱试瘟10全新咖喱味BUG体验计划，加入之后一不小心就退不回去了，只有重装大法了。</p><p>我为了尝试20H1的wsl2，冒死试了一下，结果绿屏了，重启N次之后终于好了，结果发现显示有问题，屏幕经常一堆蓝线蓝点，然后UWP版QQ打不开了。CPU 100% 风扇狂转（这貌似是1909就有的问题）</p><p>瘟10更新可比Arch滚动难受多了…</p><p>突然发现你电给的正版激活工具还能激活企业版（之前一直以为只能激活学校官网给的那个咖喱味的专业版,唉，之前看到河畔上还有老哥卸了学校的专业版整个盗版LTSB），那就没那么多事了，直接搞个win10 LTSB.</p><h2 id="gitlab占用过高"><a class="markdownIt-Anchor" href="#gitlab占用过高"></a> Gitlab占用过高</h2><p>看了一下发现Gitlab的默认配置，开了很多进程，默认基本跑满了一半内存。<br />修改配置文件<code>/etc/gitlab/gitlab.rb</code>如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">unicorn[&#39;worker_processes&#39;] &#x3D; 2 # 改进程数为最小的2</span><br><span class="line">unicorn[&#39;worker_timeout&#39;] &#x3D; 60  # 无响应断开</span><br><span class="line">postgresql[&#39;shared_buffers&#39;] &#x3D; &quot;64MB&quot;  # 数据库缓存，默认是1&#x2F;4RAM,用不着，改小</span><br><span class="line">postgresql[&#39;max_worker_processes&#39;] &#x3D; 2 # 数据库并发数，也改成2</span><br><span class="line">prometheus_monitoring[&#39;enable&#39;] &#x3D; false # 关闭prometheus(一个报警监控，用不着)，这个吃内存也很厉害</span><br><span class="line">sidekiq[&#39;concurrency&#39;] &#x3D; 2  # 好像是一个异步的钩子，把并发改成2</span><br><span class="line">unicorn[&#39;worker_memory_limit_min&#39;] &#x3D; &quot;100 * 1 &lt;&lt; 20&quot; # 好像是监测内存泄露的配置，见unicorn-worker-killer</span><br><span class="line">unicorn[&#39;worker_memory_limit_max&#39;] &#x3D; &quot;250 * 1 &lt;&lt; 20&quot;</span><br></pre></td></tr></table></figure><p>这里面最高的是哪个prometheus监控程序,CPU占用565.1%多（20核，1核算100%）</p><blockquote><p>veth6901d37                0b     0b   569.4  0.3   1.44G 98.7M  85885 gitlab-pr      0:53 29    0 S    0 0    /opt/gitlab/embedded/bin/prometheus --web.listen-address=localhost:9090 --storage.tsdb.path=/var/opt/gitl</p></blockquote><p>然后让配置生效，等一分钟</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitlab-ctl reconfigure</span><br></pre></td></tr></table></figure><p>这样CPU占用就不到10%了</p><p>顺便把gitlab-ce的源换了</p><blockquote><p>/etc/apt/sources.list.d/gitlab_gitlab-ce.list # 按照清华镜像源的说明是gitlab-ce.list</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 杂七杂八 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
            <tag> LaTeX </tag>
            
            <tag> 折腾 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>正则表达式笔记</title>
      <link href="/96cd/"/>
      <url>/96cd/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>可能用得到</p><a id="more"></a><h4 id="用法"><a class="markdownIt-Anchor" href="#用法"></a> 用法</h4><h5 id="防止过度匹配"><a class="markdownIt-Anchor" href="#防止过度匹配"></a> 防止过度匹配</h5><p>使用? 比如</p><pre><code>* 改为 *?匹配\&lt;b\&gt;标签:&lt;[Bb]&gt;.*?&lt;/[Bb]&gt;</code></pre><h5 id="单词边界"><a class="markdownIt-Anchor" href="#单词边界"></a> 单词边界</h5><p>使用\b,不匹配边界使用\B,比如 \bcat\b 匹配单词cat<br />匹配字符串使用^元字符</p><h5 id="子表达式"><a class="markdownIt-Anchor" href="#子表达式"></a> 子表达式</h5><p>使用(),例如</p><pre><code>(&amp;nbsp;){2,}</code></pre><p>匹配两个非换行空格</p><h5 id="回溯引用"><a class="markdownIt-Anchor" href="#回溯引用"></a> 回溯引用</h5><p>使用\1, 匹配一对html标签:</p><pre><code>\&lt;H1&gt;\&lt;/H1&gt;使用&lt;Hh([1-6])&gt;.*?&lt;/[Hh]\1&gt; 匹配</code></pre><p>替换中也会用到\1<br />使用python的re库可以完成一些替换</p><pre><code>re.sub(pattern, repl, string, count=0, flags=0)</code></pre><p>这里重新排版电话号码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">phone = <span class="string">"123-456-7890"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将电话号重新排版为(123) 456-7890</span></span><br><span class="line">num = re.sub(<span class="string">r"(\d&#123;3&#125;)(-)(\d&#123;3&#125;)(-)(\d&#123;4&#125;)"</span>, <span class="string">r"(\1) \3-\5"</span>, phone)</span><br><span class="line">print(<span class="string">"phone-number: "</span>, num)</span><br></pre></td></tr></table></figure><p>结果</p><pre><code>phone-number:  (123) 456-7891</code></pre><h5 id="前向查找"><a class="markdownIt-Anchor" href="#前向查找"></a> 前向查找</h5><p>使用?=进行前向查找,?&lt;=向后查找</p><p>比如,从https://zhangjk98.xyz/中找出协议https:</p><pre><code>.+(?=:)</code></pre><h4 id="一些坑"><a class="markdownIt-Anchor" href="#一些坑"></a> 一些坑</h4><p>1.很多支持正则表达式的地方差异很大，有的甚至不支持完整的正则表达式，比如linux命令中grep，只支持Basic RegEx，像<code>? + () |</code>这种元字符全都不支持，需要用<code>-e</code>或<code>-P</code>参数使用扩展的正则或直接用Perl正则</p><ol><li>win下面的空格和换行和linux下面不一样</li></ol><h4 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h4><ol><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3ppaXNoYW5lZC9sZWFybi1yZWdleC9ibG9iL21hc3Rlci90cmFuc2xhdGlvbnMvUkVBRE1FLWNuLm1k" title="https://github.com/ziishaned/learn-regex/blob/master/translations/README-cn.md">https://github.com/ziishaned/learn-regex/blob/master/translations/README-cn.md<i class="fa fa-external-link"></i></span> 一个简短教程</li><li><span class="exturl" data-url="aHR0cHM6Ly9yZWdleDEwMS5jb20v" title="https://regex101.com/">https://regex101.com/<i class="fa fa-external-link"></i></span> 在线练习网站</li></ol><h4 id="附录"><a class="markdownIt-Anchor" href="#附录"></a> 附录</h4><p>速查表</p>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 正则表达式 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>郑文锋老师的四大发明事件始末</title>
      <link href="/16e8/"/>
      <url>/16e8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>今天在<span class="exturl" data-url="aHR0cHM6Ly91ZXN0Yy5pY3U=" title="https://uestc.icu">uestc.icu<i class="fa fa-external-link"></i></span>和微博上看见好几次，貌似出了个红头文件处理结果，无法确定真假。当时最早那个知乎问题上了知乎热搜第一的时候我也目睹了。在这里随便扯一下吧，夹杂大量个人主观判断。</p><a id="more"></a><img width=200 data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/xzx.jpg" alt="镇楼"/><p>起因是一名研究生<span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzMyOTQ5NTM2NC9sb2c=" title="https://www.zhihu.com/question/329495364/log">在知乎发帖<i class="fa fa-external-link"></i></span>，想搞个大新闻，此前貌似就在河畔发帖试图搞个大新闻未遂，被獾狸猿删除后转战知乎。然而事与愿违，确实火了，但是是被喷上热搜的，而且登顶热搜第一。这里不得不再一次说你电公关确实了得，大半夜的热搜瞬间被撤，掉下来后又上了热搜，又瞬间从第二名掉到十几名;而且问题下面的回答还在以肉眼可见的速度不断减少，从接近两千变成一千五百多，又变成一千三百多，即便算上被折叠的评论，也是有问题的。而且该问题还被隐藏了，直接知乎站内搜索你是搜不到的（现在直接搜依然搜不到）<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/pic1.PNG" alt="最初的问题" /></p><h3 id="想搞个大新闻的学生"><a class="markdownIt-Anchor" href="#想搞个大新闻的学生"></a> 想搞个大新闻的学生</h3><p>对于该研究生，我个人是鄙夷的。当时几乎目睹了全过程。将老师挂起来公然批斗。然而匿名提问，还把自己在QQ截图中的头像名称全都打码，知乎提问却直接指名道姓，上来就“公然侮辱”，滑天下之大稽。<br />此外还有该生之前完全旷课理亏在先等，此处不表。</p><p>电卫兵，电卫兵.jpg<br /><img width=300 data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/student1.jpg" alt="电卫兵言论大赏"/><br />擦屁股言论可真是太搞笑了<br /><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzI5OTM4OTQ4MC9hbnN3ZXIvNTE2NDQyMzg3" title="https://www.zhihu.com/question/299389480/answer/516442387">https://www.zhihu.com/question/299389480/answer/516442387<i class="fa fa-external-link"></i></span><br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/beifeng.PNG" alt="北风三号机" /></p><p>而一些难以证实的传言和截图表明此事行为更加恶劣<br /><img width=300 data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/%E5%8A%88%E6%88%90.jpg" alt="小道消息"/></p><h3 id="郑文锋老师"><a class="markdownIt-Anchor" href="#郑文锋老师"></a> 郑文锋老师</h3><p>我也不认识郑老师，也没上过他的课，跟他不熟<br />（或许我读研时有机会去看看他的课，如果他不是真被处分停课的话）</p><p>之前核心通识课程上过自动化学院谢永乐老师的课，闭着眼谢永乐老师，当时那个课只有一个学分，但是谢老师很“事多”。每节课必点名，而且几乎每个人都要认一遍（其实每个人都要认一遍，谢老师基本每个人都很关心，这个课是小班，不到二十个人，想逃课或者水过去是不可能的），还要经常把每个请上台讲一下自己的观点。而且中途还要交作业，几千字（具体多少字忘了，反正不少于五千）的小论文，期中期末各一次，必须手写。谢老师讲课时非常有热情，批改也及其认真。这就造成了这门课强度几乎高于很多两三个学分的必修课。<br />这似乎也导致了这门课的评价两极分化，一些人唯恐避之不及，一些人觉得这是个很好的老师。<br />谢老师是很欢迎我们讨论的，自己说“不搞一言堂，我们也不是文革，只有一个声音”，把我们拉上去讨论也很希望出现新的见解。谢老师上课很认真，备课也很负责，看得出来谢老师是真的喜欢传统文化，真的很喜欢古诗词。（不过虽然他确实读了不少古文古诗，但是章口就莱时还是念错不少字，被刚高考完半年的我敏锐地挑了出来）<br />说来惭愧，谢老师表扬过我，本人至今还和谢老师是微信好友。现在我基本修完大学所有的学分了，谢老师文学水平且不提，感觉这么较真的课程已经超过绝大部分必修了。</p><p>再次表示本人与郑老师没有交集，但是看这几个月知乎微博河畔上我电学生的评价，绝大部分说好，一些人说不好。我觉得这个郑老师应该属于这种很“事多”的老师，不然这种课水水就过去了，大家都轻松愉快，何必呢。（不认识郑老师，随便猜测）。当然还有种可能就是老师拿着鸡毛当令箭，私货很多，类似侯伦广，像这个回答说的那样：<br /><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzM0MjA0OTI5OC9hbnN3ZXIvNzk5NTc3NTAx" title="https://www.zhihu.com/question/342049298/answer/799577501">如何看待称「四大发明在世界上都不领先」高校老师因“师德失范”遭停课两年？ - 挤按睛明穴的回答 - 知乎<i class="fa fa-external-link"></i></span><br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20190827101306.png" alt="知乎回答" /><br /><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzM0MjA0OTI5OC9hbnN3ZXIvNzk4NDU2MDYw" title="https://www.zhihu.com/question/342049298/answer/798456060">如何看待称「四大发明在世界上都不领先」高校老师因「师德失范」遭停课两年？ - 朝经暮史的回答 - 知乎<i class="fa fa-external-link"></i></span>里面一些早期负面评价截图<br />一个河畔回答，我看到好多人都说这门课全程录像，那不妨请学校把录像放出来我们看看<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20190827100038.png" alt="一个河畔回答" /></p><p><span class="exturl" data-url="aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FyY2hhZW9yYXB0b3IvaW1hZ2VfcmVzb3VyY2VzL0ltYWdlb2ZCbG9nLyVFNSU4QSU4OCVFNiU5RiVCNC5qcGc=" title="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/%E5%8A%88%E6%9F%B4.jpg">河畔小道消息<i class="fa fa-external-link"></i></span></p><h3 id="该课程问题驱动的创新创业"><a class="markdownIt-Anchor" href="#该课程问题驱动的创新创业"></a> 该课程（问题驱动的创新创业）</h3><p>俺们本科生也有这个课，算在核心通识的<br />研究生的不太了解，道听途说的情况：<br />0.5学分，开在研一下学期，选修，很多人公认的水课，据说很多人期末交个1000字的小论文就水过去了</p><p>但是郑老师要求15000字，貌似比较“事多”<br />至于怎么看待所谓的水课，这就是另一个问题了，这里不表<br />(更新，期末应该是8000字，10%查重，15000字是总计几次小论文合计字数)</p><p>更新，这是个人文交流月的课程，貌似上课时间只有一周<br />这样看来0.5学分、选修课，确实这么重的任务有些过分了<br />至于为什么有这种尴尬课程，这就要从李校长的“人文气息”说起（请各路明星和于丹、六老师这种货色），从李中堂&quot;大众创业万众创新&quot;说起（指坑韭菜的钱）</p><h3 id="电子科技大学师德建设委员会文件"><a class="markdownIt-Anchor" href="#电子科技大学师德建设委员会文件"></a> 电子科技大学师德建设委员会文件</h3><p>这个今天（2019.8.21）在微博等网站火起来的文件高斯模糊、来源不明，我暂时无法判定真假。</p><p>但是很多人人说那个师德建设委员会不存在，妹听说过，学校官网上查不到这么个机构；我只想说，善用搜索引擎啊同志们，这个是真实存在的，我就随手这么一谷歌，就找到了你电官网上的相关新闻，而且还看到了那个盖章的党委教师工作部，这么看红头文件可不太像是假的啊。<br />就是下面这个网址，谷歌搜索结果的第二名，赫然在列<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/partment3.PNG" alt="谷歌结果" /><br /><span class="exturl" data-url="aHR0cHM6Ly9uZXdzLnVlc3RjLmVkdS5jbi8/bj1VZXN0Y05ld3MuRnJvbnQuRG9jdW1lbnQuQXJ0aWNsZVBhZ2UmYW1wO0lkPTY3MTE4" title="https://news.uestc.edu.cn/?n=UestcNews.Front.Document.ArticlePage&amp;Id=67118">https://news.uestc.edu.cn/?n=UestcNews.Front.Document.ArticlePage&amp;Id=67118<i class="fa fa-external-link"></i></span><br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/partment2.PNG" alt="电子科技大学师德建设委员会" /><br />点进去第一条：</p><blockquote><p>一、加强组织保障，完善工作机制<br />出台《电子科技大学师德师风建设实施办法》，构建学校党委统一领导、二级单位组织实施、教师主动参与的师德建设工作体系。组织成立学校师德建设工作委员会，负责师德建设工作总体规划；成立党委教师工作部，具体负责制度建设、组织落实、督导检查等工作。制定二级单位师德建设工作任务清单，明确二级单位党委师德建设职能职责，将师德师风建设纳入二级单位年度目标考核。强化教师自我教育，坚持将师德建设作为加强教师自身建设的重要内容，规定教师每年必须参加不少于2个学时的师德教育，并将学习情况纳入教师年度考核。</p></blockquote><p>而我们打开另一条新闻<span class="exturl" data-url="aHR0cHM6Ly9uZXdzLnVlc3RjLmVkdS5jbi8/bj1VZXN0Y05ld3MuRnJvbnQuRG9jdW1lbnQuQXJ0aWNsZVBhZ2UmYW1wO0lkPTcyMzgy" title="https://news.uestc.edu.cn/?n=UestcNews.Front.Document.ArticlePage&amp;Id=72382">学校举行第四期思政及师德师风培训班结业典礼暨师德师风建设专题会议<i class="fa fa-external-link"></i></span>，还可以看到<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/partment4.PNG" alt="师德建设委员会" /></p><blockquote><p>师德师风巡视员张开华、汤炎灿、徐全智、赵璧全、马立香、姜书艳，师德建设委员会成员单位负责人、312名培训学员，全体“青字号”人才，学院党委书记、学院分管教学、研究生、学生工作的副院长、副书记，全体教职工党支部书记、组织员，辅导员，学院教务科、研究生科工作人员等参加会议。教师发展中心主任罗小蓉主持会议。</p></blockquote><p>师德建设委员会成员赫然在列</p><p>这个知乎回答说的很好，文件不像是假的：</p><blockquote><p>作者：之乎者也<br />链接：<span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzM0MTg3NjU4NC9hbnN3ZXIvNzk3NjYyMTI1" title="https://www.zhihu.com/question/341876584/answer/797662125">https://www.zhihu.com/question/341876584/answer/797662125<i class="fa fa-external-link"></i></span><br />来源：知乎<br />著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。<br />一大波自认为专业的人从公文行文格式的角度分析这是份假文件，还说得头头是道。特别是 生之初尚无为 仁兄，竟然列出了行文错误之处达十条之多。就我在行政单位处理公文的经验来说，这百分百是份真文件，在校学生起个哄闹下事坑坑老师还行，要说造假水平还到不了这个层次。一、“XX单位文件”这是红头常用的版头，这种用法完全正确。二、关于文号，这是一份对内的文件，所以用“师德”二字完全正常，不是对外文件，不一定非要用“电科XX”开头。三、注意看年份外边是六角括号，这是公文发文年份的专用符号，不是专业人士都不知道这符号怎么输入，多半打成【】符号，这是很多假公文常犯的错误。四、关于文件序号，1号文，这个太正常不过了，师德方面本来事情就少，顶多开开会，哪用得着正式公文，所以七月份才发第一份文件很正常，发多了反倒是假文件了。另外常见公文编号错误就是把“1号”写成“第1号”，这份文件妥妥的避开这个坑。五、关于文件标题，“决定”是一个文种，关于XX的决定，就像关于XX的通知一样，一定是“的+文种”的格式，那些叫嚷“XX的处理决定”的可以洗洗睡了，还有说标题加个引号的，求您别不懂装懂误人子弟行不？六、落款师德建设委员会，盖教师工作部的章，还特别标明代章，就这严谨程度，是造假的娃娃们达不到的高度。师德委员会不是一个常设机构，没有专门的人员编制，没有印章很正常，而又要用它的名义出文件，那么就只好找个跟它工作相似的部门代章，这才是严谨的做法。要真造假，直接出个教师工作部的文件或者弄个师德委员会的章不是更好？知道代章的就如同前文所说知道六角符号的，这都是真正处理公文的专业人士。七、还有说字体错误的，拜托，标题二号小标宋，正文三号仿宋，这么正确的公文字体你还能找出错误？你没见low逼的假公文标题都用黑体么？知道在电脑上安装小标宋体字的都是半个专业人士。八、还有说这个处理决定应该由党委或者学校来出的，拜托，老郑他犯了哪条党纪国法了，就他那点破事，顶多也就一个言论不当，够不上大的处分，党委和学校那都是出警告、记过、降级、开除之类的处分决定。老郑这事儿吧，其实不严重，但是引起了大舆论，这就得处理了，既然事情不严重就不适合用党委或学校名义来处理，用师德委员会的名义刚刚好。基于以上，该问题所有关于文件真假的讨论就此终结。这份文件必定是真的，从公文格式讨论文件真假的同学，你们可以洗洗睡了。</p></blockquote><p>什么？为什么官网没有这个机构？对不起，我电行政的办事速度、我电网站的维护更新速度和土豆服务器我不想和你解释，我也不知道怎么解释,两天前就发生过下图这种事:</p><img width=350 data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/%E9%97%A8%E6%88%B7.jpg"/><h3 id="如何看待知乎治校"><a class="markdownIt-Anchor" href="#如何看待知乎治校"></a> 如何看待知乎治校</h3><p>当然是支持啊，有人因为这个反对知乎治校，我就不明白，这事能怪到知乎治校头上啊？而且这此想搞大新闻的电卫兵可是活生生被骂上热搜的。知乎治校更有利于公正公开，也可以像这次一样让众人看清楚全过程，真有了事河畔狗管理真出了事第一时间删帖，邵振海张翼德宁宁都是河畔删帖空瓶查水表转战知乎才闹大的。</p><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzY4MTEwODg0" title="https://www.zhihu.com/question/68110884">知乎治校<i class="fa fa-external-link"></i></span>我怎能不资瓷，<span class="exturl" data-url="aHR0cHM6Ly90Lm1lL29oY2R6eg==" title="https://t.me/ohcdzz">电报治校<i class="fa fa-external-link"></i></span>就更好辣<br />如何看待称「四大发明在世界上都不领先」高校老师因“师德失范”遭停课两年？ - 竹青的回答 - 知乎<br /><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzM0MjA0OTI5OC9hbnN3ZXIvODAxMzU3ODg1" title="https://www.zhihu.com/question/342049298/answer/801357885">https://www.zhihu.com/question/342049298/answer/801357885<i class="fa fa-external-link"></i></span></p><blockquote><p>**“但凡学生有别的体面方法反抗，也不会采取这么复杂下作的方式，借助规则把事情做绝。”**我就奇怪了，以往碰到这种问题，资乎主流的口径不应该是这样的么？而且我记得，通常资乎都是站在诸如学生这样的弱势群体一边的，大佬们都是无条件支持弱势者的反抗的。怎么？因为事关“文化自信”，这次都转而维护“师道尊严”了？学生的反抗呢？这次就被你们无视了？说到底这里批判学生的和给此类立场点赞的诸位，并不是真的想看到平等的师生关系，也不是真的支持弱者，只不过是屁股使然罢了。</p></blockquote><p>这次微博上以奥老师为首的正能量学阀以及狗公知们张口闭口哭的那个惨啊，把老师描绘成了楚楚可怜的弱势群体，向我们展示了学阀的无耻嘴脸。国内硕导博导掌握生杀大权，欺压学生时没见某些狗跳出来这么激动。武汉爸爸大学那会微博上某些教授的嘴脸可不是这样啊，不仅不出来伸张正义，卖惨装死可在行了。到底还是屁股决定立场啊。<br />还有一些狗公知，监督政府时一口一个把权力关在笼子里，轮到自己了，满嘴自由；你们双标和上来就喷不是一天两天了，行为坦荡程度都不如境外轮子，和花公公周带鱼可真是势均力敌的对手。</p><p><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20190827111902.png" alt="如此厚颜无耻之徒" /><br />颇有在Metoo那会鄢烈山刘瑜等一众老贼的嘴脸：Metoo运动too到公知圈，大喊Metoo是文革大字报民粹<br /><span class="exturl" data-url="aHR0cHM6Ly9tZWRpdW0uY29tL0Btb3JlbGVzcy8lRTglQTMlODUlRTUlQTQlOTYlRTUlQUUlQkUlRTclOUElODQlRTUlODglOTglRTclOTElOUMtYjk2MTJlNGMwMDdj" title="https://medium.com/@moreless/%E8%A3%85%E5%A4%96%E5%AE%BE%E7%9A%84%E5%88%98%E7%91%9C-b9612e4c007c">“何不食肉糜”的劉瑜——自由派公知的衰落<i class="fa fa-external-link"></i></span>，<span class="exturl" data-url="aHR0cHM6Ly90aGVpbml0aXVtLmNvbS9hcnRpY2xlLzIwMTgwODA2LW5vdGVzLW1ldG9vLWxpdXl1Lw==" title="https://theinitium.com/article/20180806-notes-metoo-liuyu/">端传媒地址<i class="fa fa-external-link"></i></span><br />这里节选一段：</p><blockquote><p>刘瑜指责网上发声是文革式的大鸣大放贴大字报不走法律途径，且不说受害者网上发声要承受巨大压力，被人指责不检点不说，还要被人指责卖了还没达到目的所以出来指认。退一步讲，在中国走法律途径行得通吗，朱军一个小小case都被压制下来不许声张，她却以为中国真是法治国家，走法律途径可以得到公正的结果，类似于问“何不食肉糜”。<br />文革贴大字报跟此事有任何相似之处吗，按照邓式官方文革解读，贴大字报是冲击社会现有秩序，但是还有1978年发生的西单民主墙事件，那是公民自发的意见表达机会。<br />大鸣大放起始于1957年开始的帮党整风的运动，是“百家争鸣，百花齐放”的延伸。贴大字报在文革中比较盛行，也对各级大小官员有一定的约束作用。四大作为公民自由表达的基本权利被写进了1975年宪法。文革结束后也没有马上废止，还写进了1978年宪法。直到发生了西单民主墙，矛头直指最高领导人以后，于是到1980年被当局取消。人民有了自由表达的权利就会乱套，这是官方意识形态一贯的思路，网上表达就是贴大字报，从而导致社会乱套，这是一套非常荒谬的逻辑。刘瑜哥伦比亚政治学博士毕业，主攻方向就是文革，把大鸣大放大字报完全等同于暴民政治，显然不符合历史事实。<br />出身于省部级官员家庭的刘瑜可能一路顺风顺水没被人占过便宜，但是那也不应该站着说话不腰疼说穿着暴露活该被性侵。<br />公民个人表达就扣上一个民粹搞文革的帽子，煽动民粹带节奏的是官方公号，不是动不动就被封号禁言的个人帐号。可见刘瑜坚持的还是主流意识形态立场。</p></blockquote><p><span class="exturl" data-url="aHR0cHM6Ly9jaGluYWRpZ2l0YWx0aW1lcy5uZXQvY2hpbmVzZS8yMDE4LzA3LyVFOCU4MyVBMSVFNiVCNiVCNW1hcnZpbiVFRiVCQyU5QSVFNSU5MSU4QSVFNSU4OCVBQiVFNSU4NSVBQyVFNyU5RiVBNSVFNiU5NyVCNiVFNCVCQiVBMy8=" title="https://chinadigitaltimes.net/chinese/2018/07/%E8%83%A1%E6%B6%B5marvin%EF%BC%9A%E5%91%8A%E5%88%AB%E5%85%AC%E7%9F%A5%E6%97%B6%E4%BB%A3/">胡涵Marvin：告别公知时代<i class="fa fa-external-link"></i></span></p><p>什么时候能这样义，什么时候才有资格谈不要知乎治校，不要举报，不要贴大字报<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20190827112537.png" alt="我也很好奇" /></p><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzM0MTg3NjU4NC9hbnN3ZXIvODAzNDY2NDEz" title="https://www.zhihu.com/question/341876584/answer/803466413">如何评价电子科技大学对于郑文锋老师做出的处理决定？ - 琅邪杨文理的回答 - 知乎<i class="fa fa-external-link"></i></span></p><h3 id="教育部or你电"><a class="markdownIt-Anchor" href="#教育部or你电"></a> 教育部or你电</h3><h4 id="是不是上面的意思"><a class="markdownIt-Anchor" href="#是不是上面的意思"></a> 是不是上面的意思</h4><p>据小道消息，教育部的意思，学校是想保这个老师的没保住。<br />是学校干的还是教育部的意思，我倾向于是教育部的意思。我电，啊，这个大家也都知道，学校行政出了事从来都是偏袒老师的，说沆瀣一气也不为过。这个嘛，对比俺们学校之前张翼德邵振海宁宁的处理力度和其他老师与学生的小纠纷。再看看陈宝宝部长有关师德的讲话，俺觉得就是教育部干的，迫真（再次暴论）<br />因为知乎闹大半夜上了个热搜第一就对老师做出这种处罚，不可能，这不你电，这不大气大气，更何况知乎问题下面全是骂电卫兵支持老师，要按照舆情也因该是处罚学生</p><h4 id="谁之过"><a class="markdownIt-Anchor" href="#谁之过"></a> 谁之过</h4><p>一群人就乱喷吧，也不看看某委员会委员长是谁，也不看看章上那镰刀锤子，能把锅扣在校长头上，校长确实咳咳咳，他一个致公党员可管不了党委和师德委员会的事，但也不能啥锅都往校长头上扣， 是吧，网络喷子们？<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/pica.jpg" alt="这回不是云法官，这回是真律师" /><br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/pica2.jpg" alt="不评价" /><br />无中生蛆，反正这次我看到的护校蛆连微博协会拉皮条事件中的十分之一都不到（那又是什么事件？无可奉告，微博自己搜吧，古战场遗迹应该还在）。恁比女拳还会隔空打拳。<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/pica3.jpg" alt="恁比女拳还会隔空打拳" /><br />说起处分学生，甚至一堆大吼开除学生的，这时候就不言论自由、学术自由啦，这回就不处罚过重啦？还有一堆法律博主，恁依据哪条法律，哪条规定啊？这个时候不提什么合不合法辣，上图中律师连是不是那个女研究生干的都不还不确定呢，看到几张图捕风捉影，就开始骂辣，恁名字里还宪法呢。</p><h3 id="补充和后续"><a class="markdownIt-Anchor" href="#补充和后续"></a> 补充和后续</h3><p>郑老师的官网个人主页打不开了<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/page1.PNG" alt="8.22日官网个人主页" /></p><blockquote><p>微博id@Kakyouin<br />6月15日，郑文锋问题被发到知乎。<br />6月24日《 电子科技大学教师师德失范行为处理办法（试行） 》通过，并于7月4日印发。<br />7月16日，电子科技大学根据7月4日印发的《办法》对郑文锋6月份的行为作出处理。<br />按这个溯及既往、加班上马的思路，世界上没什么解决不了的问题和解决不了的人。</p></blockquote><p>这样的话貌似涉及秋后算账，程序有问题</p><p>看来处罚应该七月那会就已经落实了<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/pic6.jpg" alt="河畔小道消息" /></p><p>在8.22晚8至9点，万转千转的几篇微博评论区先后遭到和谐<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/byxf.jpg" alt="未经证实的消息" /><br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/pic8.jpg" alt="疑似控评" /><br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/tognhzhiwei.jpg" alt="补充" /></p><p>之前凤凰搜狐等几家媒体的评论区早早关闭<br />一天之前博主琉璃厂人质问是否是教育部指使的微博被删除<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/%E7%90%89%E7%92%83.jpg" alt="琉璃厂人" /><br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/%E7%90%89%E7%92%832.jpg" alt="琉璃厂人" /></p><p>聊天记录中提到的书《中国的发明创造-古往今来话中国》：<span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzMyOTQ5NTM2NC9hbnN3ZXIvNzk5MjA3NTAw" title="https://www.zhihu.com/question/329495364/answer/799207500">如何看待电子科技大学副教授郑文锋关于四大发明的争议言论？ - skywear的回答 - 知乎<i class="fa fa-external-link"></i></span></p><p>聊天中提到的辩证法，我直接扔个链接吧<span class="exturl" data-url="aHR0cHM6Ly93d3cuZG91YmFuLmNvbS9ncm91cC90b3BpYy84NTM0NzE2Lw==" title="https://www.douban.com/group/topic/8534716/">https://www.douban.com/group/topic/8534716/<i class="fa fa-external-link"></i></span></p><p>更新，河畔上知乎微博上好多将郑老师名字写成郑文峰的，包括上面截图里的童之伟老师博文，应该是“郑文锋”</p><p>更新，侠客岛，央视和光明日报的微信公众号评论了这一事件</p><p>更新，发现许多地方有一些三无小号跑出来疑似洗地，包括但不限于知乎微博河畔，请你们上大号<br />怂到用三无小号，不如自挂贫血楼<br /><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzM0MTg3NjU4NC9hbnN3ZXIvNzk3MzU5MjI0" title="https://www.zhihu.com/question/341876584/answer/797359224">https://www.zhihu.com/question/341876584/answer/797359224<i class="fa fa-external-link"></i></span><br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/washfloor2.PNG" alt="知乎上的" /><br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/washfloor.PNG" alt="河畔上的" /></p><p>更新，河畔同学发帖称征集当事人接受采访<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/fazhiribao.png" alt="法制日报" /></p><p>更新，博主黄少卿在微博扬言抵制某电，转发过五千，被删除。暂时不知道自己隐藏的还是渣浪干的，他的六月之后的微博内容一下子全没了。河畔有人称该博主控评并删除其评论。<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/hsq.jpg" alt="" /><br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/hsq2-390x357.jpg" alt="" /><br />某电表白墙开始怼黄某人，目前黄某人再次发了一条微博。<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/hjs.jpg" alt="" /><br />恁这发个声明还要想几天，恁是树獭吗？开口就拒绝一切有关合作，郑老师也是电子科大的，他还有些商业创新项目，找你合作你要不要抵制？<br />被怼了又重申“我尊重电子科大的每一位老师和每一位同学”，那几个你口中的红卫兵你尊不尊重？还重申，说的你好像之前尊重过一样。<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/dddsx.jpg" alt="我佛辣" /><br />跟个铁憨憨一样，真是，看看武汉爸爸大学那会当时一群人怎么抵制的：宣布从18年开始，如果武汉理工不道歉、不悔改、王攀不处理，高考报考武汉理工入学的学生不再录用。没有搞得已经在武理的学生为难，试图通过打击武理分数线来在不伤及无辜的情况下给校方施压。<br />武理当时冒着查水表危险广场写字的学生、放白花的学生，大家要是照宁这种抵制法抵制武理，怕是都要遭重，学生何辜？<br />当初那个知乎问题可是被骂上热搜的，当时我目测成电学生及校友骂题主的超过95成，就是现在，河畔等地骂那几个研究生支持老师的怕是也超过9成。至于成电老师，你觉得会有老师喜欢举报？你上来就抵制，恁这做法比抵制日货还牛逼，简直战狼在世，就这恁还在微博当公知骂五毛喷抵制日货的愤青呢。反正恁逼逼两句自己也没损失，微博一片叫好，几千转发，一天涨粉几千，死道友不死贫道。<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/dddsx.jpg" alt="我佛辣" /></p><p>更新，河畔有人发帖悬赏，目前赏金已经上千<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/capture.PNG" alt="悬赏帖子" /><br />更新, 河畔上泥巴同学的消息<br /><img width=400 data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20190906132928.png" alt="picture"/><br /><img width=400 data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20190906132859.png" alt="picture"/></p><p>更新，我大概知道是什么事了<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/pic10.jpg" alt="隐情" /><br />那一年，20岁，事个学生<br /><img data-src="https://i.imgur.com/oA0Zc27.jpg?1" alt="小道消息" /><br />那这样的话就更新到这里了，最后祝你，身体健康，再见。</p><h3 id="qa"><a class="markdownIt-Anchor" href="#qa"></a> Q&amp;A</h3><h4 id="大举报时代要来了"><a class="markdownIt-Anchor" href="#大举报时代要来了"></a> 大举报时代要来了?</h4><p>早就来了,祝衮衮诸公，头颅安好，不上路灯</p><h4 id="文革红小兵要来了"><a class="markdownIt-Anchor" href="#文革红小兵要来了"></a> 文革红小兵要来了？</h4><p>兔区八组晋江粉红部分狗粉丝，早就来了，当然还有看上去特别正义的Metoo，是<span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzI5MTUyMTM5MS9hbnN3ZXIvNDc3NDEwMTI0" title="https://www.zhihu.com/question/291521391/answer/477410124">举报污蔑重要推手<i class="fa fa-external-link"></i></span>，不过，我觉得你们该担心的根本不是红小兵<br /><img width=400 data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/kaiser.jpg" alt="影帝离任讲话0.5倍速限定"/></p><h4 id="你怎么看"><a class="markdownIt-Anchor" href="#你怎么看"></a> 你怎么看</h4><p>我用手机看，当然写这篇博文时我正电脑前网上冲浪。</p><h4 id="如何看待核心通识-成电讲坛之类的课程活动"><a class="markdownIt-Anchor" href="#如何看待核心通识-成电讲坛之类的课程活动"></a> 如何看待核心通识、成电讲坛之类的课程活动</h4><p>画虎不成反类犬，我个人认为这和学院重组乱象一样，李言荣负有责任。<br />还有这几年的政策调整电赛折戟、robomaster实力不在，一个个连硬课都不敢选、怕影响成绩嫌性价比低不愿投入竞赛，已经影响了理工科学校的根基。<br />每次看到<span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzI4NjE2NzM4Mi9hbnN3ZXIvNDQ5Mjc3NDU3" title="https://www.zhihu.com/question/286167382/answer/449277457">蒋学长的回答<i class="fa fa-external-link"></i></span>，就很唏嘘。<br />还有你电那个<span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzMyNjU2MjExMy9hbnN3ZXIvNzE0MDMzNzk4" title="https://www.zhihu.com/question/326562113/answer/714033798">感人的实验报告<i class="fa fa-external-link"></i></span>,大物实验我都不知道每次手抄好几页图个啥。<br />我不知道这样下去你电还是工程师的摇篮吗？<span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzQ0NzY5OTcyL2Fuc3dlci8xMjk3NDYxMjM=" title="https://www.zhihu.com/question/44769972/answer/129746123">电子科大UESTC的教育存在什么问题？ - John.L的回答<i class="fa fa-external-link"></i></span></p><h4 id="如何评价创新课程"><a class="markdownIt-Anchor" href="#如何评价创新课程"></a> 如何评价创新课程</h4><p>大众创业、万众创新之类的口号现在也和互联网+小黄车一样凉透了，一地鸡毛。我之前上课，听一位老教授说他当年在老交大上大学那会，大跃进就跟现在一样啊，发动学生搞发明，搞了很多稀奇古怪的玩意。跑题了，这里不提当年那些事了，回到现在，这种水也不是不水也不是的鸡肋课程，我觉得在全校范围来看弊大于利。</p><h4 id="如何评价陈宝生"><a class="markdownIt-Anchor" href="#如何评价陈宝生"></a> 如何评价陈宝生</h4><p>党棍，要向全国人民谢罪的，包括但不限于留学生超国民待遇，中小学减负，<br />2049年，教育部领导的中国教育即将正式将稳稳地立于世界教育中心（指开花</p><h4 id="如何看待各校成立师德委员会"><a class="markdownIt-Anchor" href="#如何看待各校成立师德委员会"></a> 如何看待各校成立师德委员会</h4><p>陈宝生的又一丰功伟绩，跟寻衅滋事一样变成口袋罪，还是武汉爸爸大学等一系列事件发生之后表的态，然而，大家都懂的…(说起来我当时在微博怼武汉爸爸大学还把平均转评过10的大号给炸了…)<br />引用一下今天童之伟博主的说法</p><blockquote><p>电子科技大学师德建设委员会发布处罚郑文峰高工的这份文件缺乏正当根据，实际上是严重侵犯郑老师合法权利和自由的行为，应当尽快撤回。任何组织无权随意制定道德、执行道德、做道德裁判，法外剥夺公民受宪法保护的基本的权利和自由。郑老师作为一个科技工作者，有权就科技史上的问题发表不同于其他人的看法</p></blockquote><h4 id="如何评价四大发明"><a class="markdownIt-Anchor" href="#如何评价四大发明"></a> 如何评价四大发明</h4><p>“四大”是用来凑数的，为何不是三大，不是五大？欧洲古滕堡印刷术跟中国活字印刷没多大关系，甚至东亚古代也是雕版印刷为主。至于火药，俺觉得欧洲对于火药威力的改进和枪炮的改进贡献远大于东亚。<br />反正中医不太行，传武不太行，<span class="exturl" data-url="aHR0cHM6Ly94dy5xcS5jb20vaXBob25lL20vbGVnYWN5aW50b3VjaC80N2E3ZjJjMDMzODAxYTgxODUyNDNlNmNhOGRmNWZhZS5odG1s" title="https://xw.qq.com/iphone/m/legacyintouch/47a7f2c033801a8185243e6ca8df5fae.html">四大名著<i class="fa fa-external-link"></i></span>也是,课本里的地动仪和司南就更扯了</p><p><span class="exturl" data-url="aHR0cHM6Ly93d3cudGhlcGFwZXIuY24vbmV3c0RldGFpbF9mb3J3YXJkXzEzNTc0NDQ=" title="https://www.thepaper.cn/newsDetail_forward_1357444">访谈︱江晓原：中国“四大发明”的争议从何而来<i class="fa fa-external-link"></i></span></p><h4 id="为何你电装死不出来回应"><a class="markdownIt-Anchor" href="#为何你电装死不出来回应"></a> 为何你电装死不出来回应</h4><p>这个，学校行政部门及领导可能还在放假哎，你看主楼好多办公室都没开门（手动滑稽）<br />难道学校不着急吗？这个可能还真不急，毕竟见得多了。<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20190826104258.png" alt="tgchannel" /><br />另外指望师德委员会怎样怎样恐怕希望不大，你看委员长是谁，挡尾苏吉wyf哦（不用查了，约等于泥电一把手）</p><h3 id="详情参考"><a class="markdownIt-Anchor" href="#详情参考"></a> 详情参考</h3><ol><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzMyOTQ5NTM2NA==" title="https://www.zhihu.com/question/329495364">知乎原问题<i class="fa fa-external-link"></i></span> （已被隐藏）<br />其他相关问题   <span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzMyOTcyNjk5OS9hbnN3ZXJzL3VwZGF0ZWQ=" title="https://www.zhihu.com/question/329726999/answers/updated">如何看待电子科技大学个别学生公然诱导舆论，构陷副教授郑文锋侮辱四大发明？<i class="fa fa-external-link"></i></span> <span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzMyOTQ5NTM2NC9hbnN3ZXIvNzE3MzU4Mzg2" title="https://www.zhihu.com/question/329495364/answer/717358386">如何看待电子科技大学副教授郑文锋关于四大发明的争议言论？<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzMyOTc0NDU1MC9hbnN3ZXIvNzk2Njc4Mjc3" title="https://www.zhihu.com/question/329744550/answer/796678277">如何看待知乎热榜“如何看待电子科技大学副教授郑文锋公然侮辱四大发明”？<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzM0MTg3NjU4NA==" title="https://www.zhihu.com/question/341876584">如何评价（疑似）电子科技大学对于郑文锋老师做出的处理决定？<i class="fa fa-external-link"></i></span>、 <span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzM0MjA0OTI5OA==" title="https://www.zhihu.com/question/342049298">如何看待称「四大发明在世界上都不领先」高校老师因「师德失范」遭停课两年？<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzMyOTQ5NTM2NC9sb2c=" title="https://www.zhihu.com/question/329495364/log">原问题的编辑记录<i class="fa fa-external-link"></i></span> 可以看到电卫兵试图搞个大新闻时的最初提问内容，河畔搞事早已删除，时间久远，没有备份。</li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzMyOTQ5NTM2NC9hbnN3ZXIvNzE5NDE4NzIw" title="https://www.zhihu.com/question/329495364/answer/719418720">如何看待电子科技大学副教授郑文锋关于四大发明的争议言论？ - 红盾局长克里斯的回答 - 知乎<i class="fa fa-external-link"></i></span> 一个暴躁师兄的回答，我对该研究生的态度基本同此。</li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzMyOTQ5NTM2NC9hbnN3ZXIvNzE3ODEzMzU2" title="https://www.zhihu.com/question/329495364/answer/717813356">如何看待电子科技大学副教授郑文锋关于四大发明的争议言论？ - 知乎<i class="fa fa-external-link"></i></span> 对于“公然侮辱”的评价，我的观点基本同此</li><li>成电新闻两则<br /><span class="exturl" data-url="aHR0cHM6Ly9uZXdzLnVlc3RjLmVkdS5jbi8/bj1VZXN0Y05ld3MuRnJvbnQuRG9jdW1lbnQuQXJ0aWNsZVBhZ2UmYW1wO0lkPTcyMzgy" title="https://news.uestc.edu.cn/?n=UestcNews.Front.Document.ArticlePage&amp;Id=72382">学校举行第四期思政及师德师风培训班结业典礼暨师德师风建设专题会议<i class="fa fa-external-link"></i></span>  <span class="exturl" data-url="aHR0cHM6Ly9uZXdzLnVlc3RjLmVkdS5jbi8/bj1VZXN0Y05ld3MuRnJvbnQuRG9jdW1lbnQuQXJ0aWNsZVBhZ2UmYW1wO0lkPTY3MTE4" title="https://news.uestc.edu.cn/?n=UestcNews.Front.Document.ArticlePage&amp;Id=67118">四川省教育厅网站报道我校师德师风建设工作<i class="fa fa-external-link"></i></span> 可以看到是有这个电子科技大学师德建设委员会的</li><li>Oh CD ZZ 友情频道的相关报道<br /><span class="exturl" data-url="aHR0cHM6Ly90Lm1lL29oY2R6ei8xMDA3" title="https://t.me/ohcdzz/1007">https://t.me/ohcdzz/1007<i class="fa fa-external-link"></i></span> 、 <span class="exturl" data-url="aHR0cHM6Ly90Lm1lL29oY2R6ei84MjQ=" title="https://t.me/ohcdzz/824">https://t.me/ohcdzz/824<i class="fa fa-external-link"></i></span>等</li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzMyOTQ5NTM2NC9hbnN3ZXIvNzE3NTYyOTY4" title="https://www.zhihu.com/question/329495364/answer/717562968">如何看待电子科技大学副教授郑文锋关于四大发明的争议言论？ - 真实工科肥宅的回答 - 知乎<i class="fa fa-external-link"></i></span>郑老师的学校和论文，郑老师是成理博士百度百科</li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzI5MTUyMTM5MS9hbnN3ZXIvNDc3NDEwMTI0" title="https://www.zhihu.com/question/291521391/answer/477410124">如何看待美国女权领袖、MeToo 运动发起者被曝性侵男演员后暗中支付巨额封口费？ - 奈芙拉塔的回答 - 知乎<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzQ2NDQ1NjYyL2Fuc3dlci8xMDEzMzc2NDQ=" title="https://www.zhihu.com/question/46445662/answer/101337644">邵振海事件<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzYxOTc2MzUyL2Fuc3dlci8xOTM1NjYyMTI=" title="https://www.zhihu.com/question/61976352/answer/193566212">张翼德事件<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cud2VpYm8uY29tLzM5MTA3MzY0NjcvR2tHZWhyaDdr" title="https://www.weibo.com/3910736467/GkGehrh7k">宁宁事件<i class="fa fa-external-link"></i></span></li><li>河畔帖子（需要账号，这里不放了）</li><li>《中国印刷史研究》辛德勇 太长不看版，辛德勇微信公众号文章：<span class="exturl" data-url="aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpJek16ZzJNVFF3Tnc9PSZhbXA7bWlkPTIyNDc0ODg2MDQmYW1wO2lkeD0xJmFtcDtzbj0zZWQzYTViMWU4ZGYyMjVkN2I3ZTNkZGU1YjY0MDU4ZA==" title="https://mp.weixin.qq.com/s?__biz=MzIzMzg2MTQwNw==&amp;mid=2247488604&amp;idx=1&amp;sn=3ed3a5b1e8df225d7b7e3dde5b64058d">我看中國古代的活字印刷<i class="fa fa-external-link"></i></span></li></ol>]]></content>
      
      
      <categories>
          
          <category> 杂七杂八 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 你电 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>测试</title>
      <link href="/938d/"/>
      <url>/938d/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><img width=200 data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/ripper%20shark1s.jpg"/><a id="more"></a><p>行内公式 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mo>=</mo><mi>b</mi><mo>&amp;</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">a = b \And c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&amp;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">c</span></span></span></span>.</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>u</mi></mrow><mrow><mi mathvariant="normal">∂</mi><mi>t</mi></mrow></mfrac><mo>=</mo><msup><mi>h</mi><mn>2</mn></msup><mrow><mo fence="true">(</mo><mfrac><mrow><msup><mi mathvariant="normal">∂</mi><mn>2</mn></msup><mi>u</mi></mrow><mrow><mi mathvariant="normal">∂</mi><msup><mi>x</mi><mn>2</mn></msup></mrow></mfrac><mo>+</mo><mfrac><mrow><msup><mi mathvariant="normal">∂</mi><mn>2</mn></msup><mi>u</mi></mrow><mrow><mi mathvariant="normal">∂</mi><msup><mi>y</mi><mn>2</mn></msup></mrow></mfrac><mo>+</mo><mfrac><mrow><msup><mi mathvariant="normal">∂</mi><mn>2</mn></msup><mi>u</mi></mrow><mrow><mi mathvariant="normal">∂</mi><msup><mi>z</mi><mn>2</mn></msup></mrow></mfrac><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\frac{\partial u}{\partial t}= h^2 \left( \frac{\partial^2 u}{\partial x^2} +\frac{\partial^2 u}{\partial y^2} +\frac{\partial^2 u}{\partial z^2}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.05744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathdefault">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathdefault">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.441138em;vertical-align:-0.95003em;"></span><span class="mord"><span class="mord mathdefault">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.491108em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathdefault">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.491108em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathdefault">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804400000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.491108em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord mathdefault">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">)</span></span></span></span></span></span></span></p><p>油管视频测试</p><iframe width="560" height="315" src="https://www.youtube.com/embed/UnnvhiD-HPA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><p>啤梨啤梨视频测试</p><iframe src="//player.bilibili.com/player.html?aid=1085694&cid=1569276&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><p>插件测试</p><p><img data-src="/938d/emmm.jpg" alt="測試" /></p><p>大小调整测试</p><img width=200 data-src="/938d/emmm.jpg"/><p>嘤花散<br /><img data-src="/938d/yinghua.jfif" alt="測試" /></p><div class="group-picture"><div class="group-picture-container"><div class="group-picture-row"><div class="group-picture-column" style="width: 100%;"><img data-src="/938d/emmm.jpg" alt="測試" /></div></div><div class="group-picture-row"><div class="group-picture-column" style="width: 33.333333333333336%;"><img data-src="/938d/emmm.jpg" alt="測試" /></div><div class="group-picture-column" style="width: 33.333333333333336%;"><img data-src="/938d/emmm.jpg" alt="測試" /></div><div class="group-picture-column" style="width: 33.333333333333336%;"><img data-src="/938d/emmm.jpg" alt="測試" /></div></div><div class="group-picture-row"><div class="group-picture-column" style="width: 50%;"><img data-src="/938d/emmm.jpg" alt="測試" /></div><div class="group-picture-column" style="width: 50%;"><img data-src="/938d/emmm.jpg" alt="測試" /></div></div></div></div><p>首先对序列<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>R</mi><mi>i</mi></msub><msub><mi>R</mi><mrow><mi>i</mi><mo>×</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">R_iR_{i\times1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mbin mtight">×</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>做一阶差分, 得到序列 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mi>j</mi></msub><mo separator="true">,</mo><mi>j</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">d_j,j=1,2,\dots N-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 然后以 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>d</mi><mi>j</mi></msub><mo separator="true">,</mo><msub><mi>d</mi><mrow><mi>j</mi><mo>+</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(d_j, d_{j+1})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 为坐标绘制散点图（Poincaré散点图）。差值散点图反映了RR间期差值的离散度 ,对连续RR间期的变化十分敏感。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Keras笔记</title>
      <link href="/d5cc/"/>
      <url>/d5cc/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>瞎写的</p><a id="more"></a><h2 id="keras函数式api"><a class="markdownIt-Anchor" href="#keras函数式api"></a> Keras函数式API</h2><p>构造张量</p><pre><code>inputs = Input(shape=(64,))</code></pre><p>创建层</p><pre><code>dense = layers.Dense(32, activation='relu')output_tensor = dense(input_tensor)</code></pre><p>输出也是一个张量</p><h2 id="回调函数等"><a class="markdownIt-Anchor" href="#回调函数等"></a> 回调函数等</h2><p>EarlyStopping中断训练, ModelCheckpoint保存模型,如</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">callbacks_list = [</span><br><span class="line">keras.callbacks.EarlyStopping(</span><br><span class="line">monitor=<span class="string">'acc'</span>,</span><br><span class="line">patience=<span class="number">1</span>,</span><br><span class="line">),</span><br><span class="line">keras.callbacks.ModelCheckpoint(</span><br><span class="line">filepath=<span class="string">'my_model.h5'</span>,</span><br><span class="line">monitor=<span class="string">'val_loss'</span>,</span><br><span class="line">save_best_only=<span class="literal">True</span>,</span><br><span class="line">)</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>改变学习率,ReduceLROnPlateau函数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">callbacks_list = [</span><br><span class="line">keras.callbacks.ReduceLROnPlateau(</span><br><span class="line">monitor=<span class="string">'val_loss'</span></span><br><span class="line">factor=<span class="number">0.1</span>,</span><br><span class="line">patience=<span class="number">10</span>,</span><br><span class="line">)</span><br><span class="line">]</span><br><span class="line">model.fit(x, y,</span><br><span class="line">epochs=<span class="number">10</span>,</span><br><span class="line">batch_size=<span class="number">32</span>,</span><br><span class="line">callbacks=callbacks_list,</span><br><span class="line">validation_data=(x_val, y_val))</span><br></pre></td></tr></table></figure><h2 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h2><ol><li><span class="exturl" data-url="aHR0cHM6Ly9rZXJhcy5pbw==" title="https://keras.io">keras官方文档<i class="fa fa-external-link"></i></span></li><li>Python深度学习</li></ol>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 炼丹 </tag>
            
            <tag> keras </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonic手账</title>
      <link href="/a343/"/>
      <url>/a343/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>等待填坑</p><h2 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h2><ol><li><span class="exturl" data-url="aHR0cHM6Ly93d3cucHl0aG9uLm9yZy9kZXYvcGVwcy9wZXAtMDAwOC8=" title="https://www.python.org/dev/peps/pep-0008/">PEP8<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly9ndW9ydWliaWFvLmdpdGJvb2tzLmlvL2VmZmVjdGl2ZS1weXRob24vY29udGVudC8=" title="https://guoruibiao.gitbooks.io/effective-python/content/">Effective Python 翻译版<i class="fa fa-external-link"></i></span></li><li>Fluent Python</li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cucHlsaW50Lm9yZy8=" title="https://www.pylint.org/">pylint<i class="fa fa-external-link"></i></span></li></ol>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>无创血压计</title>
      <link href="/2e86/"/>
      <url>/2e86/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>血压是人体最主要的传统监护指标之一，血压的测量在医学上具有重要意义。相比于有创的测量方法，无创测量具有方便和不易感染的优点，在血压测量中被广泛采用。经典的无创测量方法主要有柯氏音法、超声法。此外，能够连续测量的动脉张力法、容积补偿法、脉搏波速传导法和脉搏波特征参数测定法也有着广阔的应用空间和市场前景。</p><a id="more"></a><h2 id="血压测量原理及特点"><a class="markdownIt-Anchor" href="#血压测量原理及特点"></a> 血压测量原理及特点</h2><p>血压是重要的人体生理参数指标，具有重要的医学意义，是高血压及休克等多种疾病状态的关键性临床指标。在临床上,测量各个心腔及周围血管的血压,是评估心血管系统功能的重要指标之一,目前已经有多种方法测定血压波形和血压值。常用的血压测量方法有准确度较高的有创血压监测和无创血压监测。对于不同的应用场景和需求，也产生了多种监测设备，主要分为家庭使用的便携设备、医院常规检查设备以及重症病人的监测设备。</p><p>有创的测量手段多用于医院临床监护，被认为是血压测量的金标准，包括中心静脉压力监测、创伤性动脉血压监测、血流动力学监测和血压测量中的动态响应优化。目前已经应用于各大医院的重症监护室、手术室、心脏导管室。 有创的监测手段测量精度高，多集成在医院的综合性生理指标监测设备，该方法的血压测量精度和连续性已经较为成熟，足够用于分析。有创带来的感染问题可以由医院的护理人员处理。</p><p>无创血压监测主要包括柯氏音法、测振法、超声法、双袖带法、恒定袖带法、逐拍跟踪法、张力测定法、恒定容积法等，其中振动法由于其有较好的抗干扰能力,能比较可靠地判断血压、实现血压的自动检测，在无创血压监测中应用最广。张力测定法无法避免机体环境变化时发生的外力和内力不平衡引起的误差;容积法虽然较为成熟，却无法避免长时间测量时静脉充血的影响，存在难以长期保持局部的压力的巍峨提。基于这些原理的血压计主要有，其水银式血压计、电子血压计及基于容积振动法的血压检测装置等。水银式血压计无创血压测量的&quot;金标准&quot;，被业界广泛认可。然而，水银血压计的使用要求较高，对于非医学从业人员尤其是年长老人群体操作使用时存在着一定困难。目前市场有成熟的便携电子血压计，适合家庭中使用。电子血压计大都采用了示波法的原理。然而便携电子血压计检测上也存在缺陷，血压测量精度问题难以解决，通常只用于有高血压等疾病的患者家庭中使用。脉搏波传导时间(PTT)的检测法近年来发展较快，但由于影响因素多，个体差异性大，测量精度有待提高。容积法（振动法）是通过袖带加压中容积脉搏波的变化而确定血管内部压力的测量方法。该方法易于实现电子自动化数字化测量，且测量精度较高。但是，该方法只能直接检测出收缩压，舒张压需通过间接计算，误差较高，甚至可达10%。无创血压计的主要厂家有欧姆龙、爱安德、鱼跃等，主要产品有欧姆龙上臂式血压U12、鱼跃上臂式YE670A等型号，此外迈克大夫等各厂家还拥有不同的心血管监测的专利技术。近年来主要的突破主要是价格的压缩和便携性的提高，在监测准确度上依然不如有创的方法，大部分设备的原理也仍然是振荡法。</p><p>目前对于振荡法的改进主要有采用先进的、严格控制的线性放气过程的硬件设备的改进以及通过综合频谱分析、小波变换、神经网络和基于奇异值矩阵分解的新型曲线拟合算法等信号处理的方法来寻找压力波形的特征计算血压等生理参数。进一步提高测量准确度的方法包括采用操作较复杂的双袖带检测法以及针对不同人群（如区分年龄、性别、体重等个人特征）调整检测算法，调整参数。</p><h2 id="血压监测设备的优化改进"><a class="markdownIt-Anchor" href="#血压监测设备的优化改进"></a> 血压监测设备的优化改进</h2><p>近年来对于无创血压计的改进主要集中于对于监测算法的改进和成本的降低以及小型化便携化，无创血压监测最大的应用市场。针对生理信号的特征提出了许多不同的监测方法，如基于容积脉搏波振幅梯度的血压检测法。一些监测连续信号的仪器也推出了监测心房颤动等疾病的监测算法。小型化设备的进展也有不少，例如进军医疗领域的苹果公司的Apple Waltch，心率和血压监测已经通过美国食品药品监督管理局（FDA）的认证。老牌厂商欧姆龙也推出了一款名为HeartGuide的手表，具备监测血压心率和睡眠质量的功能，并且可以通过蓝牙连接。</p><p>目前的主流电子血压计采用的振动法主要经历了三个阶段的发展。第一代电子血压计（G1-NIBPM）采用固定加压和机械排气技术，加压方式和效果类似水银血压计的手动充气。由于机械式慢速排气阀存在明显压迫感和精度低、寿命短等缺点，已经很少被采用。第二代电子血压计（G2-NIBPM）采用智能加压和电子控制伺服技术，提高了舒适度和测量结果的稳定性。三、        第三代电子血压计（G3-NIBPM）采用加压同步测量技术，加压速度均匀，并在加压的过程中进行血压测量，提高了测量的速度。第二代电子血压计技术主要用于上臂式电子血压计；第三代电子血压计技术主要用于手腕式电子血压计。</p><img width=400 data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/pic1.png" alt="picture"/><p>图1 腕式、臂式血压计和能监测血压的手表</p><p>近年来，连续监测技术的发展使得无创测量的方法在每个心动周期内完成血压的测量，使得无创方法在健康监测和重症监测领域应用成为可能。对于连续的实时监护设备，多采用脉搏波（PTT）时间检测法，能够避免张力测定法与容积补偿法装置复杂成本高、检测难度大的缺陷。该方法利用血压升高动脉管壁会扩张降低动脉弹性和顺应性导致脉搏波传递速度加快，通过脉搏波的速度变化反应动脉血管压力的变化。脉搏波时间检测法不需要加压套袖，方便舒适，随着监测算法的改进，误差已经可以在平稳的情况下达到4mmHg，但是在运动等外部干扰下的表现不好，仍旧有待解决。该方法的发展有望取代一部分有创方法，对病人进行连续的生理特征监测。</p><p>此外动脉张力法也较为常见，市场化较早，也比较成熟，测量精度较高，无需每次定标。但是该方法测量桡动脉部位的动脉压力时难以保持位置固定，容易受到干扰。一些自动跟随的设备，如Bahr的改进张力计，也提高了监测的准确度。 动脉容积钳制法经过Tanoru和Yamakoshi等人的改进后，成为了另一种逐渐成熟的方法。该方法是在手指基部或中部放置气压指套或者液体填充加压袋的测量盒，并同时调节指套压力，并采用红外方式监测脉搏波的变化。指套压力采用自动反馈系统，始终等于动脉压。但是由于该方法测量手指的压力时施加外部压力，长时间测量易引起静脉充血。由于测量部位的原因，准确度不如腕部和上臂的测量方法，但是指尖测量有望实现监护仪的微型化，检测部位和无创血糖的检测部位类似，便于和血氧血糖模块组成小型多生理信号检测设备。对于动脉张力法的主要改进包括，补偿器补偿心脏和指端的流体静力学压差，采用气动袖套等方法解决袖套和心脏不在同一水平位置等问题。此外，通过舒张压和收缩压的特征参数利用线性回归的方法得到血压值等算法的提出也在一定程度上提高了准确度。</p><p>目前有基于脉搏波的臂带式可穿戴设备和使用手机、蓝牙设备的便携监测。能够用于长时间血压的连续监测。考虑到大部分家庭用的电子血压计使用者都是年纪较大的人，针对老年人进行的易操作改进和安全性也在市场产品中不断涌现。目前，200元以下的电子血压计已经基本满足家用需求，测量的准确度和水银柱式血压计相差不大。</p><h2 id="参考文献"><a class="markdownIt-Anchor" href="#参考文献"></a> 参考文献</h2><p>[1]Andreas Patzak,Yuri Mendoza,Heiko Gesche,Martin Konermann. Continuous blood pressure measurement using the pulse transit time: Comparison to intra-arterial measurement[J]. Blood Pressure,2015,24(4).</p><p>[2]株式会社爱安德. 血压计: 日本，201730034188.6 2[P]. 2017-07-28.</p>]]></content>
      
      
      
        <tags>
            
            <tag> 传感器 </tag>
            
            <tag> 测量 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>电磁流量计</title>
      <link href="/8ca1/"/>
      <url>/8ca1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>电磁流量计是一种常用流速流量计，应用电磁感应原理， 根据导电流体通过外加磁场时感生的电动势来测量导电流体流量的一种仪器。电磁流量计适用于满管污水等强导电性液体流量测量，多用于工业污水检测等场合。</p><a id="more"></a><h4 id="电磁流量计原理"><a class="markdownIt-Anchor" href="#电磁流量计原理"></a> 电磁流量计原理</h4><p>常用流速流量计有测量导电液体的电磁流量计、采用超声波流量计时差法外夹式或者管段式超声波流量仪表、采用多普勒雷达测速原理或利用声波在流体中传播的多普勒效应的流速仪。</p><p>电磁流量计（Electromagnetic Flowmeters，简称EMF），是20世纪50~60年代随着电子技术的发展而迅速发展起来的流量测量仪表。 电磁流量计是应用电磁感应原理， 根据导电流体通过外加磁场时感生的电动势来测量导电流体流量的一种仪器。</p><p>传统电磁流量计测量原理如图1所示。 电磁线圈在直径为 d、横截面积为A的管道中产生一个磁场强度为B的磁场。当有流体经过 时会切割磁感线而产生感应电动势 U,测量电极接收电动势信号。由公式<br /><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Q</mi><mo>=</mo><mfrac><mn>1</mn><mi>k</mi></mfrac><mo>∗</mo><mfrac><mrow><mi>U</mi><mi>A</mi></mrow><mrow><mi>B</mi><mi>d</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">Q={1 \over k}*{UA \over Bd}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">Q</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.217331em;vertical-align:-0.345em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.872331em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05017em;">B</span><span class="mord mathdefault mtight">d</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10903em;">U</span><span class="mord mathdefault mtight">A</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span><br />可计算其流量。式中:Q为流量;k为修正系数。<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20190830182933.png" alt="传统流量计" /></p><p>电容式电磁流量计解决了电极表面附 着、腐蚀、摩擦等问题 ,其电极与被测流体间有绝缘 衬里隔离,或者直接采用绝缘测量管, 结构如图 2 所示。电极与被测流体通过绝缘管形成检测电容,通 过此电容来耦合流量信号。<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20190830183016.png" alt="对比" /></p><h4 id="电磁流量计的优化改进"><a class="markdownIt-Anchor" href="#电磁流量计的优化改进"></a> 电磁流量计的优化改进</h4><p>普通的电磁流量计只能测量满管流的流量,常见的非满管电磁流量计有下面几种：</p><ol><li>多电极式非满管电磁流量计。其底部是一对信号注入电极,中间有多对测量电极,顶端有一个满管电极。当流体非满管时,满管电极检测到管道非满状 态,利用算法修正测量值,此时流量计的测量方式改 成测量流体流速和液面高度。信号注入电极与在不同位置的三对测量电极共同工作,用于测量液位面的高度和流体的速度。</li><li>电容式非满管电磁流量计。电容式非满管电磁流量计就是利用液位的变化使 得电容的极距发生变化,通过测量发送电极和检测电 极之间的电容耦合值即可测量流量值。</li><li>利用阻抗或信号衰减研制的非满管电磁流量计。其结构是流量管底部贴一对信号发射电极,在流量管中间贴信号接收电极。由于信号在流体 中传播会产生衰减,且传播时间越长,衰减越多,因此 通过信号接收电极接收到的信号衰减量即可得知液面高度;<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20190830183034.png" alt="" /><br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20190830183044.png" alt="" /><br />励磁方式可以分为两种基本 形式,即采用交变磁场的形式(包括正弦波励磁、矩形 波励磁、三值波励磁和双频矩形波励磁) 和采用恒定 磁场的形式(包括直流电源励磁和永磁体励磁)。</li></ol><p>相对于交变磁场励磁方式来说,恒定磁场励磁的 方式实现起来更加简单,受工频干扰影响小,而且使用 恒定磁场励磁可以简化传感器结构</p><h4 id="电磁流量计与其他测流量原理仪器的比较"><a class="markdownIt-Anchor" href="#电磁流量计与其他测流量原理仪器的比较"></a> 电磁流量计与其他测流量原理仪器的比较</h4><table><thead><tr><th style="text-align:left">产品名称</th><th style="text-align:left">原理</th><th style="text-align:center">优点</th><th style="text-align:center">缺点</th><th style="text-align:center">备注</th></tr></thead><tbody><tr><td style="text-align:left">电磁流量计</td><td style="text-align:left">电磁感应</td><td style="text-align:center">适合满管污水测量</td><td style="text-align:center">不能测非满管污水和干净的水体</td><td style="text-align:center">多适用于工业污水处理等场合，管径不同价格不同</td></tr><tr><td style="text-align:left">超声波流量计时差法</td><td style="text-align:left">超声波时差</td><td style="text-align:center">适合于干净水体的流量测量可以外贴在管道外侧</td><td style="text-align:center">不能测非满管污水和中污以上的水体</td><td style="text-align:center">多适用于供水等场合</td></tr><tr><td style="text-align:left">超声波明渠流量计</td><td style="text-align:left">水位换算流量</td><td style="text-align:center">价格便宜，原理简单</td><td style="text-align:center">需要修建堰槽且 对；水体有阻碍作用、精度较低</td><td style="text-align:center">适合于小渠道等能够修建堰槽的场合，宽渠道或者非规则渠道无法使用</td></tr><tr><td style="text-align:left">雷达流速仪</td><td style="text-align:left">多普勒效应</td><td style="text-align:center">安装简单不易损坏</td><td style="text-align:center">起始速度较高，无法测量流速较慢的水体，由于测量水表面的流速，容易受波浪影响</td><td style="text-align:center">适合大江大河等流速较大或者安装要求简便的场合</td></tr><tr><td style="text-align:left">多普勒超声流量计</td><td style="text-align:left">多普勒效应</td><td style="text-align:center">测量精度高，起始速度低，安装简便，能够测量非满管和不规则断面的流速流量</td><td style="text-align:center">较宽的渠道需要多台设备同时使用</td><td style="text-align:center">城市下水道、管网、灌区、河道、渠道水电站等</td></tr></tbody></table><h4 id="参考"><a class="markdownIt-Anchor" href="#参考"></a> 参考</h4><ol><li>AMARE T. Design of an electromagnetic flowmeter for insulating liquids[ J]. Measurement Science &amp; Technology, 1999, 10 ( 8 ): 755 - 758.</li><li>DONEY B. Going with partial flow[ J]. Control Engineering,1998, 45(12):131 - 133.</li><li>BERA, S. C., CHAKRABORTY, B… A Novel Technique of Flow Measurement for a Conducting Liquid[J]. IEEE Transactions on Instrumentation and Measurement,2009,8(8).</li></ol>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 电磁流量计 </tag>
            
            <tag> 传感器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>轻关易道，通商宽衣</title>
      <link href="/25d3/"/>
      <url>/25d3/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>to be continued</p><a id="more"></a><h2 id="文化又迈进了一大步"><a class="markdownIt-Anchor" href="#文化又迈进了一大步"></a> 文化又迈进了一大步</h2><p>明天就要考猫（包）概了，祝我挂科</p><img width=250 data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/baobao.jpg" alt="picture"/><!-- ---<h2 id="始有澄清之志"><a class="markdownIt-Anchor" href="#始有澄清之志"></a> 始有澄清之志</h2><p>附上课程小报告（<s>我瞎写的</s>由于不符合本课<s>24小时中国梦的</s>要求，这一篇写得非常含蓄）,略有改动，</p><center><font face="黑体" size=4>互联网公司加班情况调研报告</font></center>  <br><p>【摘要】  最近996.icu活动引起了人们对于996加班方式的关注和讨论。本文主要介绍以互联网公司为代表的企业加班情况及对于该现状的讨论。 目前中国许多企业都鼓励加班，不少企业更是出于利益原因公然违反劳动法，压榨剥削员工。这种做法不仅影响员工身体健康，而且不利于企业的长期发展和技术积累，为了追求短期利益造成了社会问题。</p><p>关键词： 劳动法；996；互联网；加班</p><h3 id="icu-事件概况"><a class="markdownIt-Anchor" href="#icu-事件概况"></a> icu 事件概况</h3><p>近日，996.icu活动在最大的代码托管网站兴起。这个活动由v2ex论坛用户 @nulun 发起，当时他在996的帖子下回复时表示他所在的公司最近开始996自己感觉顾不上身体和家庭并建立了这个网站。该网站 没想到该活动在几天之内获得巨大反响，两天之内该项目仓库的star突破一万，许多人在该项目的issue里留言讨论。引起了国内外媒体的注意。一周之后超过Github上Linux kernel等知名项目，成为Github上star数目第二的项目。在项目star数目超过10万时，该项目的issue被关闭。</p><p>起初该网站只是列举了近日违反劳动法的有赞、京东和58等公司的行为以及劳动法的具体内容。随着github项目受到关注，主要的讨论和声援活动转移到了GitHub的issue和pull request里，其他相关的Github仓库（如提倡不加班和介绍不加班公司和岗位955.WLB项目）也开始建立并活跃起来。各公司员工纷纷曝光所在公司的加班情况，并发起了投票和统计活动。针对996公司的开源许可协议也由提议到宾夕法尼亚大学和伊利诺伊大学的法学人士起草并成型（ <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2thdHRndTcvOTk2LUxpY2Vuc2UtRHJhZnQ=" title="https://github.com/kattgu7/996-License-Draft">Anti-996-License-1.0<i class="fa fa-external-link"></i></span>），其他周边活动也活跃了起来，QQ和telegram建立起相关的群组，各大论坛和网站也开始讨论这一事件。该项目也被翻译成了英语、法语、德语等十几种语言。投票选出的几千家公司<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2ZlbmdULVQvOTk2X2xpc3Q=" title="https://github.com/fengT-T/996_list">996 公司黑名单<i class="fa fa-external-link"></i></span> 和  <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2Zvcm11bGFoZW5kcnkvOTU1LldMQg==" title="https://github.com/formulahendry/955.WLB">955 公司白名单<i class="fa fa-external-link"></i></span> 也被整理出来。几乎所有的国内大公司都存在违反劳动法的加班情况，而９５５名单上的公司多为外企，国内公司寥寥无几。</p><p>该项目在出人意料地获得大量响应之后引来了国内外的关注和报道，python之父 Guido van Rossom 在社交媒体推特上声称996 工作制是不人道的，并且在GitHub上star了 996.icu 项目。他随后还在python社区发布了问题：&quot;Can we do something for 996 programmers in china? &quot; Guido表示：&quot;一个星期前一些中国程序员创建了996.icu抱怨恶劣的工作条件——现在该网站已经被各种中国浏览器禁止访问了——我针对此事发布了推文，现在我的推特已经充满了关于这个问题的讨论。&quot; Python 社区甚至开始探讨禁止实行996工作制的公司使用python的可能性。</p><p>在该项目引发大量关注之后，微博、知乎以及国外的Reddit论坛等网站也开始讨论，随后《中国青年报》、《南方日报》等媒体也开始报道。该项目也成为了硅谷流行科技新闻网站 TechMeme 4 月 4 日首页要闻。BBC等国外媒体。几天后，人民日报和共青团中央等官媒对996和加班做出点评。</p><p>该事件发生后，处在舆论的风口浪尖的各大互联网公司几乎都未在第一时间内做出正面回应。微博热搜和知乎热榜被撤。随后，众多国产浏览器开始了屏蔽：QQ 浏览器称这个唯一公开诉求就是让公司遵守劳动法的网站包含欺诈信息。微信显示的理由则是&quot;该网页包含违法或违规内容，为维护绿色上网环境，已停止访问&quot;。阿里的 UC 浏览器和 360 浏览器都将该页面认定为包含违法信息。猎豹浏览器打开这个页面甚至弹出提示&quot;网站含有大量淫秽色情信息&quot;。使用百度搜索 996，中文搜索结果找不到 996.icu 网址和对应 GitHub 仓库。</p><p>随后，马云将996 称为修来的福报和刘强东的&quot;兄弟&quot;理论引发众怒，搜狗CEO在微博&quot;有种就快滚&quot;等言论也引起舆论一片哗然。马云当年后悔加班、多陪陪家人的言论也被挖出。在知乎和微博上出现了高达数万赞同的反驳和声讨，其中不乏资本家和阶级斗争等内容。</p><p>一批微软和Github员工也在该项目数周之后出于对996.icu项目遭到微软和Github审查压力的担心，在GitHub发起了微软以及GitHub员工支持996项目的请愿书。最初是微软员工在一封内部邮件中呼吁公司抵制潜在的审查压力996.icu项目，因为他担心微软可能会像中国国内的浏览器一样对该项目采取屏蔽、删除或审查。后来该项目在GitHub上得到了众多员工的联名支持。截至目前，该项目已收到数百名员工的实名支持。</p><h3 id="国内以互联网公司为代表的企业加班情况"><a class="markdownIt-Anchor" href="#国内以互联网公司为代表的企业加班情况"></a> 国内以互联网公司为代表的企业加班情况</h3><p>根据996.icu相关项目的投票和统计，国内大多数互联网公司存在违反劳动法的严重的加班情况。而据多位老程序员的说法，在十几年前互联网公司和硬件公司加班情况并没有今天这么严重，近年来加班情况愈演愈烈。最早公然违反劳动法鼓吹加班，将这股风气带到整个行业的是华为，从公司成立早期就公然践踏劳动法，让员工签署奋斗者协议，平均加班情况远超９９６，和其他同行业公司进行恶性竞争。而在国内互联网行业，鼓吹加班风气的始作俑者应该是阿里巴巴。 <span class="exturl" data-url="aHR0cDovL2l0LnNvaHUuY29tLzIwMTQwNDA1L24zOTc3OTc0Mjcuc2h0bWw=" title="http://it.sohu.com/20140405/n397797427.shtml">2014 阿里巴巴怀孕员工加班回家后大出血去世<i class="fa fa-external-link"></i></span>的事件也在当时引起了不少的争议。而在国外，由于完善的法律和相对强势的工会组织，加班情况好于中国。作为互联网发源地的硅谷，大多数巨头公司的员工一天只工作几个小时。而美国的不少公司也在想方设法压榨员工。以工作环境优渥文明的著名公司Google，为员工提供的各种福利，包括免费酒水糕点和休息娱乐设施，其初衷就是为了让员工尽可能长时间留在公司。而有美国富士康之称的亚马逊，加班严重，发生过猝死跳楼等事件，采用高薪和按完成任务情况发工资的方式规避法律，加班时长最高可至８０－１００小时每周，&quot;堪比中国华为&quot;。</p><p>而在其他许多传统行业，劳动者的权益相比互联网公司，得到的保障和法律支持以及社会关注更少。相比于互联网的软件开发、测试等岗位，传统制造业工作环境复杂危险，化学药剂、粉尘和爆炸、矿难等安全事故多发，很多劳动者受到伤害难以认定和赔偿，特别是发病时间久的伤害和后遗症（如尘肺病等）难以认定工伤和后续赔偿。最近曝光安全帽问题的工人窦师傅就没有引起比程序员抗议活动更大的关注和报道。再比如建筑行业，大量工地打工的劳动者属于&quot;农民工&quot;，工作和居住条件远不如程序员等行业，而且没有户口也并未缴纳医保等保障金和保险。欠薪和讨薪问题也经常上演。大多数人文化程度和受教育程度低，维权意识差，在信息时代对于网络和媒体的熟悉程度和社会关注度也低于程序员群体。而大部分工程师连夜画图纸是常态，从学生时代起加班加点熬夜画图的风气就成为常态。很多施工单位和设计院的劳动时间远超９９６的加班强度，而相关行业在施工进度和任务上面也有不少企业严重，最典型的当属碧桂园，高周转和赶进度施工不仅对劳动者压榨严重，而且造成多起安全问题，商品房质量堪称业界毒瘤，甚至自己的售楼处都发生了倒塌伤亡事件。</p><p>而医生、教师等行业以及不少研究所也都存在着加班的情况，在医疗资源和人力紧缺的部分医院（特别是儿科和航天院所等岗位），值班和加班强度大大超过了劳动法规定的工时，但是却没有应有的待遇，造成了大量的人才流失（甚至一度有&quot;造导弹不如卖茶叶蛋&quot;的谚语流传）。而这些群体和职业，经常将奉献作为典型，宣传无私奉献的精神。但是我们应当意识到，宣扬无私奉献和表彰并不能补偿加班和奉献做出的牺牲，在国家已经度过困难时期的今天，绝不应当将无私奉献的光荣替代实际的报酬和补偿，这对于市场经济按劳分配的原则是极大的破坏。这些在特殊岗位奉献和加班的人们，应当得到实际的物质补偿。</p><h3 id="加班困局及对策"><a class="markdownIt-Anchor" href="#加班困局及对策"></a> 加班困局及对策</h3><p>在西方国家资本原始积累的早期，纺织工人、黑奴、爱尔兰劳工和西部大开发时的铁路劳工都面临着今日程序员同样的压榨困境。一些劳工甚至每天工作16个小时。而现在8小时工作制也不是轻易得来的。1886年5月1日美国芝加哥爆发了历史最大的罢工，也正是以倡导八小时工作制为目标进行的。随着时代的发展，八小时工作制普遍被列为法律条令。当时的工人阶级，实际上在社会上处于相对较高的收入地位，新兴行业的工人也在走在时代的前列，能接触到第一线生产资料和生产力，罢工等运动往往由他们发起。这样的局面和现在的码农颇为类似。</p><p>2018年下半年至今，受贸易纠纷禁运制裁和经济形势的影响，国内软硬件公司业绩下滑，开始裁员。很多互联网公司在过去几年的移动互联网风口大肆扩张，在互联网红利结束的今天，开始了裁员和收缩。去年8月，美图、拉勾网各裁员20%。去年12月知乎裁员20%，300人被要求当天离开公司；科大讯飞裁员20%；摩拜裁员30%，称正常调整。今年2月，滴滴裁员15%，2000人离职；京东先裁员20% 员工，2月又裁员10%副总裁级别高管。今年3月腾讯中层裁员10%。但是裁员需要支付较高的离职赔偿金，许多企业通过996、007等高强度的加班方式以及强制外派和出差，逼迫员工主动辞职，试图这个方法省下裁员所需要的补偿费。这样的做法不仅在不规范的小公司盛行，在华为、腾讯等大企业也同样普遍。</p><p>在传统制造业，多为流水线作业和重复劳动，因此加班几乎可以带来同加班时间成正比的产出，资本家可以用延长加班时间的方式压榨劳动者的剩余价值。在一些互联网岗位，很多加班并不能带来工作效率和产出的提升，创造性的脑力劳动并不能每天十二个小时稳定产出。</p><p>通过各种方式延长加班时间也同样能节省企业雇佣员工的成本，高强度的工作还会逼迫三十至四十岁的老员工离职，企业继续招聘刚毕业的低工资新员工顶替工作。这样不利于公司的技术积累和员工的身体健康，996等加班方式也会造成工作效率低下等严重问题。但是这些对于出于互联网风口的软件公司的重要程度都比不上快速开发带来的利润。而许多年轻员工和刚毕业的实习生都在通过加班的方式试图提高自己的竞争力，甚至形成比拼加班的局面。而在国内整个行业大小公司都开始加班的情况下，不加班的工作越来越少，不愿加班的人也难以找到合适工作。劳动者一盘散沙，没有有效的工会等组织，个人运用法律手段维权时，在面对大公司时很难胜诉。</p><p>而许多外包公司会搞高强度的封闭开发，经常一个月无休甚至半年无休。这样的外包项目技术含量更低，工作也近似于流水线和重复劳动，加班相比普通公司更为严重。而员工的福利和待遇也更差，由于工作的技术含量低，可替代能力强，劳动者的议价和反抗能力也更弱。</p><p>根据《中华人民共和国劳动法》，超过工作日法定劳动小时的，按照双倍的小时工资支付加班报酬；节假日加班的，按照三倍的小时工资支付加班报酬。以&quot;996&quot;工作制为例，每天早 9 点到岗，一直工作到晚上 9 点，每周工作 6 天&quot;996&quot;工作制的周工作时间为最低 12x6=72 小时，按照劳动法规定，996 工作制下只有拿到当前工资的 2.275 倍，才在经济账上不吃亏。&quot;007&quot;等工作制的每小时收益更低，甚至看起来高收入的互联网行业按照这样的计算方式，每小时平均薪资还会低于其他传统行业。而程序员的岗位多集中在一线二线城市，物价和房价很高，大量员工在距离公司较远的地方租房或者买房，每天上下班通勤时间高达40分钟至1小时。许多人的休息时间不足10小时每天，疲于奔命，不仅难以顾及家庭和身体健康，而且不能学习和技术积累。</p><p>由于缺乏有效的抵抗方式，现在对于加班的控诉和反对仅仅集中在网上爆料和讨论，真正敢于抵制和离职的劳动者少之又少。在这次引人注目的事件火热之后，加班仍旧在继续，整个行业并没有发生实质性变化。早年间就曾在阿里巴巴公司带头抵制加班的资深程序员陈皓表示建议通过法律手段、集体抗议、政府信访等手段维权，但是目前鲜有人能做到离职等涉及到实际行动和自身短期利益的抗议，抱怨只停留在口头。</p><h3 id="可能的解决方案和未来展望"><a class="markdownIt-Anchor" href="#可能的解决方案和未来展望"></a> 可能的解决方案和未来展望</h3><p>在可见的未来，软硬件行业的利润不会大幅增加，裁员和降薪仍将继续。而前几年并未出现如此大规模的反响和抗议，主要是因为许多新兴公司正处于高速发展期，经过几年的加班甚至有希望实现财务自由。在公司上市发展过程中甚至能获得相当丰厚的股份和分红，从不拥有资本的无产者变成公司的股东。而随着移动互联网红利逐渐到头和大公司的垄断形成，程序员的收入和前景都成了一个问题。当初，阿里公司上市后，员工的股票翻了几倍。而小米 2014 年估值达到450亿美元，等到 2019 年年初员工可以卖股票的时候，小米市值缩水至 315 亿美元，股票价值也比 2014 年缩水 30%。在2018年糟糕的股市中，小米已经是过去一年上市公司里表现很好的。蘑菇街直接以稀释员工股权的手段将员工持股价值缩水为 1/25。这个行业早年有大量的风险投资涌入。互联网公司可以在不盈利的情况下利润可以高薪挖人。但整个 2018 年，中国 VC/PE 募资规模 341.12 亿美元，同比骤降 74.59%。靠烧钱做大规模的互联网公司即便上市也要面对盈利问题。裁员成为一个普遍的做法。</p><p>在这种情况下,程序员等劳动群体通过离职、罢工等方式对抗压榨剥削都是不现实的。仅仅通过网上抗议改变不了现状，一部分有能力的技术人员大多选择了外企和出国。这进一步加剧了国内的困境，软硬件行业随着逐渐成熟和垄断的形成，许多岗位变得不再无可替代。随着职位的细分和逐渐稳定的业务，软硬件的各个岗位越来越像富士康的流水线。一方面，互联网给了很多程序员改变命运的机会，另一方面，这样的加班和大城市高昂的房价也直接毁掉了不少人的身体，绝大多数人在40岁后退出。一些发达国家的组织曾谴责一些跨国公司在东南亚和非洲雇佣童工的行为，然而这些童工却在这里获得了比原先更好的生活。类似的问题也发生在中国，富士康历来被称为血汗工厂，但是提供的就业机会和岗位却远好于其他小作坊式的生产车间。在处在转型时期的中国，如何面对这样的选择，是留给每一个劳动者的问题。互联网企业，和整个中国经济一样，已经过了高速发展期，接下来是严格执行法律条约保障劳动者权益共克时艰，抑或是恶性裁员以度过困难， 已经没有调和的余地了。</p><p>而小米公司能够给雷军100亿，却以效益不好为由削减员工股份和待遇；京东的刘强东最近所作所为造成公司重大损失，至今安然无恙，底层员工却以&quot;我们不要性价比不高的人&quot;为由被开除，再不是&quot;兄弟&quot;。同样的事情也发生在各行各业，对于劳动者，目前只有&quot;丢掉幻想，准备斗争&quot;。</p><h3 id="参考文章及网站"><a class="markdownIt-Anchor" href="#参考文章及网站"></a> 参考文章及网站</h3><ol><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tLzk5NmljdS85OTYuSUNVL2Jsb2IvNWE5NzU4Nzk1NjYxYjBmMzhlYTRiOGYyY2IwZjAxNWJmZjkxZDg4NC9SRUFETUUubWQ=" title="https://github.com/996icu/996.ICU/blob/5a9758795661b0f38ea4b8f2cb0f015bff91d884/README.md">ICU/README.md<i class="fa fa-external-link"></i></span><em>. GitHub. 2019-03-30</em></li><li><span class="exturl" data-url="aHR0cHM6Ly85OTYuaWN1" title="https://996.icu">996.icu<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tLzk1NXdsYi85NTUuV0xC" title="https://github.com/955wlb/955.WLB">955.WLB<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly90ZXJtaW51czIwNDkuZ2l0aHViLmlvL2FyY2hpdmUvMjAxOS8wNC8wNC85OTYtSUNVLmh0bWw=" title="https://terminus2049.github.io/archive/2019/04/04/996-ICU.html">好奇心日报有关报道的备份<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvOTk2JUU1JUI3JUE1JUU0JUJEJTlDJUU1JTg4JUI2" title="https://zh.wikipedia.org/wiki/996%E5%B7%A5%E4%BD%9C%E5%88%B6">维基百科：996工作制<i class="fa fa-external-link"></i></span></li><li>–&gt;</li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hexo博客部署和Next主题设置</title>
      <link href="/bd8f/"/>
      <url>/bd8f/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>next主题从5.X版本迁移到7.X，坑很多，慢慢填<br />5.X主题已经停止维护了，6.X和7.X版本交给了开源社区维护，后续改进了不少，这也造成了迁移坑多</p><a id="more"></a><p>注：</p><h2 id="升级7x的大坑"><a class="markdownIt-Anchor" href="#升级7x的大坑"></a> 升级7.X的大坑</h2><p>NexT主题的顺畅更新好像很难，官方不推荐，之前乱改的5.X主题升级7.2分支合并出现问题，一堆warning，索性推倒重来直接新搞一个7.X。</p><p>升级可以直接按照官网方法</p><pre><code> cd themes/next git tag -l git checkout tags/v6.0.1</code></pre><p>spawn failed 问题，删除.deploy_git文件夹并重新部署。<br />_config.yml配置请注意对齐问题</p><p>添加README.md文档可在这个路径下，这样就会显示在首页<br />themes%yourtheme%\source\<span class="exturl" data-url="aHR0cDovL1JFQURNRS5tZA==" title="http://README.md">README.md<i class="fa fa-external-link"></i></span></p><p>为文章设置预览:添加<br /><code>&lt;!-- more --&gt;</code></p><p>插入本地图片推荐hexo-asset-image插件,可以看<span class="exturl" data-url="aHR0cDovL2V0cmQub3JnLzIwMTcvMDEvMjMvaGV4byVFNCVCOCVBRCVFNSVBRSU4QyVFNyVCRSU4RSVFNiU4RiU5MiVFNSU4NSVBNSVFNiU5QyVBQyVFNSU5QyVCMCVFNSU5QiVCRSVFNyU4OSU4Ny8=" title="http://etrd.org/2017/01/23/hexo%E4%B8%AD%E5%AE%8C%E7%BE%8E%E6%8F%92%E5%85%A5%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87/">这里<i class="fa fa-external-link"></i></span></p><p>公式问题：原来采用的hexo-math插件，在hexo-inject插件上有坑，看了看官方推荐，换成<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RoZW1lLW5leHQvaGV4by10aGVtZS1uZXh0L2Jsb2IvbWFzdGVyL2RvY3MvemgtQ04vTUFUSC5tZA==" title="https://github.com/theme-next/hexo-theme-next/blob/master/docs/zh-CN/MATH.md">新的插件<i class="fa fa-external-link"></i></span>。换完记得卸载hexo-inject插件</p><p>设置_config.yml时那个rss如果开启，默认空着就好了，不要填true</p><pre><code>rss: true</code></pre><p>像这样就会报错</p><p>本地搜索一直转圈圈，看到issue里面说是插件的问题，卸载后重装，神奇的好了</p><pre><code> npm uninstall hexo-generator-searchdb --save npm install hexo-generator-searchdb --save</code></pre><p>在Next版本7.20以后（如7.30），hexo-generator-searchdb换成了hexo-generator-search，卸载并安装hexo-generator-search，本地搜索就可以正常使用了，不然会出现只能搜索标题内容的bug</p><pre><code> npm uninstall hexo-generator-searchdb --save npm install hexo-generator-search --save</code></pre><p>似乎那几个背景特效和进度条都会拖慢网页加载速度，不知道什么时候支持原生动画</p><p>报错</p><pre><code> YAMLException: duplicated mapping key at line ...</code></pre><p>这说明你的key重复了，比如在yaml里同时两段</p><pre><code> calendar:      calendar_id: &lt;required&gt; # Your Google account E-Mail      api_key: &lt;required&gt; calendar:      calendar_id: &lt;required&gt; # Your Google account E-Mail      api_key: &lt;required&gt;</code></pre><p>删掉一个calender或者将二者合并就可以了</p><p>next v7.3.0 版本的定制路径改了，比如custom.styl改成了source/_data/styles.styl，参见</p><pre><code>custom_file_path:  #head: source/_data/head.swig  #header: source/_data/header.swig  #sidebar: source/_data/sidebar.swig  #postMeta: source/_data/post-meta.swig  #postBodyEnd: source/_data/post-body-end.swig  #footer: source/_data/footer.swig  #bodyEnd: source/_data/body-end.swig  #variable: source/_data/variables.styl  #mixin: source/_data/mixins.styl  #style: source/_data/styles.styl</code></pre><p>你也可以修改custom_file_path:来自定义定制内容路径。<br />这些内容在git merge的时候需要手动移动</p><p>Next v7.3.0 版本的标签不再支持 Full-image tag</p><pre><code> WARN  Full-image tag is no longer supported.</code></pre><p>使用</p><pre><code> {% fi https://image-url, 图片名称, , 35% %}</code></pre><p>这样的标签无法再进行图片缩放,可以改用html方式</p><pre><code> &lt;img src=&quot;图片地址&quot; width=&quot;50%&quot; height=&quot;50%&quot;  style=&quot;margin: 0 auto;&quot;/&gt; &lt;img width=400 src=&quot; your-image-link&quot; alt=&quot;上海鲜花港 - 郁金香&quot; /&gt;</code></pre><p>或</p><pre><code>&lt;div style=&quot;width: 200px; margin: auto&quot;&gt;![picture name](example.jpeg)&lt;/div&gt;</code></pre><p>或者hexo标签</p><pre><code> {% img [class names] /path/to/image [width] [height] "title text 'alt text'" %}</code></pre><p>另外，fancybox虽然现在还支持，但是据说计划在8.0版移除，所有jQuery有关的东西都在逐步移除，目前已经支持 medium-zoom，可以在设置中开启</p><pre><code> npm install medium-zoom</code></pre><p>“在新版中 quicklink 不建议再使用，最起码不要与 pjax 同时开” 更新,这个在7.4版本以后修复了<br />无法加载 woff 字体资源 404 问题</p><pre><code> Failed to load resource: the server responded with a status of 404 () fontawesome-webfont.woff2:1</code></pre><p>这个找到提示的文件夹 source/font 路径,找到这三个缺失的文件,补上就可以了(可能没有这个文件夹,新建一下就行了)</p><h2 id="更新主题"><a class="markdownIt-Anchor" href="#更新主题"></a> 更新主题</h2><p>这里我使用的Next主题，参考<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RoZW1lLW5leHQvaGV4by10aGVtZS1uZXh0L2Jsb2IvbWFzdGVyL2RvY3MvemgtQ04vREFUQS1GSUxFUy5tZA==" title="https://github.com/theme-next/hexo-theme-next/blob/master/docs/zh-CN/DATA-FILES.md">https://github.com/theme-next/hexo-theme-next/blob/master/docs/zh-CN/DATA-FILES.md<i class="fa fa-external-link"></i></span><br />在7.X以后大的更新还是需要手动处理冲突，但是Next主题将两个_config.yml文件合并搞了一个next.yml，在source/_data底下。这样更新的时候git pull后commit和merge就不用每次手动处理主题的_config.yml冲突了<br />merge之后指定版本</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout tags/v7.4.1</span><br></pre></td></tr></table></figure><p>(可能会有nothing added to commit but untracked files present的提示，运行git clean -f清理不想要的文件，或者加到.gitignore里面, 还要就使用git add . )<br />如果版本指定不对，会有detached HEAD出现，重新指定正确版本。如果还不行，可能git add等出了冲突，看<span class="exturl" data-url="aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC9hZTQ4NTdkMmY4Njg=" title="https://www.jianshu.com/p/ae4857d2f868">这里<i class="fa fa-external-link"></i></span></p><h2 id="升级hexo40"><a class="markdownIt-Anchor" href="#升级hexo40"></a> 升级Hexo4.0</h2><p>今天检查更新的时候看到这样的提示，发现Hexo出4.0了。<br />跑到群里一看，说是什么Hexo 4.0.0 会有巨大的性能提升（相比 Hexo 3.2 生成速度提升 10%，内存占用减少 40%）。闲着没事就升级玩玩吧虽然我这也没几篇文章，生成速度本来也不慢。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">λ npm-upgrade</span><br><span class="line">Checking for outdated dependencies for "D:\zjk\myblog2\package.json"...</span><br><span class="line">[====================] 21/21 100%                                                                                            s can be used.</span><br><span class="line"></span><br><span class="line">New versions of active modules available:</span><br><span class="line"></span><br><span class="line">  hexo                      ^3.9.0   →   ^4.0.0</span><br><span class="line">  hexo-deployer-git         ^1.0.0   →   ^2.0.0</span><br><span class="line">  hexo-generator-archive    ^0.1.5   →   ^1.0.0</span><br><span class="line">  hexo-generator-category   ^0.1.3   →   ^1.0.0</span><br><span class="line">  hexo-generator-feed       ^1.2.2   →   ^2.0.0</span><br><span class="line">  hexo-generator-index      ^0.2.1   →   ^1.0.0</span><br><span class="line">  hexo-generator-tag        ^0.2.0   →   ^1.0.0</span><br><span class="line">  hexo-renderer-ejs         ^0.3.1   →   ^1.0.0</span><br><span class="line">  hexo-renderer-stylus      ^0.3.3   →   ^1.1.0</span><br><span class="line">  hexo-server               ^0.3.3   →   ^1.0.0</span><br><span class="line"></span><br><span class="line">? Update "hexo" in package.json from ^3.9.0 to ^4.0.0? (Use arrow keys)</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Yes</span></span><br><span class="line">  No</span><br><span class="line">  Show changelog</span><br><span class="line">  Ignore</span><br><span class="line">  Finish update process</span><br></pre></td></tr></table></figure><p>直接升级</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo@4.0.0</span><br></pre></td></tr></table></figure><p>更新，现在hexo-cli包也上hexo4.0了，使用官网的那个带cli的命令就行了<br />升级之后试一下’hexo generate’</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INFO  Files loaded in 1.94 s</span><br><span class="line">INFO  140 files generated in 3.07 s</span><br></pre></td></tr></table></figure><p>好像是快了点<br />等等，更新了Hexo4.0以后下面的分页突然变成这个样子了，我先报个修<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20191016094709.png" alt="bug" style="zoom:80%;" /></p><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20191016095007.png" alt="bug" style="zoom:80%;" /><p>找到了问题了，已经在<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvL2lzc3Vlcy8zNzI5" title="https://github.com/hexojs/hexo/issues/3729">issue#3729<i class="fa fa-external-link"></i></span>里解决了<br />现在直接升级到master分支就行了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/next</span><br><span class="line">git pull https://github.com/theme-next/hexo-theme-next master</span><br><span class="line">git checkout master</span><br></pre></td></tr></table></figure><p>看到显示这样就行了</p><blockquote><p>Already on ‘master’<br />Your branch is up to date with ‘origin/master’.</p></blockquote><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/foot.png" alt="Picture" style="zoom:80%;" />好了，开心。目前没看到其他bug了，请放心更（cai）新（keng）<p>更新，现在最新的master报这样的错：</p><pre><code> ERROR Cannot read property 'replace' of null</code></pre><p>还有这样的错</p><pre><code> ERROR Process failed: layout/tag.swig</code></pre><p>换到nunjucks分支，也有这个问题，先切到contrib分支里面，nunjucks那块正在施工，大家先用着旧版，我已经报修了。劳模mimi同学已经在修了（19.10.18）<br />更新，感谢劳模Mimi同学，已经修了<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RoZW1lLW5leHQvaGV4by10aGVtZS1uZXh0L3B1bGwvMTIyNg==" title="https://github.com/theme-next/hexo-theme-next/pull/1226">Migrate to Nunjucks [3] #1226<i class="fa fa-external-link"></i></span></p><h2 id="绑定域名并托管到netlify"><a class="markdownIt-Anchor" href="#绑定域名并托管到netlify"></a> 绑定域名并托管到netlify</h2><p>先到namecheap或者namesilo等网站找个中意的域名，不介意在天朝备案腾讯和阿里云买也可以，不愿意花钱也可以申请个免费的。我这里0.99刀一年优惠买了个<a href="https://zhangjk98.xyz/">zhangjk98.xyz</a></p><p>在netlify的domian setting里找到Custom domains按照提示来，可以参考这个<span class="exturl" data-url="aHR0cHM6Ly9tZWRpdW0uY29tL0BQdWRnZTE5OTYvMjAxOC0wMS0wMi03MDEzZWRkYzQxM2M=" title="https://medium.com/@Pudge1996/2018-01-02-7013eddc413c">使用 Netlify 托管个人网站 详细步骤<i class="fa fa-external-link"></i></span></p><h2 id="google-search-console-验证和配置"><a class="markdownIt-Anchor" href="#google-search-console-验证和配置"></a> Google Search Console 验证和配置</h2><p>这里以netlify为例，namesilo等域名商也可进行验证<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20190830141615.png" alt="dns验证" style="zoom:80%;" /><br />有自己的域名可以直接选择domian验证，看<span class="exturl" data-url="aHR0cHM6Ly93d3cud29ndWlkZS5jb20vYXJjaGl2ZXMvNDg2MS5odG1s" title="https://www.woguide.com/archives/4861.html">这里<i class="fa fa-external-link"></i></span><br />打开netlify，找到dns setting，点击下方add new record 按钮<br /><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20190830142257.png" alt="添加验证" /><br />value就填谷歌给你的那个值，等几分钟就好了</p><h2 id="美化"><a class="markdownIt-Anchor" href="#美化"></a> 美化</h2><p>设置footer跳动的红心<br />在next配置里找到icon 设成下面这个样子</p><pre><code>   icon:       # Icon name in Font Awesome. See: https://fontawesome.com/v4.7.0/icons/      # `heart` is recommended with animation in red (#ff0000).      name: heartbeat      # If you want to animate the icon, set it to true.      animated: true      # Change the color of icon, using Hex Code.      color: &quot;#FF0000&quot;</code></pre><p>自定义字体: _config.yml里找到</p><pre><code> font:      enable: true</code></pre><h2 id="使用caniuse测试浏览器兼容性"><a class="markdownIt-Anchor" href="#使用caniuse测试浏览器兼容性"></a> 使用caniuse测试浏览器兼容性</h2><iframe data-feature="fetch" src="https://caniuse.bitsofco.de/embed/index.html?feat=fetch&periods=current&accessible-colours=false" frameborder="0" width="100%" height="400px"></iframe><iframe data-feature="sharedarraybuffer" src="https://caniuse.bitsofco.de/embed/index.html?feat=sharedarraybuffer&periods=current&accessible-colours=false" frameborder="0" width="100%" height="400px"></iframe><iframe data-feature="link-rel-modulepreload" src="https://caniuse.bitsofco.de/embed/index.html?feat=link-rel-modulepreload&periods=past_1,past_2,past_3,past_4,past_5&accessible-colours=false" frameborder="0" width="100%" height="400px"></iframe><h2 id="使用yarn管理npm包和travis-ci自动化部署"><a class="markdownIt-Anchor" href="#使用yarn管理npm包和travis-ci自动化部署"></a> 使用yarn管理npm包和travis-ci自动化部署</h2><p>可选，本地生成速度够快或者不嫌麻烦也没太有必要上travis-ci<br />不愿意折腾就直接本地生成部署就好了，ci反而慢，而且就想发个博客的话完全没有必要！</p><p>今天经人提醒，hexo s 是动态编译的，本地预览直接hexo s 就行了，不用先 hexo g 生成</p><h2 id="插件选择"><a class="markdownIt-Anchor" href="#插件选择"></a> 插件选择</h2><h3 id="踩坑"><a class="markdownIt-Anchor" href="#踩坑"></a> 踩坑</h3><p>lazyload插件、fancybox插件(改用mediumzoom)、pjax插件、fliter-optimizer插件（经常跟很多地方冲突）等建议慎用</p><h3 id="给mardown添加论文脚注效果"><a class="markdownIt-Anchor" href="#给mardown添加论文脚注效果"></a> 给Mardown添加论文脚注效果</h3><p>安装插件：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-reference --save</span><br></pre></td></tr></table></figure><p>注释测试<sup id="fnref:1"><a href="#fn:1" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="这是一个注释测试">[1]</span></a></sup></p><h3 id="使用cloudflare和github-pages"><a class="markdownIt-Anchor" href="#使用cloudflare和github-pages"></a> 使用Cloudflare和Github Pages</h3><p>由于Netlify访问速度实在太慢（居然比Github Pages还慢），本来以为只是在国内慢，没想到收到一封邮件，说：</p><p>然后我感觉不对劲，拿ping工具和网络测试工具（<span class="exturl" data-url="aHR0cHM6Ly9ndG1ldHJpeC5jb20=" title="https://gtmetrix.com">https://gtmetrix.com<i class="fa fa-external-link"></i></span>）看了一下，又查了一下，原来不仅国内慢啊，国外也比Github Pages慢啊<br />Netlify居然还说“Why You don’t need clcoudflare”, 我。。。</p><img width=450 data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/net5xx.png" alt="Picture" /><p>换回GitHub Pages和cloudlfare，还有CNAME Flatterning, 不需要备案的免费CDN也就cloudflare了。<br />ping检测结果终于不是一片飘红了。巨硬收购Github后说要建设Github国内的服务器，但是它自家的Azure、bing、onedrive都整天抽风，感觉指望不上了。</p><img width=450 data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/ping.png" alt="Picture" /><p>现在唯一的问题就是图床用的Github，已经弃疗，国内速度不管了。</p><p>可能的小坑：开启coludflare的 rocket loader 功能后会出错（这是个实验性的功能），Next主题会变成一片空白，一直加载不出来。关掉就好了。</p><h2 id="提高加载速度"><a class="markdownIt-Anchor" href="#提高加载速度"></a> 提高加载速度</h2><p>在<span class="exturl" data-url="aHR0cHM6Ly9ndG1ldHJpeC5jb20v" title="https://gtmetrix.com/">GTmetrix<i class="fa fa-external-link"></i></span>上看到我这得分才70多<br />发现首页两个图片占了很多，把两个图整成webp格式的，然后再调整一下大小(这里我用的这个<span class="exturl" data-url="aHR0cHM6Ly9jbG91ZGNvbnZlcnQuY29tLw==" title="https://cloudconvert.com/">网站<i class="fa fa-external-link"></i></span>)。这里抛弃safari用户了<br />(cloudflare的business是有这个功能的，但是我用不起)<br />然后把velocityjs的那些动画效果关了（这个早就想关了，和其他组件各种冲突）</p><p>虽然拉黑了百度<sup id="fnref:2"><a href="#fn:2" rel="footnote"><span class="hint--top hint--error hint--medium hint--rounded hint--bounce" aria-label="加了一个这个">[2]</span></a></sup>，但是发现我的流量统计还是有一大半是国内访问，为了照顾一下国内速度，还是用了Cloudflare的CDN<br />大多数时候，国内 cloudflare &gt; github pages &gt; netlify (如果不用个人域名，用netlify的二级域名会比XXX.github.io快一点)。<span class="exturl" data-url="aHR0cDovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20=" title="http://raw.githubusercontent.com">raw.githubusercontent.com<i class="fa fa-external-link"></i></span> 是基本废了，想作为国内图床并不可行<br />（备案是不可能备案的）</p><h2 id="可能的问题请参考"><a class="markdownIt-Anchor" href="#可能的问题请参考"></a> 可能的问题请参考</h2><p><span class="exturl" data-url="aHR0cHM6Ly9zaHV5ZWxpZmUuZ2l0aHViLmlvL3Bvc3QvSGV4byVFNSVCOCVCOCVFOCVBNyU4MSVFOSU5NyVBRSVFOSVBMiU5OCVFOCVBNyVBMyVFNSU4NiVCMyVFNiU5NiVCOSVFNiVBMSU4OC8=" title="https://shuyelife.github.io/post/Hexo%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">Hexo常见问题解决方案<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly9kcDJweC5jb20vMjAxOS8wNC8yNS9oZXhvLW1laWh1YS8=" title="https://dp2px.com/2019/04/25/hexo-meihua/">hexo主题美化<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLnlsZWFvLmNvbS8yMDE4LzA5MDEvaGV4by1uZXh0JUU0JUI4JUJCJUU5JUEyJTk4JUU0JUI4JThCJUU3JTlBJTg0JUU3JUJFJThFJUU1JThDJTk2Lmh0bWw=" title="https://blog.yleao.com/2018/0901/hexo-next%E4%B8%BB%E9%A2%98%E4%B8%8B%E7%9A%84%E7%BE%8E%E5%8C%96.html">hexo-next主题下的美化<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvLw==" title="https://hexo.io/">hexo官网<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0Lm9yZy9kb2NzLw==" title="https://theme-next.org/docs/">next文档(6.0以后)<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly9oZXhvLWd1aWRlLnJlYWR0aGVkb2NzLmlv" title="https://hexo-guide.readthedocs.io">hexo指南<i class="fa fa-external-link"></i></span> 从node.js操作到next主题，很详细，自己折腾可以参考,也记录了很多坑，但是不全，非官方指南，都是个人博客的坑。他还写了别的<span class="exturl" data-url="aHR0cHM6Ly93d3cuemh1amlhbi50ZWNoL3Bvc3RzL2QyMmFiOTY3Lmh0bWw=" title="https://www.zhujian.tech/posts/d22ab967.html">指南<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RoZW1lLW5leHQvYXdlc29tZS1uZXh0I3BsdWdpbnM=" title="https://github.com/theme-next/awesome-next#plugins">https://github.com/theme-next/awesome-next#plugins<i class="fa fa-external-link"></i></span>Next主题的插件，7.X版本之后越来越多的功能都剥离出来做成了插件, 使用时要npm install 一下，不能会直接在设置里设为true<br /><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0xlYXJuU2hhcmUvTGVhcm5pbmctTWFya2Rvd24vdHJlZS92Mg==" title="https://github.com/LearnShare/Learning-Markdown/tree/v2">markdown教程<i class="fa fa-external-link"></i></span></p><h2 id="注释"><a class="markdownIt-Anchor" href="#注释"></a> 注释</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/gh/lurongkai/anti-baidu/js/anti-baidu-latest.min.js"</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><div id="footnotes"><hr><div id="footnotelist"><ol style="list-style: none; padding-left: 0; margin-left: 40px"><li id="fn:1"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">1.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">这是一个注释测试<a href="#fnref:1" rev="footnote"> ↩</a></span></li><li id="fn:2"><span style="display: inline-block; vertical-align: top; padding-right: 10px; margin-left: -40px">2.</span><span style="display: inline-block; vertical-align: top; margin-left: 10px;">加了一个这个<a href="#fnref:2" rev="footnote"> ↩</a></span></li></ol></div></div>]]></content>
      
      
      <categories>
          
          <category> 博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> bug </tag>
            
            <tag> Next主题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AR模型谱估计的几种算法比较</title>
      <link href="/fcd4/"/>
      <url>/fcd4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>Burg法,L-D法等</p><a id="more"></a><h3 id="ar自回归模型"><a class="markdownIt-Anchor" href="#ar自回归模型"></a> AR（自回归）模型</h3><p>AR模型适用于平稳、宽平稳的随机序列，是一个差分方程模型。<br />可以认为是一个带微扰的马尔可夫过程。一个最简单的例子是<span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vc3VwZXItemhhbmctODI4L3AvNzEwNjk3MC5odG1s" title="https://www.cnblogs.com/super-zhang-828/p/7106970.html">单摆<i class="fa fa-external-link"></i></span>。一些不满足平稳条件的事件，AR模型的分析效果是很差的（如股票预测）</p><p>从时域讨论稳定参见<span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8zNTA5MzgzNQ==" title="https://zhuanlan.zhihu.com/p/35093835">时间序列的自回归模型—从线性代数的角度来看<i class="fa fa-external-link"></i></span>, 当Y-W方程的系数矩阵正定时，传递函数的极点在单位圆内，模型稳定。</p><h3 id="ar模型及功率谱的估计"><a class="markdownIt-Anchor" href="#ar模型及功率谱的估计"></a> AR模型及功率谱的估计</h3><p>主要有前向预测的L-D法，Burg法，Marple法，矩阵分解等算法，此外还有极大似然估计等估计方法。<br />Burg算法和Marple算法都是求前向预测和后向预测误差之和最小，Burg算法较为常用。Marple算法很容易受噪声影响导致不稳定。</p><p>Burg算法对于高斯随机过程等价于最大熵算法</p><p>AR功率谱估计可以突破较短序列由于序列长度N过短对于频率分辨率的限制。经典谱估计的频率分辨率约为</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>f</mi><mo>=</mo><mfrac><mrow><mi>f</mi><mi>s</mi></mrow><mi>N</mi></mfrac></mrow><annotation encoding="application/x-tex">\Delta f={fs \over N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.0574399999999997em;vertical-align:-0.686em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span></p><p>AR法通过前向和后向预测外推，突破了短序列长度N的限制（N点长序列相当于长序列加窗，频率分辨率受限于主瓣宽度）。但是AR法仍然无法突破奈奎斯特采样定理<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mi>f</mi><mi>s</mi></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{fs}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.277216em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322159999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>的限制。要想突破采样定理，只有在特定的条件下采用<span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8yMjQ0NTMwMg==" title="https://zhuanlan.zhihu.com/p/22445302">压缩感知<i class="fa fa-external-link"></i></span>等方法改变采样方式，如磁共振重建。</p><p>几种功率谱估计的比较</p><ol><li>算法复杂度<br />L-D 算法计算量约为直接解Y-W方程的一半<br />Marple算法复杂，计算量大</li><li>效果<br />L-D算法<br />1)一定收敛<br />2误差较大；<br />3)预测均方随阶数增加而减小<br />4)可能出现谱线分裂<br />5)受阶数影响大，阶数过高有伪峰。<br />Burg算法<br />1)在有限长情况下好于前向预测<br />2)对于高斯随机信号，AR谱估计和最大熵算法效果相同<br />3)易受初相的影响产生频率偏移<br />Marple算法<br />1)通常性能最好，分辨率最高<br />2)可能会不稳定<br />3)基本上克服了谱线分裂、频率偏移和出现伪峰等缺点</li></ol><h3 id="函数包"><a class="markdownIt-Anchor" href="#函数包"></a> 函数包</h3><p>这些算法基本都有成熟的工具包<br />比如matlab中：</p><ol><li>pyulear.m  用AR模型的自相关法估计信号的功率谱，其基本调用格式是：<br />[Px,  F] = pyulear(x, order, Nfft, Fs)</li><li>pburg.m  用AR模型的Burg算法估计信号的功率谱，调用格式与pyulear类似</li><li>pcov.m  用AR模型方差方法估计信号的功率谱</li><li>pmcov.m  用AR模型的改进的方差方法估计信号的功率谱</li><li>pmem.m  最大熵功率谱估计，其估计性能类似pyulear</li><li>pmusic.m  用自相关矩阵分解的MUSIC算法估计信号的功率谱</li><li>peig.m  用自相关矩阵分解的特征向量<br />法估计信号的功率谱，其基本调用格式是：<br />[Px,  F] = peig(x, order, Nfft, Fs),<br />[Px, F，V, E] = peig(x, order, Nfft, Fs),<br />x :信号向量，order:模型的阶次，Fs:抽样频率，Nfft:对x作FFT时的长度。Px:估计出的功率谱，F是频率轴坐标。对peig, 输出的E 是由自相关矩阵的特征值所组成的向量，V是由特征向量组成的矩阵。V的列向量张成了噪声子空间，V的行数减去列数即是信号子空间的维数。</li><li>直接得到模型有aryulear、arburg等函数，用法：<br />arburg(x,order)</li></ol>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
          <category> 数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> DSP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>喜欢的东东</title>
      <link href="/b27a/"/>
      <url>/b27a/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>My Collection</p><a id="more"></a><img data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20190916114948.png"/><h2 id="关于入侵物种的题外话"><a class="markdownIt-Anchor" href="#关于入侵物种的题外话"></a> 关于入侵物种的题外话</h2><p>这是题外话，可以直接跳过本节看后面的</p><p>首先讲一句题外话，流浪猫、流浪狗是危害相当大的入侵物种，威胁一点不比红耳龟、罗非、克氏原螯虾、食蚊鱼小，可以参见<span class="exturl" data-url="aHR0cHM6Ly93d3cubmF0dXJlLmNvbS9hcnRpY2xlcy9uY29tbXMyMzgw" title="https://www.nature.com/articles/ncomms2380">关于散养猫的nature主页文章<i class="fa fa-external-link"></i></span><br />应该<font size="4">直接扑杀或关在室内收养</font><br />我反对领养放归绝育等所谓TNR行为，这就是对生态十分不负责任的绥靖和伪善，微博上一些所谓科普圈大v，怕招惹猫奴狗奴掉粉影响做生意，居然支持绝育放归，反对扑杀，根本配不上做科普博主和环保人士。<br />（流浪猫问题可以看看前百度猫吧吧主<span class="exturl" data-url="aHR0cHM6Ly93ZWliby5jb20vcC8xMDA1MDUyMTMyNTQ4MTcw" title="https://weibo.com/p/1005052132548170">火巳<i class="fa fa-external-link"></i></span>的态度。）<br /><br><font size="3">生态 &gt;&gt; 单一物种保护 &gt;&gt; 动物福利</font><br/><br />比如，某开水，某博物杂志。<br />博物12年之前还算不错，后来就掉钱眼里了。连中医药问题都不敢说，连谭医生都敢怼红毛，你一个科普大v啥也不敢说，杂志本身质量也断崖式下跌，原来好歹有点靠谱内容，现在书里网上全程插科打诨卖萌，已经不值得关注了，再见</p><p>开水经常洗地，不过这在微博似乎是一个广为人知的事情，这里不多说了。当然果壳那里有洗地机成吨出没，大家笑一笑就好。还有youtube搬运工刘dark先生，咳咳。<br />大家还是要擦亮眼睛，人心不古啊，科普juan的姿势水平真是令人捉急。</p><p>入侵物种等一系列头大的问题，以后有空专门写一篇吧，这里不多讲了。</p><p><font size="3">环境问题可以看看<span class="exturl" data-url="aHR0cHM6Ly9ib29rZG93bi5vcmcveXVmcmVlL2hqaGJiLw==" title="https://bookdown.org/yufree/hjhbb/">环境黑板报<i class="fa fa-external-link"></i></span></font> 科普讲堂系列文章不错, 生化环材的就业和现状也可以参考</p><h2 id="动物们"><a class="markdownIt-Anchor" href="#动物们"></a> 动物们</h2><h3 id="网站"><a class="markdownIt-Anchor" href="#网站"></a> 网站</h3><ol><li><span class="exturl" data-url="aHR0cDovL3d3dy5jcWgyby5jb20v" title="http://www.cqh2o.com/">两江中国原生论坛<i class="fa fa-external-link"></i></span>  国内最大的原生鱼网站,饿老大的网站，十多年了，也没啥广告和捐款，全靠个人撑着，算是比较良心的了，十年前感觉非常热闹，现在比较冷清了(现在贴吧和BBS基本都在没落，大势所趋啊，没办法，中昆论坛等大站都关了，可惜)。论坛几经改版，03年至今的老网虫数据都还留着，目前新版还在建，但是今年经常加载很慢。</li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuam9yaXNkZXJhZWR0LmJlLw==" title="https://www.jorisderaedt.be/">https://www.jorisderaedt.be/<i class="fa fa-external-link"></i></span> 一位大触画家，<span class="exturl" data-url="aHR0cHM6Ly93d3cuam9obmJhbm92aWNoZmluZWFydC5jb20v" title="https://www.johnbanovichfineart.com/">https://www.johnbanovichfineart.com/<i class="fa fa-external-link"></i></span> 另一位</li><li><span class="exturl" data-url="aHR0cDovL21pY3Jvc2N1bHB0dXJlLm5ldC9tYXJpb24tZmxpZ2h0bGVzcy1tb3RoLmh0bWw=" title="http://microsculpture.net/marion-flightless-moth.html">http://microsculpture.net/marion-flightless-moth.html<i class="fa fa-external-link"></i></span> 各种高清昆虫照</li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuaW5hdHVyYWxpc3Qub3JnLw==" title="https://www.inaturalist.org/">iNaturalist<i class="fa fa-external-link"></i></span>  一个物种鉴定社区，大佬云集</li><li><span class="exturl" data-url="aHR0cDovL3d3dy5hbXBoaWJpYWNoaW5hLm9yZy8=" title="http://www.amphibiachina.org/">中国两栖类<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuZGF2aWRoZXJhc2ltdHNjaHVrLmNvbS8=" title="https://www.davidherasimtschuk.com/">David Herasimtschuk<i class="fa fa-external-link"></i></span> 北美水生物，<span class="exturl" data-url="aHR0cDovL3d3dy5pc2FhY3N6YWJvLmNvbS8=" title="http://www.isaacszabo.com/">http://www.isaacszabo.com/<i class="fa fa-external-link"></i></span>还有这个</li></ol><h3 id="文章"><a class="markdownIt-Anchor" href="#文章"></a> 文章</h3><ol><li><span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20veXVhbnhpYQ==" title="https://zhuanlan.zhihu.com/yuanxia">遠夏的动物园<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vY18xOTM4MDc0OTM=" title="https://zhuanlan.zhihu.com/c_193807493">案锦水草<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cud2VpYm8uY29tLzYxNDg4ODM3NTgvSDZodFFFcUZ3" title="https://www.weibo.com/6148883758/H6htQEqFw">发癫Neon的大鱼美图系列<i class="fa fa-external-link"></i></span> 基本都是海鱼(其实看上去并不怎么美，小声bb)</li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cud2VpYm8uY29tL3AvMTAwNTA1MjAyMTAxODQ5NS93ZW56aGFuZw==" title="https://www.weibo.com/p/1005052021018495/wenzhang">cheilinus的原生鱼/观赏鱼文章<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly93ZWliby5jb20vcC8xMDA1MDU1ODM1MjYxMTk1L3dlbnpoYW5n" title="https://weibo.com/p/1005055835261195/wenzhang">FabuLous楼长的文章<i class="fa fa-external-link"></i></span>  爬行动物及爬宠</li><li>已删除</li><li>公众号 灵囿志异 灵鳖记等文章</li></ol><!-- 8. [几篇原生鱼缸~~池塘~~简易攻略文章](https://www.weibo.com/p/1005055620561913/wenzhang) --><h3 id="人们"><a class="markdownIt-Anchor" href="#人们"></a> 人们</h3><p>鸣虫子 –  蟋蟀和螽斯<br />鸟人bridman – 鰟鮍与鱊的高玩 饿乌龟、夏青华等，以及chelinius，ALL-10 等<br />王蛐蛐<br />郑声，黑肉<br /><span class="exturl" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS96aGFuZ19tb08=" title="https://twitter.com/zhang_moO">张墨<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU1JTk4JTg5JUU5JTgxJTkzJUU3JTkwJTg2JUU0JUI4JUFEJUU1JTlDJThCJUU0JUJGJTlEJUU4JTgyJUIy" title="https://zh.wikipedia.org/wiki/%E5%98%89%E9%81%93%E7%90%86%E4%B8%AD%E5%9C%8B%E4%BF%9D%E8%82%B2">嘉道理中国保育<i class="fa fa-external-link"></i></span><br />猫盟</p><h2 id="不务正业的键盘"><a class="markdownIt-Anchor" href="#不务正业的键盘"></a> 不务正业的键盘</h2><h3 id="书"><a class="markdownIt-Anchor" href="#书"></a> 书</h3><ol><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2p1c3RqYXZhYy9mcmVlLXByb2dyYW1taW5nLWJvb2tzLXpoX0NOL2lzc3Vlcw==" title="https://github.com/justjavac/free-programming-books-zh_CN/issues">合集<i class="fa fa-external-link"></i></span></li><li>微服务设计</li></ol><h3 id="网站-2"><a class="markdownIt-Anchor" href="#网站-2"></a> 网站</h3><ol><li><span class="exturl" data-url="aHR0cHM6Ly93d3cud29sZnJhbWFscGhhLmNvbS8=" title="https://www.wolframalpha.com/">WolframAppha<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly9naXQtc2NtLmNvbS9ib29rL2VuL3Yy" title="https://git-scm.com/book/en/v2">git教程<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cDovL3d3dy41Mm5scC5jbi8=" title="http://www.52nlp.cn/">52自然语言处理<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cucHRhYmxlLmNvbS8=" title="https://www.ptable.com/">元素周期表<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly9pbmthcm5hdGUuY29tLw==" title="https://inkarnate.com/">在线地图绘制<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cDovL2RyYXcuaW8=" title="http://draw.io">draw.io<i class="fa fa-external-link"></i></span></li></ol><h2 id="其他"><a class="markdownIt-Anchor" href="#其他"></a> 其他</h2><ol><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuY2hhbmdoYWkub3JnLw==" title="https://www.changhai.org/">卢昌海的主页<i class="fa fa-external-link"></i></span> （本人完全不赞成其政治立场）</li><li><span class="exturl" data-url="aHR0cDovL3d3dy5qb3lmdWxwaHlzaWNzLm5ldA==" title="http://www.joyfulphysics.net">乱讲区<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly9jaGFvbGkuY2x1Yi8=" title="https://chaoli.club/">超理论坛<i class="fa fa-external-link"></i></span></li><li><span class="exturl" data-url="aHR0cDovL3d3dy5mYW5nbGl1ZmFuZy5jb20v" title="http://www.fangliufang.com/">方流芳老师<i class="fa fa-external-link"></i></span></li><li>勃学系列：<span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL2NvbGxlY3Rpb24vMTA3MzM2NTcx" title="https://www.zhihu.com/collection/107336571">Yesterday Once More<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3F1ZXN0aW9uLzMwOTc0NDg1Ni9hbnN3ZXIvNTgwMzY2ODIw" title="https://www.zhihu.com/question/309744856/answer/580366820">文章<i class="fa fa-external-link"></i></span><br />bobo在blogger和sina博客以及人人网都有遗迹，再见，再问zs，下辈子学cs，我去浅色床单上哭了</li><li><span class="exturl" data-url="aHR0cHM6Ly9qdXN0Z2V0Zmx1eC5jb20v" title="https://justgetflux.com/">f.lux<i class="fa fa-external-link"></i></span></li><li>cryptomator 一个开源的加密网盘</li></ol><h2 id="音游文娱"><a class="markdownIt-Anchor" href="#音游文娱"></a> 音游文娱</h2><ol><li>Hollow Knigkt 不再有梦</li><li>kr系列塔防（3&gt;1≥2）（不包括kr4）</li><li><span class="exturl" data-url="aHR0cHM6Ly9nYWxsZXJ5LmRyeWNhY3R1cy5jb20=" title="https://gallery.drycactus.com">Poly Bridge Gallery<i class="fa fa-external-link"></i></span> 造桥游戏高分展览</li><li><span class="exturl" data-url="aHR0cHM6Ly9uY2FzZS5tZS90cnVzdC8=" title="https://ncase.me/trust/">信任的进化<i class="fa fa-external-link"></i></span></li></ol><h2 id="蜀道难"><a class="markdownIt-Anchor" href="#蜀道难"></a> 蜀道难</h2><h3 id="网站-3"><a class="markdownIt-Anchor" href="#网站-3"></a> 网站</h3><ol><li><span class="exturl" data-url="aHR0cHM6Ly9zY2lvd2wueHl6" title="https://sciowl.xyz">https://sciowl.xyz<i class="fa fa-external-link"></i></span> 适合萌新(比如我)的上网教程</li><li><span class="exturl" data-url="aHR0cHM6Ly9tYXRyaXgub3JnLw==" title="https://matrix.org/">https://matrix.org/<i class="fa fa-external-link"></i></span> matrix，去中心化的聊天软件，不想自己搭可以用<span class="exturl" data-url="aHR0cHM6Ly9hYm91dC5yaW90LmltLw==" title="https://about.riot.im/">riot<i class="fa fa-external-link"></i></span> 注册不需要邮箱或者手机</li><li><span class="exturl" data-url="aHR0cHM6Ly9qb2lubWFzdG9kb24ub3JnLyNnZXR0aW5nLXN0YXJ0ZWQ=" title="https://joinmastodon.org/#getting-started">长毛象<i class="fa fa-external-link"></i></span> 去中心化的社交网络，功能跟twitter差不多</li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cudG9ycHJvamVjdC5vcmcv" title="https://www.torproject.org/">tor<i class="fa fa-external-link"></i></span> 洋葱路由，不多说了</li><li><span class="exturl" data-url="aHR0cHM6Ly90ZXJtaW51czIwNDkuZ2l0aHViLmlvLw==" title="https://terminus2049.github.io/">端点星<i class="fa fa-external-link"></i></span> 和谐文章备份</li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0xhbXBTY3JpcHQvcWRhaWx5X2JhY2t1cA==" title="https://github.com/LampScript/qdaily_backup">好奇心日报的备份<i class="fa fa-external-link"></i></span> 整改前的好奇心还是有点东西的，可惜啊</li><li>sci-hub 赞美sci-hub， Die Internationale！</li></ol><h3 id="人"><a class="markdownIt-Anchor" href="#人"></a> 人</h3><p>编程随想</p><h2 id="炼丹炉"><a class="markdownIt-Anchor" href="#炼丹炉"></a> 炼丹炉</h2><p>等待更新</p>]]></content>
      
      
      <categories>
          
          <category> 我 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 花鸟鱼虫 </tag>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>皇后大道东</title>
      <link href="/93c2/"/>
      <url>/93c2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>知己一声拜拜远去这都市…<br />梦醒,却不是2008</p><div style='display: none'><h4 id="皇后大道中人民如潮涌"><a class="markdownIt-Anchor" href="#皇后大道中人民如潮涌"></a> 皇后大道中人民如潮涌</h4><p>皇后大道中为何无皇宫？</p><a id="more"></a><p>七十年前收惶恐是顺手的事，执意攻台却对港澳装聋作哑，不收，故意留个洗钱和走私的通道<br />惶恐至今仍是大陆重要的的洗钱出逃通道<br />惶恐高房价高地租早就榨干了平民，倒是没见诸位市民群情激愤搞出这么大的抵制。<br />这次一群人跑出来，自由民主神圣事，骗了无涯过客，这才过去几年呐，都忘啦<sub>不长记性</sub><br />反了反了，走错了，南辕北辙<br />惶恐金融地位的衰落目前看来早晚的事，金融中心地位不保<br />散步卵用没有，雷声大雨点小<br />痴人说梦<br />都远不如集体抛港币做空港股之类的来得实在<br />然而<br />真爱故土的，被视为乱臣贼子，而背弃故土，随时准备出逃的，被视为爱国正能量，神州如此，惶恐也是如此。走上街头的，其实坚守惶恐的基本盘，而高调爱国，呼吁稳定的，则是挤兑港币的急先锋<br />汇率是个大杀器，现在是，将来也是，软妹币撑不住前都是<br />调控，又叫操纵市场</p><h4 id="衰兰送客咸阳道天若有情天亦老"><a class="markdownIt-Anchor" href="#衰兰送客咸阳道天若有情天亦老"></a> 衰兰送客咸阳道，天若有情天亦老</h4><p>君子之泽，五世而斩，现在时间过的快，可能只需要十年。<br />苏联有笑话传世，而此地见白色荒漠，一眼看去，403forbidden</p><p>贡当斯：</p><blockquote><p>“让我们想像一个靠几代人的勤奋劳动富裕起来、在科学和艺术方面都取得了巨大进步的文明民族。如果权力在思想表达和精神活动方面设置障碍，那个民族在一段时间内，还可以靠它过去的老本生活，也就是说，靠继承下来的文明成果生活。但是将不再有观念的更新；它们的再生能力将会枯竭。用不了几年，虚荣心就会取代对知识的热爱。那些想起了以往文学作品所赢得的荣耀和敬意的诡辩家，将会致力于写作徒有其表的同类作品。他们会以自己的作品反对其他作品表现出的优点；而且只要哪里还有自由主义原则的踪迹，哪里就会出现某种文学运动，出现反对这些作品和原则的斗争。但这种运动本身也是已被摧毁的自由的遗产。一俟这种自由的最后痕迹和最后传统销声匿迹，战斗就会结束，因为作战者将再也看不见任何敌人，而胜利者和被征服者会同样保持沉默。</p></blockquote><blockquote><p>的确，谁知道权力会不会断定强制沉默是有好处的？实际上，它们不愿意看到逝去的记忆得到复活，放弃的怀疑再被挑起。它们将压制过于热情的追随者，就像曾经压制它们的敌人一样。它们会禁止所有人以人类为主题进行写作，就像某个虔诚的政府禁止任何人谈论上帝，无论坏话好话都不许说一样。它们会宣布人们在哪些问题上可以使用自己的头脑：它会获准自我消遣，但要处在监督之下，并在规定的范围之内；如果它试图偏离对它的限制，如果它拒不与自己的神圣起源断绝关系，继续从事受到禁止的思考，如果它鲁莽地认为，自己的最高贵的目的不是对琐碎题目做精巧的修饰，不是圆滑的阿谈奉承，不是毫无内容的夸夸其谈，而是上天和它的本性要它成为一个永恒的法庭，在这里对一切事物进行分析、检验并做出最终的判断，它就会惹来诅咒。因而，名副其实的思想历程肯定会被终止。文明的一代将逐渐消失；随之而来的一代，由于看到追求知识没有任何好处，甚至从中看到了威胁，将会不可挽回地远离知识的追求。</p></blockquote><blockquote><p>你会说，人的头脑仍然可以在消遣文学中发光，可以专注于精密的自然科学，还可以致力于工艺。然而这都是废话。大自然在创造人类的时候并没有向权力请教；它规定我们所有的天赋应当紧密地结合在一起，其中任何一个受到压制都会损害其他。甚至对消遣文学、科学和工艺而言，独立思考就像空气对自然界的生命一样，也是必不可少的。有人大可把人们置于一台气泵下劳动，争辩说他们没有被迫呼吸，只是在运动自己的胳臂和双腿，让头脑只运用于规定的目标，阻止它去思考那些能够唤起自己的尊严，从而给予它活力的许多重要事物。于是，被压抑的作家开始歌功颂德；但是，他们甚至连阿泱奉承的能力都会逐渐衰退，文学最终会丧身于字谜游戏和藏头诗之中。博学之土变成了纯粹的古董收藏家，而即使是这些古董，也会在被镣铐束缚着的手中退化和贬值。艺术家天才的源泉会同哺育自由的惟一手段——对荣耀的向往——一起日渐枯萎；由于他们以为可以孤立存在的事物之间有着某种神秘但却无可争辩的联系，那么人的灵魂一旦受到贬损，他们也就不再具有高尚地描绘人类面貌的天赋了。<br />　　…<br />　　…</p></blockquote><blockquote><p>思想乃万事之本：工业，兵法，以及所有的科学和艺术，都需要运用思想。它是它们进步的原因，通过对这种进步的分析，它也开阔了自己的眼界。如果专横权力试图束缚它，道德观念就会不再健康，实用知识就会不再精确，科学发展就会不再活跃，兵法就会不再进步，工业也不会再有新的发现而繁荣。</p></blockquote><blockquote><p>人类生活最高尚的部分如果受到攻击，很快就会感觉到这种毒害作用逐渐向最遥远的地方蔓延。你以为你只是剥夺了它某些多余的自由，或者删除了某些无用的虚饰，实际上你那有毒的武器正好戳到了它的心脏。<br />　　…</p></blockquote><blockquote><p>各民族历史变迁的真正原因是，人类的思想不可能保持静止不动。如果你不阻挠它，它就会前进；如果你阻挠它，它就会倒退；如果你使它失去信心，它将不再为任何目标进行不知疲倦的操劳。几乎可以说，人类的思想看到自己被排挤出适得其所的地方而感到愤慨，它要通过一次高贵的制裁，为它所蒙受的耻辱复仇。<br />　　…</p></blockquote><blockquote><p>首先，维持一种完全人为的能动性，代价极大。当人人都处于自由状态时，每个人都会兴致勃勃地去做、去说、去写。但是当大多数国民成为被迫保持沉默的旁观者时，为了诱使这些旁观者鼓掌欢呼，或者只是简单地观望，指挥演出的人必须依靠戏剧性情节和场景的转换来刺激他们的好奇心。</p></blockquote><blockquote><p>同时，这种人为的煽动比现实更煞有介事。一切都在运动，但只是迫于命令和威胁；一切都不顺畅，因为没有什么是自发的。人们对政府不是追随，而是服从。所有的车轮遇到最微小的阻碍都会停止转动。这就像下棋一样：权力之手伸向棋子，没有一粒棋子会进行反抗；但是如果那条胳臂停止挥舞，所有的棋子都会呆在原地一动不动。</p></blockquote><blockquote><p>最后，如果一个民族死气沉沉，那么无论政府有什么作为，都不会得到舆论的响应。它不能使国民保持清醒，只好与国民一起进入梦乡。因而，在一个思想被禁锢的民族中，一切都无声无息，一切都在沉沦，一切都在退化和堕落。这样一个帝国早晚会出现埃及平原上的景象，在那里，人们会看到巨大的金字塔静立于贫瘠的地面，统治着寂静的沙漠。”<br />…</p></blockquote><blockquote><p>因而，在一个思想被禁锢的民族中，一切都无声无息，一切都在沉沦，一切都在退化和堕落。这样一个帝国早晚会出现埃及平原上的景象，在那里，人们会看到巨大的金字塔静立于贫瘠的地面，统治着寂静的沙漠。<br /><img width=400 data-src="https://raw.githubusercontent.com/Archaeoraptor/image_resources/ImageofBlog/20190830184422.jpg" alt="picture"/><br />等一个新闻联播大结局</p></blockquote><h4 id="天朝十八怪"><a class="markdownIt-Anchor" href="#天朝十八怪"></a> 天朝十八怪</h4><p><s>来自好友干干</s><br />天朝十八怪：<br />新闻不把评论开，<br />自由言论皆有害，<br />文盲最爱掉书袋,<br />昨天打仗今恋爱，<br />记者全球跑最快，<br />斗争对内不对外，<br />万里火墙永不坏，<br />全民外援勒腰带，<br />让生几胎生几胎，<br />老少边穷吸人才，<br />国外反华心眼坏，<br />小孩倒比大人乖，<br />上梁永远不会歪，<br />战舰出海去买奶，<br />未有人祸全天灾，<br />战狼战友被强拆，<br />富贵夫妻百事哀，<br />太平洋上没锅盖，<br />有关部门随你猜，</p><h4 id="谁活着谁看见"><a class="markdownIt-Anchor" href="#谁活着谁看见"></a> 谁活着，谁看见</h4><p>君不见，李一男，备胎不过是弃子。<br />你我不如等一个新闻联播大结局，<br />君不见，玁狁孔棘<br />啊，朋友再见！</p><h4 id="祝衮衮诸公头颅安好"><a class="markdownIt-Anchor" href="#祝衮衮诸公头颅安好"></a> 祝衮衮诸公，头颅安好</h4><p>维尼修仙，折煞了，满朝文武。<br />看京都，风雨飘摇，再无朗月。<br />二百斤麦子扛得住，莎士比亚看点书。<br />再连任，做了真皇帝，也彳亍。<br />大犬刁，要撒币。吃点土，还要住。<br />看河山，喂饱十四亿饥畜。<br />亦有大盗如习主，八十三天犹在目。<br />会以目，大坝崩渝水，心犹怵。</p><hr /><p>更新：皇后大道东在局域网喜迎全网下架<br />更新：好消息好消息，人间道下架，罗大佑东方之歌和黄霑作词的我的中国心入选70周年百大歌曲，到底想怎样嘛<br />更新：孙小果和怀化事件人心散了啊，打黑打不出当年反腐的舆论效果了啊，压不住可是要出乱子的。当年90年代和二十一世纪初车匪路霸横行的年代，我还小，不记得了，现在怕是又来了。<br />自古皇权不下乡，深圳孙志刚那时也就跟现在湖南差不多，乡贤回潮，欢迎来到六镇之乱和两脚羊的世界。</p><h4 id="推荐阅读"><a class="markdownIt-Anchor" href="#推荐阅读"></a> 推荐阅读</h4><p><span class="exturl" data-url="aHR0cHM6Ly90Lm1lL2FudGlleHRyYWRpdGlvbnZlcmlmaWVkbmV3cw==" title="https://t.me/antiextraditionverifiednews">反送中已核實資訊頻道<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly93d3cuZG91YmFuLmNvbS9ub3RlLzcyMzUwNDU2My8=" title="https://www.douban.com/note/723504563/">请收起你的厌港症<i class="fa fa-external-link"></i></span>  更新：该文章喜提和谐，<span class="exturl" data-url="aHR0cHM6Ly90ZXJtaW51czIwNDkuZ2l0aHViLmlvL2FyY2hpdmUvMjAxOS8wNi8yMy9kaXNncmVlLWFib3V0LWhrLmh0bWw=" title="https://terminus2049.github.io/archive/2019/06/23/disgree-about-hk.html">备份地址<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly90ZXJtaW51czIwNDkuZ2l0aHViLmlvL2FyY2hpdmUvMjAxOC8xMC8zMC9NaW5nLVBhby5odG1s" title="https://terminus2049.github.io/archive/2018/10/30/Ming-Pao.html">1962:进击的明报<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvJUU5JTgwJTgzJUU2JUI4JUFG" title="https://zh.wikipedia.org/wiki/%E9%80%83%E6%B8%AF">大逃港<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly9tZWRpdW0uY29tL0BsZXVuZ2thaWNoaWhrLyVFNSU4RiU4RCVFOSU4MCU4MSVFNCVCOCVBRCVFNyVBRCU5NCVFNSU5NSU4RiVFOSU5QiU4Ni05ODQxOTc0ZDg4OWM=" title="https://medium.com/@leungkaichihk/%E5%8F%8D%E9%80%81%E4%B8%AD%E7%AD%94%E5%95%8F%E9%9B%86-9841974d889c">问答集<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly9xei5jb20vMjc5MDEzL3RoZS1zZWNyZXQtaGlzdG9yeS1vZi1ob25nLWtvbmdzLXN0aWxsYm9ybi1kZW1vY3JhY3kv" title="https://qz.com/279013/the-secret-history-of-hong-kongs-stillborn-democracy/">往事<i class="fa fa-external-link"></i></span><br /><span class="exturl" data-url="aHR0cHM6Ly9tZWRpdW0uY29tL0BsZXVuZ2thaWNoaWhrLyVFOSVBNiU5OSVFNiVCOCVBRiVFNyVBQyVBQyVFNCVCOCU4MCVFOCVBQSVCMi05NDg2YmI0NDM4MWE=" title="https://medium.com/@leungkaichihk/%E9%A6%99%E6%B8%AF%E7%AC%AC%E4%B8%80%E8%AA%B2-9486bb44381a">香港第一课<i class="fa fa-external-link"></i></span> 这一系列写得同样很偏激，但你可以从这里看到部分港人内心的想法<br /><span class="exturl" data-url="aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvTHhwRkxySTItVHFGVGxlbS10M1FoZw==" title="https://mp.weixin.qq.com/s/LxpFLrI2-TqFTlem-t3Qhg">香港学生会是个什么会<i class="fa fa-external-link"></i></span></p><blockquote class="blockquote-center"><p>We think what we see.<br />We be what we think.<br />Secrecy makes us blind.<br />Conformism redacts thoughts.<br />Together they limit human grandeur.</p></blockquote></div>]]></content>
      
      
      <categories>
          
          <category> 杂七杂八 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 杂记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>无题</title>
      <link href="/e5e8/"/>
      <url>/e5e8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p><img data-src="photo_hk1.jpg" alt="null" /></p><blockquote><p>然而我的心很平安；没有爱憎，没有哀乐，也没有颜色和声音</p><p>然而这是许多年前的事了</p></blockquote><a id="more"></a><blockquote><p>然而现在没有星和月光，没有僵坠的蝴蝶以至笑的渺茫，爱的翔舞。然而青年们很平安</p></blockquote><hr /><h2 id="君不见月如水"><a class="markdownIt-Anchor" href="#君不见月如水"></a> 君不见，月如水</h2><p>局域网之外的某些人纪念着三十年，一如一个月前局域网内官方纪念着一百年。昔日书生意气不再，只余残破躯壳，被人拿出来晒干了高高挂起，铸成新的图腾和血色大旗。</p><p>走近一看，这旗帜不见血色，暗淡无光，轻轻一吹，灰尘抖落</p><p>旖旎的生命不见踪影，在大风暴前，不见人哭，不见人笑。韭菜隐约发觉经济不好，电视只道稳中向好；不知大风波又将怎样到来，也不曾拥有灵便的手脚，只能抬头望像乌云聚集的天空。</p><p>怎奈影帝临走前一席话一语成谶，时局至此，正未知几人称帝，几人称王。</p><p><img data-src="pic1.jpg" alt="大清" /></p><blockquote><p>彼黍离离，彼稷之苗。行迈靡靡，中心摇摇。</p></blockquote><p>承平日久十几年了，九十年代入世后的美(xue)好(han)时(gong)光(chang)，也该结束了，新时代，来了。08年四万亿之后，涨价去库存、棚改、15股灾救市、公鸡侧+环保左右出击，带路，那可真是治国鬼才，迪士尼捡到宝了。反正今天这个样子，也没有回头路了。（当然春秋大梦该做还是要做的，梦里啥都有）</p><p>魑魅搏人应见惯，总输他、覆雨翻云手</p><p>皆误在，今日不和，明日不战。鼎之轻重，可问否？</p><blockquote><p>冰与雪，周旋久.</p></blockquote><p>物价闯关，再来一次，不知如何？</p><p>失业和通胀，会是哪个呢？难道…</p><p>尽道丰年瑞，丰年事若何？</p>]]></content>
      
      
      
        <tags>
            
            <tag> 历史 </tag>
            
            <tag> 杂七杂八 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>博客开通</title>
      <link href="/1a9a/"/>
      <url>/1a9a/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>我的新博客开通了，不定期更新</p><a id="more"></a><p>域名到期，之前的wordpress网站不太喜欢，索性用hexo搞个静态网站。</p><p>这个博客主要用来闲扯，本人才疏学浅，虚度廿载光阴，一事无成，偶尔生产bug。</p><blockquote><p>当我沉默着的时候，我觉得充实；我将开口，同时感到空虚</p><p>生命的泥委弃在地面上，不生乔木，只生野草，这是我的罪过</p></blockquote><p><br><br/></p><p><img data-src="/1a9a/cyperpunk.png" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> 杂七杂八 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 杂记 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
